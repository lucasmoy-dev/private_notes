var rn=Object.defineProperty;var sn=(n,e,t)=>e in n?rn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ut=(n,e,t)=>sn(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();const ln="modulepreload",cn=function(n,e){return new URL(n,e).href},fa={},G=function(e,t,a){let o=Promise.resolve();if(t&&t.length>0){const r=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(t.map(c=>{if(c=cn(c,a),c in fa)return;fa[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(!!a)for(let v=r.length-1;v>=0;v--){const y=r[v];if(y.href===c&&(!d||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${m}`))return;const b=document.createElement("link");if(b.rel=d?"stylesheet":ln,d||(b.as="script"),b.crossOrigin="",b.href=c,l&&b.setAttribute("nonce",l),document.head.appendChild(b),d)return new Promise((v,y)=>{b.addEventListener("load",v),b.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(r){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=r,window.dispatchEvent(s),!s.defaultPrevented)throw r}return o.then(r=>{for(const s of r||[])s.status==="rejected"&&i(s.reason);return e().catch(i)})};class T{static async hash(e,t="salt_cloud_notes_2026"){const o=new TextEncoder().encode(e+t),i=await crypto.subtle.digest("SHA-512",o);return Array.from(new Uint8Array(i)).map(s=>s.toString(16).padStart(2,"0")).join("")}static async deriveVaultKey(e){return await this.hash(e,"vault_v3_internal_key")}static async compress(e){const a=new Blob([e]).stream().pipeThrough(new CompressionStream("gzip"));return await new Response(a).arrayBuffer()}static async decompress(e){const a=new Blob([e]).stream().pipeThrough(new DecompressionStream("gzip"));return await new Response(a).text()}static async deriveKey(e,t){const a=new TextEncoder,o=await crypto.subtle.importKey("raw",a.encode(e),{name:"PBKDF2"},!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:a.encode(t),iterations:25e4,hash:"SHA-512"},o,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}static async encrypt(e,t,a={algo:"aes-256-gcm"}){try{const o=crypto.getRandomValues(new Uint8Array(16)),i=crypto.getRandomValues(new Uint8Array(12)),r=await this.deriveKey(t,this.bufToBase64(o)),s=typeof e=="string"?e:JSON.stringify(e),l=await this.compress(s),c=await crypto.subtle.encrypt({name:"AES-GCM",iv:i},r,l);return{payload:this.bufToBase64(new Uint8Array(c)),iv:this.bufToBase64(i),salt:this.bufToBase64(o),algo:a.algo||"aes-256-gcm",compressed:!0,v:"4.0"}}catch(o){throw console.error("[Security] Encryption failed:",o),new Error("No se pudo encriptar la informaciÃ³n")}}static async decrypt(e,t){try{if(!e||!e.payload||!e.iv||!e.salt)throw new Error("Formato de datos encriptados invÃ¡lido");const{payload:a,iv:o,salt:i,compressed:r}=e,s=await this.deriveKey(t,i),l=await crypto.subtle.decrypt({name:"AES-GCM",iv:this.base64ToBuf(o)},s,this.base64ToBuf(a)),c=r?await this.decompress(l):new TextDecoder().decode(l);try{return JSON.parse(c)}catch{return c}}catch(a){throw console.error("[Security] Decryption failed:",a),new Error("ContraseÃ±a incorrecta o datos corruptos")}}static bufToBase64(e){return btoa(String.fromCharCode(...new Uint8Array(e)))}static base64ToBuf(e){return new Uint8Array(atob(e).split("").map(t=>t.charCodeAt(0)))}}const dn=Object.freeze(Object.defineProperty({__proto__:null,SecurityService:T},Symbol.toStringTag,{value:"Module"})),Pa="v3.6.145",un="private-notes",Q=un+"/",g={VAULT_KEY:Q+"vault_key_v3",MASTER_HASH:Q+"master_hash_v3",SETTINGS:Q+"settings_v3",NOTES:Q+"notes_v3",NOTES_ENC:Q+"notes_v3_enc",CATEGORIES:Q+"categories_v3",CATEGORIES_ENC:Q+"categories_v3_enc",BACKUPS:Q+"local_backups_v3",LANG:Q+"lang",BIO_ENABLED:Q+"bio_enabled",REMEMBER_ME:Q+"remember_me_v3",LAST_VERSION:Q+"last_version",PWA_DISMISSED:Q+"pwa_dismissed",SYNCED_REV:Q+"synced_rev",THEME:Q+"theme_v3",DRAFT:Q+"draft_v3",APP_LOCK:Q+"app_lock",DIRECTORY_HANDLE:Q+"directory_handle",LOCAL_SYNC_FOLDER:Q+"local_sync_folder"},We=[{id:"default",light:"#ffffff",dark:"#09090b"},{id:"red",light:"#fef2f2",dark:"#450a0a"},{id:"orange",light:"#fff7ed",dark:"#431407"},{id:"yellow",light:"#fefce8",dark:"#422006"},{id:"green",light:"#f0fdf4",dark:"#064e3b"},{id:"teal",light:"#f0fdfa",dark:"#134e4a"},{id:"blue",light:"#eff6ff",dark:"#1e3a8a"},{id:"darkblue",light:"#eef2ff",dark:"#1e1b4b"},{id:"purple",light:"#faf5ff",dark:"#3b0764"},{id:"pink",light:"#fdf2f8",dark:"#500724"},{id:"brown",light:"#fffaf5",dark:"#2d1a10"},{id:"gold",light:"#fef3c7",dark:"#451a03"},{id:"rose",light:"#fff1f2",dark:"#4c0519"},{id:"indigo",light:"#eef2ff",dark:"#312e81"},{id:"slate",light:"#f1f5f9",dark:"#1e293b"},{id:"gray",light:"#f8fafc",dark:"#0f172a"}],pn=["#ffffff","#f28b82","#fbbc04","#fff475","#ccff90","#a7ffeb","#cbf0f8","#aecbfa","#d7aefb","#fdcfe8","#e6c9a8","#e8eaed","#6366f1","#ec4899","#f43f5e","#10b981","#f59e0b","#06b6d4","#1e293b","#450a0a","#422006","#064e3b","#134e4a","#1e3a8a","#1e1b4b","#4c1d95","#500724","#27272a","#09090b","#312e81"],mn=["ðŸ˜Š","ðŸ˜‚","ðŸ¥°","ðŸ˜Ž","ðŸ¤”","ðŸ˜´","ðŸ”¥","âœ¨","ðŸš€","ðŸŽ‰","â¤ï¸","ðŸ‘","ðŸ’¡","ðŸ“…","âœ…","âŒ","ðŸ”’","ðŸ”‘","ðŸ“Œ","ðŸŽ¨","ðŸ“","ðŸ ","ðŸŒŸ","ðŸŒ","ðŸ’»","ðŸ“±","ðŸŽ","ðŸ•","ðŸº","ðŸŒˆ","â˜€ï¸","ðŸŒ™","âš¡","ðŸ’Ž","ðŸŽ","ðŸŽˆ","ðŸŽµ","ðŸ“·","ðŸ”","ðŸ›¸","ðŸ‘¾","ðŸ¤–","ðŸ‘»","ðŸ¦„","ðŸ¾","ðŸ€","âš½","ðŸš—","âœˆï¸","ðŸ•¹ï¸","ðŸŽ®","ðŸŽ²","ðŸ§©","ðŸŽ­","ðŸŽ¬","ðŸŽ¤","ðŸŽ§","ðŸŽ¹","ðŸŽ¸","ðŸŽ»","ðŸŽº","ðŸŽ·","ðŸ¥","ðŸ¹","ðŸŽ£","ðŸšµ","ðŸ§—","ðŸ§˜","ðŸ›","ðŸ›Œ","ðŸ—ï¸","ðŸ›¡ï¸","âš”ï¸","ðŸ—ºï¸","ðŸ•¯ï¸","âŒ›","âš–ï¸","âš™ï¸","âš’ï¸","ðŸ› ï¸","â›ï¸","â›“ï¸","ðŸ”­","ðŸ”¬","ðŸ’Š","ðŸ’‰","ðŸ§¬","ðŸ©¸","ðŸ§ª","ðŸŒ¡ï¸","ðŸ§´","ðŸ§¹","ðŸ§º","ðŸ§¼","ðŸ§½","ðŸª£","ðŸª’","ðŸ§»","ðŸ›€","ðŸš¿","ðŸš½"],Na=["tag","briefcase","home","user","heart","star","shopping-cart","book","code","coffee","graduation-cap","music","camera","plane","bike","gift","bell","calendar","map-pin","search","folder","database","globe","terminal","cpu","layers","layout","activity","archive","award","bar-chart","bookmark","box","briefcase","check-circle","clock","cloud","compass","edit","external-link","eye","file-text","flag","folder-open","image","info","key","life-buoy","link","list","mail","message-circle","mic","monitor","moon","mouse-pointer","package","paperclip","phone","pie-chart","play","plus","printer","save","send","settings","share-2","shield","shopping-bag","slack","smartphone","speaker","sun","tablet","target","tool","truck","tv","umbrella","video","watch","wifi","zap"];/*! Capacitor: https://capacitorjs.com/ - MIT License */const gn=n=>{const e=new Map;e.set("web",{name:"web"});const t=n.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},a=(i,r)=>{t.platforms.set(i,r)},o=i=>{t.platforms.has(i)&&(t.currentPlatform=t.platforms.get(i))};return t.addPlatform=a,t.setPlatform=o,t},fn=n=>n.CapacitorPlatforms=gn(n),Oa=fn(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});Oa.addPlatform;Oa.setPlatform;var Ze;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(Ze||(Ze={}));class jt extends Error{constructor(e,t,a){super(e),this.message=e,this.code=t,this.data=a}}const hn=n=>{var e,t;return n!=null&&n.androidBridge?"android":!((t=(e=n==null?void 0:n.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},bn=n=>{var e,t,a,o,i;const r=n.CapacitorCustomPlatform||null,s=n.Capacitor||{},l=s.Plugins=s.Plugins||{},c=n.CapacitorPlatforms,d=()=>r!==null?r.name:hn(n),m=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||d,f=()=>m()!=="web",b=((t=c==null?void 0:c.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||f,v=O=>{const $=j.get(O);return!!($!=null&&$.platforms.has(m())||F(O))},y=((a=c==null?void 0:c.currentPlatform)===null||a===void 0?void 0:a.isPluginAvailable)||v,D=O=>{var $;return($=s.PluginHeaders)===null||$===void 0?void 0:$.find(V=>V.name===O)},F=((o=c==null?void 0:c.currentPlatform)===null||o===void 0?void 0:o.getPluginHeader)||D,B=O=>n.console.error(O),H=(O,$,V)=>Promise.reject(`${V} does not have an implementation of "${$}".`),j=new Map,ne=(O,$={})=>{const V=j.get(O);if(V)return console.warn(`Capacitor plugin "${O}" already registered. Cannot register plugins twice.`),V.proxy;const oe=m(),J=F(O);let ee;const ie=async()=>(!ee&&oe in $?ee=typeof $[oe]=="function"?ee=await $[oe]():ee=$[oe]:r!==null&&!ee&&"web"in $&&(ee=typeof $.web=="function"?ee=await $.web():ee=$.web),ee),x=(Y,Z)=>{var le,we;if(J){const xe=J==null?void 0:J.methods.find(he=>Z===he.name);if(xe)return xe.rtype==="promise"?he=>s.nativePromise(O,Z.toString(),he):(he,bt)=>s.nativeCallback(O,Z.toString(),he,bt);if(Y)return(le=Y[Z])===null||le===void 0?void 0:le.bind(Y)}else{if(Y)return(we=Y[Z])===null||we===void 0?void 0:we.bind(Y);throw new jt(`"${O}" plugin is not implemented on ${oe}`,Ze.Unimplemented)}},w=Y=>{let Z;const le=(...we)=>{const xe=ie().then(he=>{const bt=x(he,Y);if(bt){const vt=bt(...we);return Z=vt==null?void 0:vt.remove,vt}else throw new jt(`"${O}.${Y}()" is not implemented on ${oe}`,Ze.Unimplemented)});return Y==="addListener"&&(xe.remove=async()=>Z()),xe};return le.toString=()=>`${Y.toString()}() { [capacitor code] }`,Object.defineProperty(le,"name",{value:Y,writable:!1,configurable:!1}),le},_=w("addListener"),I=w("removeListener"),A=(Y,Z)=>{const le=_({eventName:Y},Z),we=async()=>{const he=await le;I({eventName:Y,callbackId:he},Z)},xe=new Promise(he=>le.then(()=>he({remove:we})));return xe.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await we()},xe},N=new Proxy({},{get(Y,Z){switch(Z){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return J?A:_;case"removeListener":return I;default:return w(Z)}}});return l[O]=N,j.set(O,{name:O,proxy:N,platforms:new Set([...Object.keys($),...J?[oe]:[]])}),N},se=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||ne;return s.convertFileSrc||(s.convertFileSrc=O=>O),s.getPlatform=m,s.handleError=B,s.isNativePlatform=b,s.isPluginAvailable=y,s.pluginMethodNoop=H,s.registerPlugin=se,s.Exception=jt,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},vn=n=>n.Capacitor=bn(n),Tt=vn(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ca=Tt.registerPlugin;Tt.Plugins;class Ra{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){let a=!1;this.listeners[e]||(this.listeners[e]=[],a=!0),this.listeners[e].push(t);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),a&&this.sendRetainedArgumentsForEvent(e);const r=async()=>this.removeListener(e,t);return Promise.resolve({remove:r})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,a){const o=this.listeners[e];if(!o){if(a){let i=this.retainedEventArguments[e];i||(i=[]),i.push(t),this.retainedEventArguments[e]=i}return}o.forEach(i=>i(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:a=>{this.notifyListeners(t,a)}}}unimplemented(e="not implemented"){return new Tt.Exception(e,Ze.Unimplemented)}unavailable(e="not available"){return new Tt.Exception(e,Ze.Unavailable)}async removeListener(e,t){const a=this.listeners[e];if(!a)return;const o=a.indexOf(t);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(a=>{this.notifyListeners(e,a)}))}}const ha=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ba=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class _n extends Ra{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(a=>{if(a.length<=0)return;let[o,i]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=ba(o).trim(),i=ba(i).trim(),t[o]=i}),t}async setCookie(e){try{const t=ha(e.key),a=ha(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),r=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${a||""}${o}; path=${i}; ${r};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}ca("CapacitorCookies",{web:()=>new _n});const yn=async n=>new Promise((e,t)=>{const a=new FileReader;a.onload=()=>{const o=a.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},a.onerror=o=>t(o),a.readAsDataURL(n)}),wn=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(o=>o.toLocaleLowerCase()).reduce((o,i,r)=>(o[i]=n[e[r]],o),{})},xn=(n,e=!0)=>n?Object.entries(n).reduce((a,o)=>{const[i,r]=o;let s,l;return Array.isArray(r)?(l="",r.forEach(c=>{s=e?encodeURIComponent(c):c,l+=`${i}=${s}&`}),l.slice(0,-1)):(s=e?encodeURIComponent(r):r,l=`${i}=${s}`),`${a}&${l}`},"").substr(1):null,En=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),o=wn(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(o.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[r,s]of Object.entries(n.data||{}))i.set(r,s);t.body=i.toString()}else if(o.includes("multipart/form-data")||n.data instanceof FormData){const i=new FormData;if(n.data instanceof FormData)n.data.forEach((s,l)=>{i.append(l,s)});else for(const s of Object.keys(n.data))i.append(s,n.data[s]);t.body=i;const r=new Headers(t.headers);r.delete("content-type"),t.headers=r}else(o.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class Sn extends Ra{async request(e){const t=En(e,e.webFetchExtra),a=xn(e.params,e.shouldEncodeUrlParams),o=a?`${e.url}?${a}`:e.url,i=await fetch(o,t),r=i.headers.get("content-type")||"";let{responseType:s="text"}=i.ok?e:{};r.includes("application/json")&&(s="json");let l,c;switch(s){case"arraybuffer":case"blob":c=await i.blob(),l=await yn(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const d={};return i.headers.forEach((m,f)=>{d[f]=m}),{data:l,headers:d,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}ca("CapacitorHttp",{web:()=>new Sn});var ge;(function(n){n.Documents="DOCUMENTS",n.Data="DATA",n.Library="LIBRARY",n.Cache="CACHE",n.External="EXTERNAL",n.ExternalStorage="EXTERNAL_STORAGE"})(ge||(ge={}));var je;(function(n){n.UTF8="utf8",n.ASCII="ascii",n.UTF16="utf16"})(je||(je={}));const be=ca("Filesystem",{web:()=>G(()=>import("./web-BXLtHMBh.js"),[],import.meta.url).then(n=>new n.FilesystemWeb)}),kn="PrivateNotes";class tt{static getBaseDir(){return localStorage.getItem(g.LOCAL_SYNC_FOLDER)||kn}static async pickFolder(){try{const{FilePicker:e}=await G(async()=>{const{FilePicker:a}=await import("./index-BAl-3uRd.js");return{FilePicker:a}},[],import.meta.url),t=await e.pickDirectories();if(t.directories&&t.directories.length>0){const a=t.directories[0];let o=a.path||"";return o.includes("/Documents/")?o.split("/Documents/")[1]:o&&!o.startsWith("/")&&!o.startsWith("content:")?o:a.name||"PrivateNotes"}return null}catch(e){throw console.error("[Capacitor] Pick folder failed",e),e}}static async connectFolder(e=null){e&&localStorage.setItem(g.LOCAL_SYNC_FOLDER,e);const t=this.getBaseDir();try{if((await be.requestPermissions()).publicStorage!=="granted")throw new Error("Permiso denegado. Habilita el acceso al almacenamiento.");try{await be.mkdir({path:t,directory:ge.Documents,recursive:!0})}catch(o){try{await be.stat({path:t,directory:ge.Documents})}catch(i){throw console.error("[Capacitor] mkdir failed and stat failed",o,i),new Error(`No se pudo acceder a la carpeta "${t}".`)}}return{capacitor:!0,folder:t}}catch(a){throw console.error("[Capacitor] Connection failed",a),a}}static async getHandleStatus(){const e=this.getBaseDir();if(!(localStorage.getItem(g.LOCAL_SYNC_FOLDER)!==null))return{hasHandle:!1,permission:"none"};try{return await be.stat({path:e,directory:ge.Documents}),{hasHandle:!0,permission:"granted",folder:e}}catch{return{hasHandle:!1,permission:"none",folder:e}}}static async pushData(e,t,a,o=null){const i=this.getBaseDir();console.log(`[Capacitor] Pushing data to ${i} (Partial: ${!!o})...`);const r=e.map((d,m)=>({id:d.id,folder:Math.floor(m/500).toString().padStart(3,"0")})),s={categories:t,index:r,updatedAt:Date.now()},l=await T.encrypt(s,a);await this._writeFile("metadata.bin",JSON.stringify(l));const c=o?e.filter(d=>o.includes(d.id)):e;for(const d of c){const m=e.findIndex(D=>D.id===d.id);if(m===-1)continue;const f=Math.floor(m/500).toString().padStart(3,"0"),b=`${i}/notes/${f}`;try{await be.mkdir({path:b,directory:ge.Documents,recursive:!0})}catch{}const v=await T.hash(d.id),y=await T.encrypt(d,a);await be.writeFile({path:`${b}/${v}.bin`,data:JSON.stringify(y),directory:ge.Documents,encoding:je.UTF8})}console.log("[Capacitor] Push complete.")}static async pullData(e){const t=this.getBaseDir();try{try{await be.stat({path:`${t}/metadata.bin`,directory:ge.Documents})}catch{return console.log("[Capacitor] metadata.bin not found, folder might be empty or new."),null}const a=await be.readFile({path:`${t}/metadata.bin`,directory:ge.Documents,encoding:je.UTF8}),o=await T.decrypt(JSON.parse(a.data),e);if(!o||!o.index)return null;const i=[];for(const r of o.index)try{const s=await T.hash(r.id),l=`${t}/notes/${r.folder}/${s}.bin`,c=await be.readFile({path:l,directory:ge.Documents,encoding:je.UTF8}),d=await T.decrypt(JSON.parse(c.data),e);d&&i.push(d)}catch(s){console.warn(`[Capacitor] Failed to load note ${r.id}`,s)}return{notes:i,categories:o.categories||[]}}catch(a){if(console.error("[Capacitor] Pull failed",a),a.message.includes("ContraseÃ±a")||a.message.includes("decrypt"))throw a;return null}}static async getMetadata(e){const t=this.getBaseDir();try{const a=await be.readFile({path:`${t}/metadata.bin`,directory:ge.Documents,encoding:je.UTF8});return await T.decrypt(JSON.parse(a.data),e)}catch{return null}}static async _writeFile(e,t){const a=this.getBaseDir();await be.writeFile({path:`${a}/${e}`,data:t,directory:ge.Documents,encoding:je.UTF8})}static async setFolder(e){localStorage.setItem(g.LOCAL_SYNC_FOLDER,e)}}const Ve=()=>!!window.Capacitor;class Se{static async _openDB(){return new Promise((e,t)=>{const a=indexedDB.open(this.dbName,1);a.onupgradeneeded=()=>{a.result.createObjectStore(this.storeName)},a.onsuccess=()=>e(a.result),a.onerror=()=>t(a.error)})}static async _getHandle(){const a=(await this._openDB()).transaction(this.storeName,"readonly").objectStore(this.storeName);return new Promise(o=>{const i=a.get("root");i.onsuccess=()=>o(i.result)})}static async _setHandle(e){const o=(await this._openDB()).transaction(this.storeName,"readwrite").objectStore(this.storeName);return new Promise(i=>{const r=o.put(e,"root");r.onsuccess=()=>i()})}static async setLocalCache(e,t){const i=(await this._openDB()).transaction(this.storeName,"readwrite").objectStore(this.storeName);return new Promise(r=>{const s=i.put(t,e);s.onsuccess=()=>r()})}static async getLocalCache(e){const o=(await this._openDB()).transaction(this.storeName,"readonly").objectStore(this.storeName);return new Promise(i=>{const r=o.get(e);r.onsuccess=()=>i(r.result)})}static async connectFolder(){if(Ve())try{const e=await tt.connectFolder();return await this._setHandle(e),e}catch(e){throw console.error("[Storage] Capacitor connection failed",e),e}try{const e=await window.showDirectoryPicker({mode:"readwrite"});return await this._setHandle(e),e}catch(e){throw console.error("[Storage] Connection failed",e),e}}static async getHandle(e=!0){const t=await this._getHandle();if(!t)return null;if(Ve())return t;const a={mode:"readwrite"};let o=await t.queryPermission(a);return o==="granted"||e&&(o=await t.requestPermission(a),o==="granted")?t:null}static async getHandleStatus(){if(Ve())return tt.getHandleStatus();const e=await this._getHandle();if(!e)return{hasHandle:!1,permission:"none"};try{return{hasHandle:!0,permission:await e.queryPermission({mode:"readwrite"})}}catch{return{hasHandle:!0,permission:"denied"}}}static async pushData(e,t,a,o=null){if(Ve())return tt.pushData(e,t,a,o);const i=await this.getHandle(!1);if(!i)return;console.log(`[Storage] Pushing data to local folder (Partial: ${!!o})...`);const r=e.map((m,f)=>({id:m.id,folder:Math.floor(f/500).toString().padStart(3,"0")})),s={categories:t,index:r,updatedAt:Date.now()},l=await T.encrypt(s,a);await this._writeFile(i,"metadata.bin",JSON.stringify(l));const c=await i.getDirectoryHandle("notes",{create:!0}),d=o?e.filter(m=>o.includes(m.id)):e;for(const m of d){const f=e.findIndex(F=>F.id===m.id);if(f===-1)continue;const b=Math.floor(f/500).toString().padStart(3,"0"),v=await c.getDirectoryHandle(b,{create:!0}),y=await T.hash(m.id),D=await T.encrypt(m,a);await this._writeFile(v,`${y}.bin`,JSON.stringify(D))}console.log("[Storage] Push complete.")}static async pullData(e){if(Ve())return tt.pullData(e);const t=await this.getHandle();if(!t)return null;try{let a;try{const s=await(await(await t.getFileHandle("metadata.bin")).getFile()).text();a=await T.decrypt(JSON.parse(s),e)}catch{return console.warn("[Storage] metadata.bin not found or invalid. Attempting to rebuild index from files..."),await this.rebuildIndex(e)}if(!a||!a.index)return await this.rebuildIndex(e);const o=await t.getDirectoryHandle("notes"),i=[];for(const r of a.index)try{const s=await o.getDirectoryHandle(r.folder),l=await T.hash(r.id),d=await(await(await s.getFileHandle(`${l}.bin`)).getFile()).text(),m=await T.decrypt(JSON.parse(d),e);m&&i.push(m)}catch(s){console.warn(`[Storage] Failed to load note ${r.id}`,s)}return{notes:i,categories:a.categories||[]}}catch(a){return console.error("[Storage] Pull failed",a),null}}static async getMetadata(e){if(Ve())return tt.getMetadata(e);const t=await this.getHandle(!1);if(!t)return null;try{const o=await(await(await t.getFileHandle("metadata.bin")).getFile()).text();return await T.decrypt(JSON.parse(o),e)}catch{return null}}static async rebuildIndex(e){const t=await this.getHandle();if(!t)return null;try{console.log("[Storage] Rebuilding index by scanning folder...");const a=await t.getDirectoryHandle("notes"),o=[];for await(const i of a.values())if(i.kind==="directory"){for await(const r of i.values())if(r.kind==="file"&&r.name.endsWith(".bin"))try{const l=await(await r.getFile()).text(),c=await T.decrypt(JSON.parse(l),e);c&&o.push(c)}catch{}}return console.log(`[Storage] Rebuild complete. Found ${o.length} notes.`),o.length>0?{notes:o,categories:[]}:null}catch(a){return console.error("[Storage] Rebuild failed",a),null}}static async _writeFile(e,t,a){const i=await(await e.getFileHandle(t,{create:!0})).createWritable();await i.write(a),await i.close()}static async migrateFromCNB(e,t){const a=await e.text(),o=JSON.parse(a),i=await T.decrypt(o,t);if(!i||!i.notes)throw new Error("Invalid backup file");return await this.pushData(i.notes,i.categories||[],t),i}}Ut(Se,"dbName","FileHandleDB"),Ut(Se,"storeName","handles");const Xe=Object.freeze(Object.defineProperty({__proto__:null,FileStorage:Se},Symbol.toStringTag,{value:"Module"})),p={notes:[],categories:[],settings:{theme:"dark",algo:"aes-256-gcm",syncEnabled:!0,lastFolderUpdate:0},currentView:"all",editingNoteId:null,unlockedNotes:new Set,unlockedCategories:new Set};async function U(n=null){const e=sessionStorage.getItem(g.VAULT_KEY)||localStorage.getItem(g.VAULT_KEY);if(e){const t=Date.now()-2592e6,a=new Set;p.notes=p.notes.filter(r=>!r.id||a.has(r.id)?!1:r.deleted?r.updatedAt>t:(a.add(r.id),!0));const o=await T.encrypt(p.notes,e),i=await T.encrypt(p.categories,e);await Se.setLocalCache(g.NOTES_ENC,o),await Se.setLocalCache(g.CATEGORIES_ENC,i),localStorage.removeItem(g.NOTES_ENC),localStorage.removeItem(g.CATEGORIES_ENC),localStorage.removeItem(g.NOTES),localStorage.removeItem(g.CATEGORIES),p.settings.syncEnabled&&Se.pushData(p.notes,p.categories,e,n).then(()=>{p.settings.lastFolderUpdate=Date.now(),localStorage.setItem(g.SETTINGS,JSON.stringify(p.settings))}).catch(r=>{console.error("[Sync] Auto-push failed",r)})}localStorage.setItem(g.SETTINGS,JSON.stringify(p.settings))}async function In(n){try{let e=await Se.getLocalCache(g.NOTES_ENC),t=await Se.getLocalCache(g.CATEGORIES_ENC);if(!e){const a=localStorage.getItem(g.NOTES_ENC);a&&(e=JSON.parse(a),await Se.setLocalCache(g.NOTES_ENC,e),localStorage.removeItem(g.NOTES_ENC))}if(!t){const a=localStorage.getItem(g.CATEGORIES_ENC);a&&(t=JSON.parse(a),await Se.setLocalCache(g.CATEGORIES_ENC,t),localStorage.removeItem(g.CATEGORIES_ENC))}if(e)p.notes=await T.decrypt(e,n);else{const a=localStorage.getItem(g.NOTES);a&&(p.notes=JSON.parse(a))}if(p.notes.length>0&&(p.notes.forEach(a=>{a.createdAt||(a.createdAt=a.updatedAt||Date.now()),a.updatedAt||(a.updatedAt=a.createdAt)}),p.notes.sort((a,o)=>o.createdAt-a.createdAt)),t)p.categories=await T.decrypt(t,n);else{const a=localStorage.getItem(g.CATEGORIES);a&&(p.categories=JSON.parse(a))}}catch(e){throw console.error("Failed to load encrypted data",e),e}}function An(){const n=localStorage.getItem(g.SETTINGS);n&&(p.settings={...p.settings,...JSON.parse(n)})}let De=null;const Ee=()=>!!window.Capacitor;function C(n,e=3e3){const t=document.getElementById("toast");t&&(t.querySelector("div").innerText=n,t.classList.add("show"),setTimeout(()=>t.classList.remove("show"),e))}function Ce(n,e="",t=!1,a=""){return typeof e=="boolean"&&(a=t,t=e,e=""),new Promise(o=>{const i=document.getElementById("prompt-modal"),r=document.getElementById("prompt-input"),s=document.getElementById("prompt-title"),l=document.getElementById("prompt-desc"),c=document.getElementById("prompt-confirm"),d=document.getElementById("prompt-cancel"),m=document.getElementById("prompt-biometric"),f=document.getElementById("prompt-toggle-visibility");if(!i||!r||!s||!c||!d||!m||!f)return console.error("One or more prompt elements not found."),o(null);s.textContent=n,l&&(l.textContent=e,l.classList.toggle("hidden",!e)),r.value=a||"",r.type=t?"password":"text",t?(f.classList.remove("hidden"),r.placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",r.classList.add("text-center","tracking-[0.5em]","font-mono"),f.innerHTML='<i data-lucide="eye"></i>'):(f.classList.add("hidden"),r.placeholder="Type here...",r.classList.remove("text-center","tracking-[0.5em]","font-mono"));const b=localStorage.getItem(g.BIO_ENABLED)==="true";window.PublicKeyCredential&&b&&t?(m.classList.remove("hidden"),setTimeout(()=>{i.classList.contains("hidden")||m.click()},100)):m.classList.add("hidden"),m.onclick=async()=>{De&&De.abort(),De=new AbortController;try{const B=new Uint8Array(32);window.crypto.getRandomValues(B),await navigator.credentials.get({publicKey:{challenge:B,rpId:window.location.hostname,userVerification:"required",timeout:6e4,allowCredentials:[]},signal:De.signal}),De=null,v(),o({biometric:!0})}catch(B){try{if(B.name==="AbortError")return;const H=new Uint8Array(32);window.crypto.getRandomValues(H),await navigator.credentials.create({publicKey:{challenge:H,rp:{name:"Private Notes",id:window.location.hostname},user:{id:new Uint8Array(16),name:"user",displayName:"User"},pubKeyCredParams:[{alg:-7,type:"public-key"}],timeout:6e4,authenticatorSelection:{authenticatorAttachment:"platform"},attestation:"none"},signal:De.signal}),De=null,v(),o({biometric:!0})}catch(H){De=null,console.error("Biometric fallback failed:",H),H.name!=="NotAllowedError"&&H.name!=="AbortError"&&C("âŒ BiometrÃ­a no disponible")}}},f.onclick=()=>{r.type==="password"?(r.type="text",r.classList.remove("tracking-[0.5em]"),f.innerHTML='<i data-lucide="eye-off"></i>'):(r.type="password",r.classList.add("tracking-[0.5em]"),f.innerHTML='<i data-lucide="eye"></i>'),M()},i.classList.remove("hidden"),M(),r.focus();const v=()=>{i.classList.add("hidden"),window.removeEventListener("keydown",y)},y=B=>{B.key==="Enter"&&D(),B.key==="Escape"&&F()};window.addEventListener("keydown",y);const D=()=>{const B=r.value;v(),o(B)},F=()=>{v(),o(null)};document.getElementById("prompt-confirm").onclick=D,document.getElementById("prompt-cancel").onclick=F})}function $t(n){if(!n)return!0;const e=n.replace("#",""),t=parseInt(e.substr(0,2),16),a=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16);return isNaN(t)||isNaN(a)||isNaN(o)?!0:(t*299+a*587+o*114)/1e3<128}function M(){typeof lucide<"u"&&lucide.createIcons&&lucide.createIcons()}const Me=Object.freeze(Object.defineProperty({__proto__:null,isCapacitor:Ee,isColorDark:$t,openPrompt:Ce,safeCreateIcons:M,showToast:C},Symbol.toStringTag,{value:"Module"})),Qt={en:{app_name:"Private Notes",sidebar:{all_notes:"All Notes",tags:"Tags",manage_tags:"Manage Tags",settings:"Settings",install_app:"Install App",system:"System",force_reload:"Force Cleanup & Reload"},header:{search_placeholder:"Search notes...",sync:"Sync Now",install:"Install",new_note:"New Note",view_title_all:"All Notes",view_desc_all:"Organize your thoughts and protect your privacy.",pinned:"Pinned"},notes:{no_notes:"No notes here"},auth:{title:"Protected Vault",desc:"Enter your master password to continue",unlock:"Unlock",setup_title:"Setup your Vault",setup_desc:"Create a master password. Enter it twice to confirm.",setup_folder_title:"Where to store your notes?",setup_folder_desc:"Select a folder to keep your notes synced and encrypted.",setup_folder_btn:"Set Folder",setup_folder_change:"Change Folder",setup_next:"Next",create_vault:"Create my Vault",confirm_pass:"Repeat password",pass_placeholder:"Your password",repeat_placeholder:"Repeat password",remember_me:"Remember my password in this browser",problems:"Problems? Force cleanup & reload",password_mismatch:"âš ï¸ Passwords do not match!",password_short:"Password must be at least 4 chars",vault_created:"âœ… Vault created successfully",vault_opened:"Vault opened",incorrect_pass:"âŒ Incorrect password",setup_pass_first:"âš ï¸ Enter your password first to configure",bio_success:"âœ… Biometrics activated",bio_fail:"âŒ Biometric auth failed",bio_unlock:"Unlock with Biometrics",bio_setup:"Enable Biometrics / FaceID",use_bio:"Use Biometrics / FaceID"},editor:{title_placeholder:"Note Title",content_placeholder:"Start writing...",saving:"Saving...",saved:"Saved",error_save:"Error saving",delete_confirm:"Delete this note?",close_unsaved:"Close without saving?",tools:{bg_color:"Background Color",text_format:"Text Format"},pin:"Pin note",unpin:"Unpin note",lock:"Restrict note",unlock:"Remove restriction"},settings:{title:"Settings",general:"General",sync:"Cloud Sync",security:"Security",danger:"Advanced Actions",theme:"Visual Theme",light:"Light",dark:"Dark",lang:"Language",maintenance:"Maintenance",installed_version:"Installed Version",sync:"Cloud Sync (Local Folder)",local_folder:"Local Folder",connect_folder:"Connect Folder",push_data:"Full Sync (Upload)",pull_data:"Full Sync (Download)",sync_status:{connected:"Connected",disconnected:"Disconnected"},save_changes:"Save Changes",session_security:"Session Security",logout:"Logout",logout_hint:"Logging out clears the access key from memory.",encryption:"Encryption",algo:"Preferred Algorithm",update_algo:"Update Algorithm",app_lock:"App Lock on Resume",app_lock_hint:"Ask for password when returning to the app",reset_app:"Reset Application",reset_warning:"This will permanently delete all local notes and categories.",reset_confirm_label:'To confirm, type "confirm" below:',reset_btn:"Delete all local data",reset_keyword:"confirm"},categories:{title:"Manage Categories",add_new:"New Category",name_placeholder:"Category Name",icon_label:"Icon",color_label:"Color",password_label:"Password (Optional)",password_hint:"Leave empty for no protection",create:"Create Category",edit:"Edit Category",delete:"Delete",save:"Save Category",delete_confirm:"Delete this category? Notes will be kept but untagged.",no_category:"Uncategorized"},common:{cancel:"Cancel",confirm:"Confirm",search:"Search",search_prompt:"Enter search term:",security_prompt:"Security",security_desc_prompt:"Enter password to continue",restricted_access:"Restricted Access",enter_cat_pass:"Enter password for category",write_here:"Write here...",locked:"Protected"},biometrics:{title:"Fingerprint / Face ID",desc:"Use biometrics to unlock your vault quickly",enabled:"Enabled",disabled:"Disabled",enable_btn:"Enable",disable_btn:"Disable",setup_prompt:"Enter your master password to enable biometrics",not_supported:"Your device does not support biometrics",success_enable:"âœ… Biometrics enabled",success_disable:"ðŸ”“ Biometrics disabled",fail_enable:"âŒ Failed to enable biometrics",incorrect_pass:"âŒ Incorrect password"},backups:{title:"Backups",export_btn:"Export Database (.cnb)",import_btn:"Import Database",local_backups:"Local Daily Backups",auto_backup_desc:"The app saves an encrypted copy locally every 24 hours (last 7 days).",no_backups:"No local backups found yet.",delete_all:"Delete all backups",restore:"Restore",confirm_restore:"Are you sure? This will replace all current notes with this backup.",import_success:"âœ… Database imported successfully",import_fail:"âŒ Import failed",export_success:"âœ… Exported successfully"}},es:{app_name:"Notas Privadas",sidebar:{all_notes:"Todas las notas",tags:"CategorÃ­as",manage_tags:"Gestionar CategorÃ­as",settings:"ConfiguraciÃ³n",install_app:"Instalar AplicaciÃ³n",system:"Sistema",force_reload:"Forzar Limpieza y Recarga"},header:{search_placeholder:"Buscar notas...",sync:"Sincronizar",install:"Instalar",new_note:"Nueva Nota",view_title_all:"Todas las notas",view_desc_all:"Organiza tus pensamientos y protege tu privacidad.",pinned:"Destacadas"},notes:{no_notes:"No hay notas aquÃ­"},auth:{title:"BÃ³veda Protegida",desc:"Ingresa tu contraseÃ±a maestra para continuar",unlock:"Desbloquear",setup_title:"Configura tu BÃ³veda",setup_desc:"Crea una contraseÃ±a maestra para proteger tus notas.",setup_folder_title:"Â¿DÃ³nde almacenar tus notas?",setup_folder_desc:"Elige la carpeta donde se guardarÃ¡n tus notas encriptadas.",setup_folder_btn:"Elegir Carpeta",setup_folder_change:"Cambiar Carpeta",setup_next:"Siguiente",create_vault:"Crear mi BÃ³veda",confirm_pass:"Repite la contraseÃ±a",pass_placeholder:"Tu contraseÃ±a",repeat_placeholder:"Repite la contraseÃ±a",remember_me:"Recordar mi contraseÃ±a en este navegador",problems:"Â¿Problemas? Forzar limpieza y recarga",password_mismatch:"âš ï¸ Â¡Las contraseÃ±as no coinciden!",password_short:"La contraseÃ±a debe tener al menos 4 caracteres",vault_created:"âœ… BÃ³veda creada con Ã©xito",vault_opened:"BÃ³veda abierta",incorrect_pass:"âŒ ContraseÃ±a incorrecta",setup_pass_first:"âš ï¸ Ingresa tu contraseÃ±a primero para configurar",bio_success:"âœ… Huella activada",bio_fail:"âŒ AutenticaciÃ³n biomÃ©trica fallida",bio_unlock:"Desbloquear con Huella",bio_setup:"Activar Huella / FaceID",use_bio:"Usar Huella / FaceID"},editor:{title_placeholder:"TÃ­tulo de la nota",content_placeholder:"Empieza a escribir...",saving:"Guardando...",saved:"Guardado",error_save:"Error al guardar",delete_confirm:"Â¿Eliminar esta nota?",close_unsaved:"Â¿Cerrar sin guardar?",tools:{bg_color:"Color de Fondo",text_format:"Formato de Texto"},pin:"Fijar nota",unpin:"Desfijar nota",lock:"Restringir nota",unlock:"Quitar restricciÃ³n"},settings:{title:"ConfiguraciÃ³n",general:"General",sync:"SincronizaciÃ³n Cloud",security:"Seguridad y SesiÃ³n",danger:"Restablecer AplicaciÃ³n",theme:"Tema Visual",light:"Claro",dark:"Oscuro",lang:"Idioma",maintenance:"Mantenimiento",installed_version:"VersiÃ³n Instalada",local_folder:"Carpeta Local",connect_folder:"Conectar Carpeta",push_data:"Sincronizar Todo (Subir)",pull_data:"Sincronizar Todo (Bajar)",sync_status:{connected:"Conectado",disconnected:"Desconectado"},save_changes:"Guardar Cambios",session_security:"Seguridad de la SesiÃ³n",logout:"Cerrar SesiÃ³n",logout_hint:"Cerrar la sesiÃ³n actual eliminarÃ¡ la clave de acceso de la memoria.",encryption:"EncriptaciÃ³n",algo:"Algoritmo preferido",update_algo:"Actualizar Algoritmo",app_lock:"Bloqueo al reanudar",app_lock_hint:"Pedir huella/contraseÃ±a al volver a la app",reset_app:"Restablecer AplicaciÃ³n",reset_warning:"Esta acciÃ³n borrarÃ¡ permanentemente todas las notas y categorÃ­as almacenadas localmente.",reset_confirm_label:'Para confirmar, escribe "confirmar" a continuaciÃ³n:',reset_btn:"Eliminar todos los datos locales",reset_keyword:"confirmar"},categories:{title:"Gestionar CategorÃ­as",add_new:"Nueva CategorÃ­a",name_placeholder:"Nombre de la categorÃ­a",icon_label:"Icono",color_label:"Color",password_label:"ContraseÃ±a (Opcional)",password_hint:"Dejar vacÃ­o para sin protecciÃ³n",create:"Crear CategorÃ­a",edit:"Editar CategorÃ­a",delete:"Eliminar",save:"Guardar CategorÃ­a",delete_confirm:"Â¿Eliminar esta categorÃ­a? Las notas se mantendrÃ¡n pero sin categorÃ­a.",no_category:"Sin categorÃ­a"},common:{cancel:"Cancelar",confirm:"Confirmar",search:"Buscar",search_prompt:"Ingresa tÃ©rmino de bÃºsqueda:",security_prompt:"Seguridad",security_desc_prompt:"Ingresa la contraseÃ±a para continuar",restricted_access:"Acceso Restringido",enter_cat_pass:"Ingresa la contraseÃ±a de la categorÃ­a",write_here:"Escribe aquÃ­...",locked:"Protegida"},biometrics:{title:"Huella / Face ID",desc:"Usa biometrÃ­a para desbloquear tu bÃ³veda rÃ¡pidamente",enabled:"Activado",disabled:"Desactivado",enable_btn:"Activar",disable_btn:"Desactivar",setup_prompt:"Ingresa tu contraseÃ±a maestra para activar la biometrÃ­a",not_supported:"Tu dispositivo no soporta biometrÃ­a",success_enable:"âœ… BiometrÃ­a activada",success_disable:"ðŸ”“ BiometrÃ­a desactivada",fail_enable:"âŒ Error al activar biometrÃ­a",incorrect_pass:"âŒ ContraseÃ±a incorrecta"},backups:{title:"Copias de Seguridad",export_btn:"Exportar Base de Datos (.cnb)",import_btn:"Importar Base de Datos",local_backups:"Copias Diarias Locales",auto_backup_desc:"La app guarda una copia encriptada localmente cada 24 horas (Ãºltimos 7 dÃ­as).",no_backups:"No hay copias locales todavÃ­a.",delete_all:"Borrar todas las copias",restore:"Restaurar",confirm_restore:"Â¿EstÃ¡s seguro? Esto reemplazarÃ¡ todas tus notas actuales por las de la copia.",import_success:"âœ… Base de datos importada con Ã©xito",import_fail:"âŒ Error al importar",export_success:"âœ… Exportado con Ã©xito"}},fr:{app_name:"Notes PrivÃ©es",sidebar:{all_notes:"Toutes les notes",tags:"Ã‰tiquettes",manage_tags:"GÃ©rer les Ã©tiquettes",settings:"ParamÃ¨tres",install_app:"Installer l'application",system:"SystÃ¨me",force_reload:"Forcer le nettoyage"},header:{search_placeholder:"Rechercher...",sync:"Synchroniser",install:"Installer",new_note:"Nouvelle note",view_title_all:"Toutes les notes",view_desc_all:"Organisez vos pensÃ©es et protÃ©gez votre vie privÃ©e.",pinned:"Ã‰pinglÃ©"},notes:{no_notes:"Aucune note ici"},auth:{title:"Coffre ProtÃ©gÃ©",desc:"Entrez votre mot de passe maÃ®tre",unlock:"DÃ©verrouiller",setup_title:"Configurez votre coffre",setup_desc:"CrÃ©ez un mot de passe maÃ®tre.",create_vault:"CrÃ©er mon coffre",confirm_pass:"RÃ©pÃ©tez le mot de passe",pass_placeholder:"Votre mot de passe",repeat_placeholder:"RÃ©pÃ©tez le mot de passe",remember_me:"Se souvenir de moi",problems:"ProblÃ¨mes ? Nettoyer et recharger",password_mismatch:"âš ï¸ Mots de passe diffÃ©rents !",password_short:"Min. 4 caractÃ¨res",vault_created:"âœ… Coffre crÃ©Ã©",vault_opened:"Coffre ouvert",incorrect_pass:"âŒ Mot de passe incorrect",setup_pass_first:"âš ï¸ Entrez votre mot de passe d'abord",bio_success:"âœ… BiomÃ©trie activÃ©e",bio_fail:"âŒ Ã‰chec de la biomÃ©trie",bio_unlock:"DÃ©verrouiller avec biomÃ©trie",bio_setup:"Activer BiomÃ©trie / FaceID",use_bio:"Utiliser BiomÃ©trie / FaceID"},editor:{title_placeholder:"Titre de la note",content_placeholder:"Commencez Ã  Ã©crire...",saving:"Enregistrement...",saved:"EnregistrÃ©",error_save:"Erreur d'enregistrement",delete_confirm:"Supprimer cette note ?",close_unsaved:"Fermer sans enregistrer ?",tools:{bg_color:"Couleur de fond",text_format:"Format du texte"},pin:"Ã‰pingler la note",unpin:"DÃ©sÃ©pingler la note",lock:"Restreindre la note",unlock:"Enlever la restriction"},settings:{title:"ParamÃ¨tres",general:"GÃ©nÃ©ral",sync:"Cloud Sync",security:"SÃ©curitÃ©",danger:"Actions AvancÃ©es",theme:"ThÃ¨me Visuel",light:"Clair",dark:"Sombre",lang:"Langue",maintenance:"Maintenance",installed_version:"Version installÃ©e",sync_status:{connected:"ConnectÃ©",disconnected:"DÃ©connectÃ©"},connect_drive:"Se connecter Ã  Google Drive",drive_folder:"Dossier Drive",drive_folder_hint:"Les notes seront cryptÃ©es dans ce dossier.",notes_per_chunk:"Notes par fichier",notes_per_chunk_hint:"DÃ©finit le nombre de notes par groupe.",save_changes:"Enregistrer",session_security:"SÃ©curitÃ© de session",logout:"DÃ©connexion",logout_hint:"Supprime la clÃ© d'accÃ¨s de la mÃ©moire.",encryption:"Cryptage",algo:"Algorithme prÃ©fÃ©rÃ©",update_algo:"Mettre Ã  jour",reset_app:"RÃ©initialiser",reset_warning:"Ceci supprimera dÃ©finitivement toutes les notes locales.",reset_confirm_label:'Tapez "confirmer" :',reset_btn:"Supprimer tout",reset_keyword:"confirmer"},categories:{title:"GÃ©rer les catÃ©gories",add_new:"Nouvelle catÃ©gorie",name_placeholder:"Nom de la catÃ©gorie",icon_label:"IcÃ´ne",color_label:"Couleur",password_label:"Mot de passe (Optionnel)",password_hint:"Laissez vide pour aucune protection",create:"CrÃ©er",edit:"Modifier",delete:"Supprimer",save:"Enregistrer",delete_confirm:"Supprimer cette catÃ©gorie ?",no_category:"Sans catÃ©gorie"},common:{cancel:"Annuler",confirm:"Confirmer",search:"Rechercher",search_prompt:"Rechercher :",security_prompt:"SÃ©curitÃ©",security_desc_prompt:"Entrez le mot de passe",restricted_access:"AccÃ¨s restreint",enter_cat_pass:"Mot de passe pour",write_here:"Ã‰crivez ici..."},biometrics:{title:"Empreinte / Face ID",desc:"Utilisez la biomÃ©trie pour dÃ©verrouiller",enabled:"ActivÃ©",disabled:"DÃ©sactivÃ©",enable_btn:"Activer",disable_btn:"DÃ©sactiver",setup_prompt:"Mot de passe maÃ®tre pour activer",not_supported:"BiomÃ©trie non supportÃ©e",success_enable:"âœ… BiomÃ©trie activÃ©e",success_disable:"ðŸ”“ BiomÃ©trie dÃ©sactivÃ©e",fail_enable:"âŒ Ã‰chec de l'activation",incorrect_pass:"âŒ Mot de passe incorrect"}},de:{app_name:"Private Notizen",sidebar:{all_notes:"Alle Notizen",tags:"Kategorien",manage_tags:"Kategorien verwalten",settings:"Einstellungen",install_app:"App installieren",system:"System",force_reload:"Bereinigen & Neu laden"},header:{search_placeholder:"Suche...",sync:"Sync",install:"Instal.",new_note:"Neue Notiz",view_title_all:"Alle Notizen",view_desc_all:"Organisiere deine Gedanken privat.",pinned:"Angeheftet"},notes:{no_notes:"Keine Notizen"},auth:{title:"GeschÃ¼tzter Tresor",desc:"Master-Passwort eingeben",unlock:"Entsperren",setup_title:"Tresor einrichten",setup_desc:"Erstelle ein Master-Passwort.",create_vault:"Tresor erstellen",confirm_pass:"Passwort wiederholen",pass_placeholder:"Passwort",repeat_placeholder:"Passwort wiederholen",remember_me:"Angemeldet bleiben",problems:"Probleme? Neu laden",password_mismatch:"âš ï¸ PasswÃ¶rter ungleich!",password_short:"Min. 4 Zeichen",vault_created:"âœ… Tresor erstellt",vault_opened:"Tresor geÃ¶ffnet",incorrect_pass:"âŒ Falsches Passwort",setup_pass_first:"âš ï¸ Passwort zuerst eingeben",bio_success:"âœ… Biometrie aktiv",bio_fail:"âŒ Biometrie fehlgeschlagen",bio_unlock:"Mit Biometrie entsperren",bio_setup:"Biometrie / FaceID aktiv.",use_bio:"Biometrie verwenden"},editor:{title_placeholder:"Titel",content_placeholder:"Schreibe etwas...",saving:"Speichern...",saved:"Gespeichert",error_save:"Fehler beim Speichern",delete_confirm:"Notiz lÃ¶schen?",close_unsaved:"Ohne Speichern schlieÃŸen?",tools:{bg_color:"Hintergrundfarbe",text_format:"Textformat"},pin:"Notiz anheften",unpin:"Notiz lÃ¶sen",lock:"Notiz einschrÃ¤nken",unlock:"EinschrÃ¤nkung aufheben"},settings:{title:"Einstellungen",general:"Allgemein",sync:"Cloud-Sync",security:"Sicherheit",danger:"Erweitert",theme:"Thema",light:"Hell",dark:"Dunkel",lang:"Sprache",maintenance:"Wartung",installed_version:"Version",sync_status:{connected:"Verbunden",disconnected:"Getrennt"},connect_drive:"Mit Google Drive verbinden",drive_folder:"Drive-Ordner",drive_folder_hint:"Notizen werden verschlÃ¼sselt.",notes_per_chunk:"Notizen pro Datei",notes_per_chunk_hint:"Gruppierung der Notizen.",save_changes:"Speichern",session_security:"Sessionsicherheit",logout:"Abmelden",logout_hint:"LÃ¶scht den SchlÃ¼ssel aus dem Speicher.",encryption:"VerschlÃ¼sselung",algo:"Algorithmus",update_algo:"Aktualisieren",reset_app:"ZurÃ¼cksetzen",reset_warning:"LÃ¶scht permanent alle lokalen Daten.",reset_confirm_label:'Tippe "bestÃ¤tigen":',reset_btn:"Alles lÃ¶schen",reset_keyword:"bestÃ¤tigen"},categories:{title:"Kategorien",add_new:"Neue Kategorie",name_placeholder:"Kategoriename",icon_label:"Icon",color_label:"Farbe",password_label:"Passwort (Optional)",password_hint:"Leer lassen fÃ¼r keine Sperre",create:"Erstellen",edit:"Bearbeiten",delete:"LÃ¶schen",save:"Speichern",delete_confirm:"Kategorie lÃ¶schen?",no_category:"Keine Kategorie"},common:{cancel:"Abbrechen",confirm:"BestÃ¤tigen",search:"Suchen",search_prompt:"Suchen:",security_prompt:"Sicherheit",security_desc_prompt:"Passwort eingeben",restricted_access:"Zugriff beschrÃ¤nkt",enter_cat_pass:"Passwort fÃ¼r",write_here:"Schreibe hier..."},biometrics:{title:"FINGERABDRUCK / FACE ID",desc:"Zum schnellen Entsperren",enabled:"Aktiviert",disabled:"Deaktiviert",enable_btn:"Aktivieren",disable_btn:"Deaktivieren",setup_prompt:"Master-Passwort zum Aktivieren",not_supported:"Nicht unterstÃ¼tzt",success_enable:"âœ… Aktiviert",success_disable:"ðŸ”“ Deaktiviert",fail_enable:"âŒ Fehler",incorrect_pass:"âŒ Falsches Passwort"}},it:{app_name:"Note Private",sidebar:{all_notes:"Tutte le note",tags:"Etichette",manage_tags:"Gestisci etichette",settings:"Impostazioni",install_app:"Installa App",system:"Sistema",force_reload:"Forza ricarica"},header:{search_placeholder:"Cerca...",sync:"Sincronizza",install:"Installa",new_note:"Nuova nota",view_title_all:"Tutte le note",view_desc_all:"Organizza i tuoi pensieri privatamente.",pinned:"In evidenza"},notes:{no_notes:"Nessuna nota"},auth:{title:"Cassaforte Protetta",desc:"Inserisci la master password",unlock:"Sblocca",setup_title:"Configura cassaforte",setup_desc:"Crea una master password.",create_vault:"Crea cassaforte",confirm_pass:"Ripeti password",pass_placeholder:"Password",repeat_placeholder:"Ripeti password",remember_me:"Ricordami",problems:"Problemi? Ricarica",password_mismatch:"âš ï¸ Password non corrispondono!",password_short:"Min. 4 caratteri",vault_created:"âœ… Cassaforte creata",vault_opened:"Cassaforte aperta",incorrect_pass:"âŒ Password errata",setup_pass_first:"âš ï¸ Inserisci prima la password",bio_success:"âœ… Biometria attivata",bio_fail:"âŒ Errore biometria",bio_unlock:"Sblocca con biometria",bio_setup:"Attiva Biometria / FaceID",use_bio:"Usa biometria"},editor:{title_placeholder:"Titolo",content_placeholder:"Scrivi qualcosa...",saving:"Salvataggio...",saved:"Salvato",error_save:"Errore salvataggio",delete_confirm:"Elimina nota?",close_unsaved:"Chiudi senza salvare?",tools:{bg_color:"Colore sfondo",text_format:"Formato testo"},pin:"Fissa nota",unpin:"Rimuovi fissaggio",lock:"Restringi nota",unlock:"Rimuovi restrizione"},settings:{title:"Impostazioni",general:"Generale",sync:"Cloud Sync",security:"Sicurezza",danger:"Avanzate",theme:"Tema",light:"Chiaro",dark:"Scuro",lang:"Lingua",appearance:"Appearance",maintenance:"Manutenzione",installed_version:"Versione",local_folder:"Local Folder",connect_folder:"Connect Folder",push_data:"Upload All",pull_data:"Download All",sync_status:{connected:"Connected",disconnected:"Disconnected"},notes_per_chunk:"Note per file",notes_per_chunk_hint:"Note raggruppate per file.",save_changes:"Salva",session_security:"Sicurezza sessione",logout:"Esci",logout_hint:"Rimuove la chiave dalla memoria.",encryption:"Crittografia",algo:"Algoritmo",update_algo:"Aggiorna",reset_app:"Ripristina",reset_warning:"Elimina permanentemente tutti i dati.",reset_confirm_label:'Scrivi "conferma":',reset_btn:"Elimina tutto",reset_keyword:"conferma"},categories:{title:"Categorie",add_new:"Nuova categoria",name_placeholder:"Nome categoria",icon_label:"Icona",color_label:"Colore",password_label:"Password (Opzionale)",password_hint:"Lascia vuoto per nessuna protezione",create:"Crea",edit:"Modifica",delete:"Elimina",save:"Salva",delete_confirm:"Elimina categoria?",no_category:"Senza categoria"},common:{cancel:"Annulla",confirm:"Conferma",search:"Cerca",search_prompt:"Cerca:",security_prompt:"Sicurezza",security_desc_prompt:"Password richiesta",restricted_access:"Accesso limitato",enter_cat_pass:"Password per",write_here:"Scrivi qui..."},biometrics:{title:"IMPRONTA / FACE ID",desc:"Usa biometria per sbloccare rapidamente",enabled:"Attivato",disabled:"Disattivato",enable_btn:"Attiva",disable_btn:"Disattiva",setup_prompt:"Master password per attivare",not_supported:"Non supportato",success_enable:"âœ… Attivato",success_disable:"ðŸ”“ Disattivato",fail_enable:"âŒ Errore",incorrect_pass:"âŒ Password errata"}},pt:{app_name:"Notas Privadas",sidebar:{all_notes:"Todas as notas",tags:"Etiquetas",manage_tags:"Gerir etiquetas",settings:"ConfiguraÃ§Ãµes",install_app:"Instalar App",system:"Sistema",force_reload:"ForÃ§ar limpeza"},header:{search_placeholder:"Pesquisar...",sync:"Sincronizar",install:"Instalar",new_note:"Nova nota",view_title_all:"Todas as notas",view_desc_all:"Organize seus pensamentos com privacidade.",pinned:"Fixadas"},notes:{no_notes:"Nenhuma nota aqui"},auth:{title:"Cofre Protegido",desc:"Digite sua senha mestra",unlock:"Desbloquear",setup_title:"Configure seu cofre",setup_desc:"Crie uma senha mestra.",create_vault:"Criar cofre",confirm_pass:"Repetir senha",pass_placeholder:"Sua senha",repeat_placeholder:"Repetir senha",remember_me:"Lembrar-me",problems:"Problemas? Recarregar",password_mismatch:"âš ï¸ Senhas nÃ£o coincidem!",password_short:"MÃ­n. 4 caracteres",vault_created:"âœ… Cofre criado",vault_opened:"Cofre aberto",incorrect_pass:"âŒ Senha incorreta",setup_pass_first:"âš ï¸ Digite sua senha primeiro",bio_success:"âœ… Biometria ativada",bio_fail:"âŒ Erro na biometria",bio_unlock:"Desbloquear com biometria",bio_setup:"Ativar Biometria / FaceID",use_bio:"Usar biometria"},editor:{title_placeholder:"TÃ­tulo",content_placeholder:"Comece a escrever...",saving:"A guardar...",saved:"Guardado",error_save:"Erro ao guardar",delete_confirm:"Eliminar esta nota?",close_unsaved:"Fechar sem guardar?",tools:{bg_color:"Cor de fundo",text_format:"Formato de texto"},pin:"Fixar nota",unpin:"Desafixar nota",lock:"Restringir nota",unlock:"Remover restriÃ§Ã£o"},settings:{title:"ConfiguraÃ§Ãµes",general:"Geral",sync:"Cloud Sync",security:"SeguranÃ§a",danger:"AvanÃ§ado",theme:"Tema",light:"Claro",dark:"Escuro",lang:"Idioma",appearance:"Apariencia",maintenance:"ManutenÃ§Ã£o",installed_version:"VersÃ£o",local_folder:"Carpeta Local",connect_folder:"Conectar Carpeta",push_data:"Subir Todo",pull_data:"Bajar Todo",sync_status:{connected:"Conectado",disconnected:"Desconectado"},notes_per_chunk:"Notas por ficheiro",notes_per_chunk_hint:"Notas agrupadas por ficheiro.",save_changes:"Guardar",session_security:"SeguranÃ§a de sessÃ£o",logout:"Esci",logout_hint:"Remove a chave da memÃ³ria.",encryption:"EncriptaÃ§Ã£o",algo:"Algoritmo",update_algo:"Atualizar",reset_app:"Repor",reset_warning:"Elimina permanentemente todos os dados.",reset_confirm_label:'Escreva "confirmar":',reset_btn:"Eliminar tudo",reset_keyword:"confirmar"},categories:{title:"Categorias",add_new:"Nova categoria",name_placeholder:"Nome da categoria",icon_label:"Ãcone",color_label:"Cor",password_label:"Senha (Opcional)",password_hint:"Deixe vazio para sem proteÃ§Ã£o",create:"Criar",edit:"Editar",delete:"Eliminar",save:"Guardar",delete_confirm:"Eliminar categoria?",no_category:"Sem categoria"},common:{cancel:"Cancelar",confirm:"Confirmar",search:"Pesquisar",search_prompt:"Pesquisar:",security_prompt:"SeguranÃ§a",security_desc_prompt:"Digite a senha",restricted_access:"Acesso restrito",enter_cat_pass:"Senha para",write_here:"Escreva aqui..."},biometrics:{title:"IMPRESSÃƒO DIGITAL / FACE ID",desc:"Use biometria para desbloqueio rÃ¡pido",enabled:"Ativado",disabled:"Desativado",enable_btn:"Ativar",disable_btn:"Desativar",setup_prompt:"Senha mestra para ativar",not_supported:"NÃ£o suportado",success_enable:"âœ… Ativado",success_disable:"ðŸ”“ Desativado",fail_enable:"âŒ Erro",incorrect_pass:"âŒ Senha incorreta"}},ru:{app_name:"Ð›Ð¸Ñ‡Ð½Ñ‹Ðµ Ð·Ð°Ð¼ÐµÑ‚ÐºÐ¸",sidebar:{all_notes:"Ð’ÑÐµ Ð·Ð°Ð¼ÐµÑ‚ÐºÐ¸",tags:"ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸",manage_tags:"Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ¼Ð¸",settings:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",install_app:"Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ",system:"Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð°",force_reload:"ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ð¸ Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°"},header:{search_placeholder:"ÐŸÐ¾Ð¸ÑÐº Ð·Ð°Ð¼ÐµÑ‚Ð¾Ðº...",sync:"Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",install:"Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ",new_note:"ÐÐ¾Ð²Ð°Ñ Ð·Ð°Ð¼ÐµÑ‚ÐºÐ°",view_title_all:"Ð’ÑÐµ Ð·Ð°Ð¼ÐµÑ‚ÐºÐ¸",view_desc_all:"ÐžÑ€Ð³Ð°Ð½Ð¸Ð·ÑƒÐ¹Ñ‚Ðµ Ð¼Ñ‹ÑÐ»Ð¸ Ð¸ Ð·Ð°Ñ‰Ð¸Ñ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ.",pinned:"Ð—Ð°ÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð½Ñ‹Ðµ"},notes:{no_notes:"Ð—Ð°Ð¼ÐµÑ‚Ð¾Ðº Ð¿Ð¾ÐºÐ° Ð½ÐµÑ‚"},auth:{title:"Ð—Ð°Ñ‰Ð¸Ñ‰ÐµÐ½Ð½Ð¾Ðµ Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ",desc:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¼Ð°ÑÑ‚ÐµÑ€-Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",unlock:"Ð Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",setup_title:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ð°",setup_desc:"Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð¼Ð°ÑÑ‚ÐµÑ€-Ð¿Ð°Ñ€Ð¾Ð»ÑŒ.",create_vault:"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ",confirm_pass:"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",pass_placeholder:"Ð’Ð°Ñˆ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",repeat_placeholder:"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",remember_me:"Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚ÑŒ Ð¼ÐµÐ½Ñ",problems:"ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹? ÐžÑ‡Ð¸ÑÑ‚ÐºÐ°",password_mismatch:"âš ï¸ ÐŸÐ°Ñ€Ð¾Ð»Ð¸ Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‚!",password_short:"ÐœÐ¸Ð½. 4 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°",vault_created:"âœ… Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¾",vault_opened:"Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾",incorrect_pass:"âŒ ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",setup_pass_first:"âš ï¸ Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",bio_success:"âœ… Ð‘Ð¸Ð¾Ð¼ÐµÑ‚Ñ€Ð¸Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð°",bio_fail:"âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð±Ð¸Ð¾Ð¼ÐµÑ‚Ñ€Ð¸Ð¸",bio_unlock:"Ð Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð±Ð¸Ð¾Ð¼ÐµÑ‚Ñ€Ð¸ÐµÐ¹",bio_setup:"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð‘Ð¸Ð¾Ð¼ÐµÑ‚Ñ€Ð¸ÑŽ / FaceID",use_bio:"Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð±Ð¸Ð¾Ð¼ÐµÑ‚Ñ€Ð¸ÑŽ"},editor:{title_placeholder:"Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº",content_placeholder:"ÐÐ°Ñ‡Ð½Ð¸Ñ‚Ðµ Ð¿Ð¸ÑÐ°Ñ‚ÑŒ...",saving:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ...",saved:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¾",error_save:"ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ",delete_confirm:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÑ‚Ñƒ Ð·Ð°Ð¼ÐµÑ‚ÐºÑƒ?",close_unsaved:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð±ÐµÐ· ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ?",tools:{bg_color:"Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°",text_format:"Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ñ‚ÐµÐºÑÑ‚Ð°"}},settings:{title:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",general:"ÐžÐ±Ñ‰Ð¸Ðµ",sync:"ÐžÐ±Ð»Ð°Ñ‡Ð½Ð°Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ",security:"Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ",danger:"ÐžÐ¿Ð°ÑÐ½Ð°Ñ Ð·Ð¾Ð½Ð°",theme:"Ð¢ÐµÐ¼Ð°",light:"Ð¡Ð²ÐµÑ‚Ð»Ð°Ñ",dark:"Ð¢ÐµÐ¼Ð½Ð°Ñ",lang:"Ð¯Ð·Ñ‹Ðº",maintenance:"ÐžÐ±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ",installed_version:"Ð’ÐµÑ€ÑÐ¸Ñ",sync_status:{connected:"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾",disconnected:"ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾"},connect_drive:"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Google Drive",drive_folder:"ÐŸÐ°Ð¿ÐºÐ° Ð½Ð° Ð”Ð¸ÑÐºÐµ",drive_folder_hint:"Ð—Ð°Ð¼ÐµÑ‚ÐºÐ¸ Ð±ÑƒÐ´ÑƒÑ‚ Ð·Ð°ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ñ‹ Ð² ÑÑ‚Ð¾Ð¹ Ð¿Ð°Ð¿ÐºÐµ.",notes_per_chunk:"Ð—Ð°Ð¼ÐµÑ‚Ð¾Ðº Ð² Ñ„Ð°Ð¹Ð»Ðµ",notes_per_chunk_hint:"ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð·Ð°Ð¼ÐµÑ‚Ð¾Ðº Ð² Ð¾Ð´Ð½Ð¾Ð¹ Ð³Ñ€ÑƒÐ¿Ð¿Ðµ.",save_changes:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ",session_security:"Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ ÑÐµÑÑÐ¸Ð¸",logout:"Ð’Ñ‹Ð¹Ñ‚Ð¸",logout_hint:"Ð£Ð´Ð°Ð»ÑÐµÑ‚ ÐºÐ»ÑŽÑ‡ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ð¸Ð· Ð¿Ð°Ð¼ÑÑ‚Ð¸.",encryption:"Ð¨Ð¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ",algo:"ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼",update_algo:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ",reset_app:"Ð¡Ð±Ñ€Ð¾Ñ",reset_warning:"Ð£Ð´Ð°Ð»ÑÐµÑ‚ Ð²ÑÐµ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð½Ð°Ð²ÑÐµÐ³Ð´Ð°.",reset_confirm_label:'Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ "confirm":',reset_btn:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð²ÑÑ‘",reset_keyword:"confirm"},categories:{title:"ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸",add_new:"ÐÐ¾Ð²Ð°Ñ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ",name_placeholder:"Ð˜Ð¼Ñ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸",icon_label:"Ð˜ÐºÐ¾Ð½ÐºÐ°",color_label:"Ð¦Ð²ÐµÑ‚",password_label:"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ (Ð¾Ð¿Ñ†Ð¸Ñ)",password_hint:"ÐžÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð¿ÑƒÑÑ‚Ñ‹Ð¼ Ð´Ð»Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ð±ÐµÐ· Ð¿Ð°Ñ€Ð¾Ð»Ñ",create:"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ",edit:"Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ",delete:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ",save:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ",delete_confirm:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑŽ?",no_category:"Ð‘ÐµÐ· ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸"},common:{cancel:"ÐžÑ‚Ð¼ÐµÐ½Ð°",confirm:"ÐžÐš",search:"ÐŸÐ¾Ð¸ÑÐº",search_prompt:"Ð˜ÑÐºÐ°Ñ‚ÑŒ:",security_prompt:"Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ",security_desc_prompt:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",restricted_access:"ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð½Ñ‹Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿",enter_cat_pass:"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð´Ð»Ñ",write_here:"ÐŸÐ¸ÑˆÐ¸Ñ‚Ðµ Ð·Ð´ÐµÑÑŒ..."},biometrics:{title:"ÐžÐ¢ÐŸÐ•Ð§ÐÐ¢ÐžÐš / FACE ID",desc:"Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð±Ð¸Ð¾Ð¼ÐµÑ‚Ñ€Ð¸ÑŽ Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð²Ñ…Ð¾Ð´Ð°",enabled:"Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð°",disabled:"Ð’Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½Ð°",enable_btn:"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ",disable_btn:"Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ",setup_prompt:"ÐœÐ°ÑÑ‚ÐµÑ€-Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð´Ð»Ñ Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ð¸",not_supported:"ÐÐµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ",success_enable:"âœ… Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾",success_disable:"ðŸ”“ Ð’Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾",fail_enable:"âŒ ÐžÑˆÐ¸Ð±ÐºÐ°",incorrect_pass:"âŒ ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ"}},zh:{app_name:"ç§å¯†ç¬”è®°",sidebar:{all_notes:"æ‰€æœ‰ç¬”è®°",tags:"åˆ†ç±»",manage_tags:"ç®¡ç†åˆ†ç±»",settings:"è®¾ç½®",install_app:"å®‰è£…åº”ç”¨",system:"ç³»ç»Ÿ",force_reload:"æ¸…é™¤å¹¶é‡æ–°åŠ è½½"},header:{search_placeholder:"æœç´¢ç¬”è®°...",sync:"åŒæ­¥",install:"å®‰è£…",new_note:"æ–°å»ºç¬”è®°",view_title_all:"æ‰€æœ‰ç¬”è®°",view_desc_all:"æ•´ç†æ€ç»ªï¼Œä¿æŠ¤éšç§ã€‚",pinned:"å·²å›ºå®š"},notes:{no_notes:"æš‚æ— ç¬”è®°"},auth:{title:"åŠ å¯†ä¿é™©åº“",desc:"è¯·è¾“å…¥ä¸»å¯†ç ",unlock:"è§£é”",setup_title:"è®¾ç½®ä¿é™©åº“",setup_desc:"åˆ›å»ºä¸€ä¸ªä¸»å¯†ç ã€‚",create_vault:"åˆ›å»ºä¿é™©åº“",confirm_pass:"ç¡®è®¤å¯†ç ",pass_placeholder:"æ‚¨çš„å¯†ç ",repeat_placeholder:"ç¡®è®¤å¯†ç ",remember_me:"è®°ä½å¯†ç ",problems:"æœ‰é—®é¢˜ï¼Ÿå¼ºåˆ¶é‡è½½",password_mismatch:"âš ï¸ å¯†ç ä¸åŒ¹é…ï¼",password_short:"å¯†ç è‡³å°‘ 4 ä½",vault_created:"âœ… ä¿é™©åº“åˆ›å»ºæˆåŠŸ",vault_opened:"ä¿é™©åº“å·²å¼€å¯",incorrect_pass:"âŒ å¯†ç é”™è¯¯",setup_pass_first:"âš ï¸ è¯·å…ˆè¾“å…¥å¯†ç ä»¥è®¾ç½®",bio_success:"âœ… ç”Ÿç‰©è¯†åˆ«å·²å¼€å¯",bio_fail:"âŒ ç”Ÿç‰©è¯†åˆ«å¤±è´¥",bio_unlock:"ç”Ÿç‰©è¯†åˆ«è§£é”",bio_setup:"å¯ç”¨ç”Ÿç‰©è¯†åˆ« / FaceID",use_bio:"ä½¿ç”¨ç”Ÿç‰©è¯†åˆ«"},editor:{title_placeholder:"ç¬”è®°æ ‡é¢˜",content_placeholder:"å¼€å§‹é€šè¿‡è¿™é‡Œè®°å½•...",saving:"ä¿å­˜ä¸­...",saved:"å·²ä¿å­˜",error_save:"ä¿å­˜å¤±è´¥",delete_confirm:"åˆ é™¤æ­¤ç¬”è®°ï¼Ÿ",close_unsaved:"æœªä¿å­˜ï¼Œç¡®è®¤å…³é—­ï¼Ÿ",tools:{bg_color:"èƒŒæ™¯é¢œè‰²",text_format:"æ–‡æœ¬æ ¼å¼"}},settings:{title:"è®¾ç½®",general:"å¸¸è§„",sync:"äº‘ç«¯åŒæ­¥",security:"å®‰å…¨",danger:"å±é™©åŒºåŸŸ",theme:"ä¸»é¢˜",light:"æµ…è‰²",dark:"æ·±è‰²",lang:"è¯­è¨€",maintenance:"ç»´æŠ¤",installed_version:"å®‰è£…ç‰ˆæœ¬",sync_status:{connected:"å·²è¿žæŽ¥",disconnected:"æœªè¿žæŽ¥"},connect_drive:"è¿žæŽ¥ Google Drive",drive_folder:"Drive æ–‡ä»¶å¤¹å",drive_folder_hint:"ç¬”è®°å°†åœ¨æ­¤æ–‡ä»¶å¤¹å†…åŠ å¯†ã€‚",notes_per_chunk:"æ¯æ–‡ä»¶ç¬”è®°æ•°",notes_per_chunk_hint:"æ¯ä¸ªç»„åŒ…å«çš„ç¬”è®°æ•°é‡ã€‚",save_changes:"ä¿å­˜æ›´æ”¹",session_security:"ä¼šè¯å®‰å…¨",logout:"é€€å‡ºç™»å½•",logout_hint:"é€€å‡ºå°†ä»Žå†…å­˜ä¸­æ¸…é™¤è®¿é—®å¯†é’¥ã€‚",encryption:"åŠ å¯†",algo:"é¦–é€‰ç®—æ³•",update_algo:"æ›´æ–°ç®—æ³•",reset_app:"é‡ç½®åº”ç”¨",reset_warning:"è¿™å°†æ°¸ä¹…åˆ é™¤æ‰€æœ‰æœ¬åœ°ç¬”è®°å’Œåˆ†ç±»ã€‚",reset_confirm_label:'ç¡®è®¤è¯·åœ¨ä¸‹æ–¹è¾“å…¥ "confirm":',reset_btn:"åˆ é™¤æ‰€æœ‰æœ¬åœ°æ•°æ®",reset_keyword:"confirm"},categories:{title:"ç®¡ç†åˆ†ç±»",add_new:"æ–°åˆ†ç±»",name_placeholder:"åˆ†ç±»åç§°",icon_label:"å›¾æ ‡",color_label:"é¢œè‰²",password_label:"å¯†ç  (å¯é€‰)",password_hint:"ç•™ç©ºè¡¨ç¤ºä¸ä¿æŠ¤",create:"åˆ›å»ºåˆ†ç±»",edit:"ç¼–è¾‘åˆ†ç±»",delete:"åˆ é™¤",save:"ä¿å­˜åˆ†ç±»",delete_confirm:"åˆ é™¤æ­¤åˆ†ç±»ï¼Ÿç¬”è®°å°†ä¿ç•™ä½†å–æ¶ˆåˆ†ç±»ã€‚",no_category:"æœªåˆ†ç±»"},common:{cancel:"å–æ¶ˆ",confirm:"ç¡®å®š",search:"æœç´¢",search_prompt:"è¾“å…¥æœç´¢å†…å®¹:",security_prompt:"å®‰å…¨",security_desc_prompt:"è¯·è¾“å…¥å¯†ç ä»¥ç»§ç»­",restricted_access:"å—é™è®¿é—®",enter_cat_pass:"è¯·è¾“å…¥å¯†ç ï¼š",write_here:"åœ¨æ­¤è¾“å…¥..."},biometrics:{title:"æŒ‡çº¹ / Face ID",desc:"ä½¿ç”¨ç”Ÿç‰©è¯†åˆ«å¿«é€Ÿè§£é”",enabled:"å·²å¯ç”¨",disabled:"å·²ç¦ç”¨",enable_btn:"å¯ç”¨",disable_btn:"ç¦ç”¨",setup_prompt:"è¾“å…¥ä¸»å¯†ç ä»¥å¯ç”¨",not_supported:"æ‚¨çš„è®¾å¤‡ä¸æ”¯æŒç”Ÿç‰©è¯†åˆ«",success_enable:"âœ… å·²å¯ç”¨ç”Ÿç‰©è¯†åˆ«",success_disable:"ðŸ”“ å·²ç¦ç”¨ç”Ÿç‰©è¯†åˆ«",fail_enable:"âŒ å¯ç”¨å¤±è´¥",incorrect_pass:"âŒ å¯†ç é”™è¯¯"}},ja:{app_name:"ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒŽãƒ¼ãƒˆ",sidebar:{all_notes:"ã™ã¹ã¦ã®ãƒŽãƒ¼ãƒˆ",tags:"ã‚«ãƒ†ã‚´ãƒª",manage_tags:"ã‚«ãƒ†ã‚´ãƒªç®¡ç†",settings:"è¨­å®š",install_app:"ã‚¢ãƒ—ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«",system:"ã‚·ã‚¹ãƒ†ãƒ ",force_reload:"ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã¨ãƒªãƒ­ãƒ¼ãƒ‰"},header:{search_placeholder:"ãƒŽãƒ¼ãƒˆã‚’æ¤œç´¢...",sync:"åŒæœŸ",install:"ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«",new_note:"æ–°è¦ãƒŽãƒ¼ãƒˆ",view_title_all:"ã™ã¹ã¦ã®ãƒŽãƒ¼ãƒˆ",view_desc_all:"è€ƒãˆã‚’æ•´ç†ã—ã€ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚’å®ˆã‚Šã¾ã™ã€‚",pinned:"ãƒ”ãƒ³ç•™ã‚"},notes:{no_notes:"ãƒŽãƒ¼ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“"},auth:{title:"ä¿è­·ã•ã‚ŒãŸä¿ç®¡åº«",desc:"ãƒžã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",unlock:"ãƒ­ãƒƒã‚¯è§£é™¤",setup_title:"ä¿ç®¡åº«ã®è¨­å®š",setup_desc:"ãƒžã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚",create_vault:"ä¿ç®¡åº«ã‚’ä½œæˆ",confirm_pass:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ç¢ºèª",pass_placeholder:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",repeat_placeholder:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ç¢ºèª",remember_me:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä¿å­˜ã™ã‚‹",problems:"å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã‹ï¼Ÿå¼·åˆ¶ãƒªãƒ­ãƒ¼ãƒ‰",password_mismatch:"âš ï¸ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“ï¼",password_short:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯4æ–‡å­—ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™",vault_created:"âœ… ä¿ç®¡åº«ãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã¾ã—ãŸ",vault_opened:"ä¿ç®¡åº«ãŒé–‹ãã¾ã—ãŸ",incorrect_pass:"âŒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™",setup_pass_first:"âš ï¸ æœ€åˆã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦è¨­å®šã—ã¦ãã ã•ã„",bio_success:"âœ… ç”Ÿä½“èªè¨¼ãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã—ãŸ",bio_fail:"âŒ ç”Ÿä½“èªè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸ",bio_unlock:"ç”Ÿä½“èªè¨¼ã§è§£é™¤",bio_setup:"ç”Ÿä½“èªè¨¼ / FaceIDã‚’æœ‰åŠ¹ã«ã™ã‚‹",use_bio:"ç”Ÿä½“èªè¨¼ã‚’ä½¿ç”¨ã™ã‚‹"},editor:{title_placeholder:"ã‚¿ã‚¤ãƒˆãƒ«",content_placeholder:"ã“ã“ã‹ã‚‰æ›¸ãè¾¼ã¿...",saving:"ä¿å­˜ä¸­...",saved:"ä¿å­˜æ¸ˆã¿",error_save:"ä¿å­˜ã‚¨ãƒ©ãƒ¼",delete_confirm:"ã“ã®ãƒŽãƒ¼ãƒˆã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ",close_unsaved:"ä¿å­˜ã›ãšã«é–‰ã˜ã¾ã™ã‹ï¼Ÿ",tools:{bg_color:"èƒŒæ™¯è‰²",text_format:"ãƒ†ã‚­ã‚¹ãƒˆå½¢å¼"}},settings:{title:"è¨­å®š",general:"å…¨èˆ¬",sync:"ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸ",security:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£",danger:"è©³ç´°è¨­å®š",theme:"ãƒ†ãƒ¼ãƒž",light:"ãƒ©ã‚¤ãƒˆ",dark:"ãƒ€ãƒ¼ã‚¯",lang:"è¨€èªž",maintenance:"ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹",installed_version:"ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³",sync_status:{connected:"æŽ¥ç¶šæ¸ˆã¿",disconnected:"åˆ‡æ–­æ¸ˆã¿"},connect_drive:"Google ãƒ‰ãƒ©ã‚¤ãƒ–ã«æŽ¥ç¶š",drive_folder:"ãƒ‰ãƒ©ã‚¤ãƒ–ã®ãƒ•ã‚©ãƒ«ãƒ€å",drive_folder_hint:"ãƒŽãƒ¼ãƒˆã¯ã“ã®ãƒ•ã‚©ãƒ«ãƒ€å†…ã«æš—å·åŒ–ã•ã‚Œã¦ä¿å­˜ã•ã‚Œã¾ã™ã€‚",notes_per_chunk:"ãƒ•ã‚¡ã‚¤ãƒ«ã‚ãŸã‚Šã®ãƒŽãƒ¼ãƒˆæ•°",notes_per_chunk_hint:"1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚Œã‚‹ãƒŽãƒ¼ãƒˆã®æ•°ã€‚",save_changes:"å¤‰æ›´ã‚’ä¿å­˜",session_security:"ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£",logout:"ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ",logout_hint:"ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã™ã‚‹ã¨ãƒ¡ãƒ¢ãƒªã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ãŒå‰Šé™¤ã•ã‚Œã¾ã™ã€‚",encryption:"æš—å·åŒ–",algo:"æŽ¨å¥¨ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ",update_algo:"ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æ›´æ–°",reset_app:"ã‚¢ãƒ—ãƒªã‚’ãƒªã‚»ãƒƒãƒˆ",reset_warning:"ã™ã¹ã¦ã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒŽãƒ¼ãƒˆã¨ã‚«ãƒ†ã‚´ãƒªãŒå®Œå…¨ã«å‰Šé™¤ã•ã‚Œã¾ã™ã€‚",reset_confirm_label:'ç¢ºèªã®ãŸã‚ã€ä¸‹ã« "confirm" ã¨å…¥åŠ›ã—ã¦ãã ã•ã„:',reset_btn:"ã™ã¹ã¦ã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤",reset_keyword:"confirm"},categories:{title:"ã‚«ãƒ†ã‚´ãƒªã‚’ç®¡ç†",add_new:"æ–°ã—ã„ã‚«ãƒ†ã‚´ãƒª",name_placeholder:"ã‚«ãƒ†ã‚´ãƒªå",icon_label:"ã‚¢ã‚¤ã‚³ãƒ³",color_label:"ã‚«ãƒ©ãƒ¼",password_label:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆä»»æ„ï¼‰",password_hint:"ä¿è­·ã—ãªã„å ´åˆã¯ç©ºæ¬„ã«ã—ã¦ãã ã•ã„",create:"ã‚«ãƒ†ã‚´ãƒªã‚’ä½œæˆ",edit:"ã‚«ãƒ†ã‚´ãƒªã‚’ç·¨é›†",delete:"å‰Šé™¤",save:"ã‚«ãƒ†ã‚´ãƒªã‚’ä¿å­˜",delete_confirm:"ã“ã®ã‚«ãƒ†ã‚´ãƒªã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼ŸãƒŽãƒ¼ãƒˆã¯æ®‹ã‚Šã¾ã™ãŒã€ã‚¿ã‚°ãŒå¤–ã‚Œã¾ã™ã€‚",no_category:"æœªåˆ†é¡ž"},common:{cancel:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",confirm:"OK",search:"æ¤œç´¢",search_prompt:"æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›:",security_prompt:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£",security_desc_prompt:"ç¶šè¡Œã™ã‚‹ã«ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",restricted_access:"åˆ¶é™ä»˜ãã‚¢ã‚¯ã‚»ã‚¹",enter_cat_pass:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼š",write_here:"ã“ã“ã«å…¥åŠ›..."},biometrics:{title:"æŒ‡ç´‹ / Face ID",desc:"ç”Ÿä½“èªè¨¼ã‚’ä½¿ç”¨ã—ã¦ç´ æ—©ããƒ­ãƒƒã‚¯è§£é™¤",enabled:"æœ‰åŠ¹",disabled:"ç„¡åŠ¹",enable_btn:"æœ‰åŠ¹ã«ã™ã‚‹",disable_btn:"ç„¡åŠ¹ã«ã™ã‚‹",setup_prompt:"æœ‰åŠ¹ã«ã™ã‚‹ãŸã‚ã«ãƒžã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",not_supported:"ãŠä½¿ã„ã®ãƒ‡ãƒã‚¤ã‚¹ã¯ç”Ÿä½“èªè¨¼ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“",success_enable:"âœ… ç”Ÿä½“èªè¨¼ãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã—ãŸ",success_disable:"ðŸ”“ ç”Ÿä½“èªè¨¼ãŒç„¡åŠ¹ã«ãªã‚Šã¾ã—ãŸ",fail_enable:"âŒ æœ‰åŠ¹åŒ–ã«å¤±æ•—ã—ã¾ã—ãŸ",incorrect_pass:"âŒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™"}},ko:{app_name:"ë¹„ê³µê°œ ë…¸íŠ¸",sidebar:{all_notes:"ëª¨ë“  ë…¸íŠ¸",tags:"ì¹´í…Œê³ ë¦¬",manage_tags:"ì¹´í…Œê³ ë¦¬ ê´€ë¦¬",settings:"ì„¤ì •",install_app:"ì•± ì„¤ì¹˜",system:"ì‹œìŠ¤í…œ",force_reload:"ì •ë¦¬ ë° ìƒˆë¡œê³ ì¹¨"},header:{search_placeholder:"ë…¸íŠ¸ ê²€ìƒ‰...",sync:"ë™ê¸°í™”",install:"ì„¤ì¹˜",new_note:"ìƒˆ ë…¸íŠ¸",view_title_all:"ëª¨ë“  ë…¸íŠ¸",view_desc_all:"ìƒê°ì„ ì •ë¦¬í•˜ê³  í”„ë¼ì´ë²„ì‹œë¥¼ ë³´í˜¸í•˜ì„¸ìš”.",pinned:"ê³ ì •ë¨"},notes:{no_notes:"ë…¸íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤"},auth:{title:"ë³´í˜¸ëœ ë³´ê´€í•¨",desc:"ë§ˆìŠ¤í„° ë¹„ë°€ë²ˆí˜¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”",unlock:"ìž ê¸ˆ í•´ì œ",setup_title:"ë³´ê´€í•¨ ì„¤ì •",setup_desc:"ë§ˆìŠ¤í„° ë¹„ë°€ë²ˆí˜¸ë¥¼ ìƒì„±í•˜ì„¸ìš”.",create_vault:"ë³´ê´€í•¨ ìƒì„±",confirm_pass:"ë¹„ë°€ë²ˆí˜¸ í™•ì¸",pass_placeholder:"ë¹„ë°€ë²ˆí˜¸",repeat_placeholder:"ë¹„ë°€ë²ˆí˜¸ í™•ì¸",remember_me:"ë¹„ë°€ë²ˆí˜¸ ì €ìž¥",problems:"ë¬¸ì œê°€ ìžˆë‚˜ìš”? ê°•ì œ ìƒˆë¡œê³ ì¹¨",password_mismatch:"âš ï¸ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤!",password_short:"ë¹„ë°€ë²ˆí˜¸ëŠ” 4ìž ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤",vault_created:"âœ… ë³´ê´€í•¨ ìƒì„± ì™„ë£Œ",vault_opened:"ë³´ê´€í•¨ ì—´ë¦¼",incorrect_pass:"âŒ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤",setup_pass_first:"âš ï¸ ë¨¼ì € ë¹„ë°€ë²ˆí˜¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”",bio_success:"âœ… ìƒì²´ ì¸ì¦ í™œì„±í™”",bio_fail:"âŒ ìƒì²´ ì¸ì¦ ì‹¤íŒ¨",bio_unlock:"ìƒì²´ ì¸ì¦ìœ¼ë¡œ ìž ê¸ˆ í•´ì œ",bio_setup:"ìƒì²´ ì¸ì¦ / FaceID í™œì„±í™”",use_bio:"ìƒì²´ ì¸ì¦ ì‚¬ìš©"},editor:{title_placeholder:"ë…¸íŠ¸ ì œëª©",content_placeholder:"ê¸€ì“°ê¸° ì‹œìž‘...",saving:"ì €ìž¥ ì¤‘...",saved:"ì €ìž¥ë¨",error_save:"ì €ìž¥ ì˜¤ë¥˜",delete_confirm:"ì´ ë…¸íŠ¸ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",close_unsaved:"ì €ìž¥í•˜ì§€ ì•Šê³  ë‹«ìœ¼ì‹œê² ìŠµë‹ˆê¹Œ?",tools:{bg_color:"ë°°ê²½ìƒ‰",text_format:"í…ìŠ¤íŠ¸ í˜•ì‹"}},settings:{title:"ì„¤ì •",general:"ì¼ë°˜",sync:"í´ë¼ìš°ë“œ ë™ê¸°í™”",security:"ë³´ì•ˆ",danger:"ê³ ê¸‰ ìž‘ì—…",theme:"í…Œë§ˆ",light:"ë¼ì´íŠ¸",dark:"ë‹¤í¬",lang:"ì–¸ì–´",maintenance:"ìœ ì§€ ê´€ë¦¬",installed_version:"ì„¤ì¹˜ëœ ë²„ì „",sync_status:{connected:"ì—°ê²°ë¨",disconnected:"ì—°ê²° ëŠê¹€"},connect_drive:"Google ë“œë¼ì´ë¸Œ ì—°ê²°",drive_folder:"ë“œë¼ì´ë¸Œ í´ë” ì´ë¦„",drive_folder_hint:"ë…¸íŠ¸ëŠ” ì´ í´ë” ì•ˆì— ì•”í˜¸í™”ë˜ì–´ ì €ìž¥ë©ë‹ˆë‹¤.",notes_per_chunk:"íŒŒì¼ë‹¹ ë…¸íŠ¸ ìˆ˜",notes_per_chunk_hint:"í•œ íŒŒì¼ì— ê·¸ë£¹í™”í•  ë…¸íŠ¸ ìˆ˜ìž…ë‹ˆë‹¤.",save_changes:"ë³€ê²½ ì‚¬í•­ ì €ìž¥",session_security:"ì„¸ì…˜ ë³´ì•ˆ",logout:"ë¡œê·¸ì•„ì›ƒ",logout_hint:"ë©”ëª¨ë¦¬ì—ì„œ ì•¡ì„¸ìŠ¤ í‚¤ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.",encryption:"ì•”í˜¸í™”",algo:"ê¶Œìž¥ ì•Œê³ ë¦¬ì¦˜",update_algo:"ì•Œê³ ë¦¬ì¦˜ ì—…ë°ì´íŠ¸",reset_app:"ì•± ì´ˆê¸°í™”",reset_warning:"ëª¨ë“  ë…¸íŠ¸ì™€ ì¹´í…Œê³ ë¦¬ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤.",reset_confirm_label:'í™•ì¸ì„ ìœ„í•´ ì•„ëž˜ì— "í™•ì¸"ì„ ìž…ë ¥í•˜ì„¸ìš”:',reset_btn:"ëª¨ë“  ë°ì´í„° ì‚­ì œ",reset_keyword:"í™•ì¸"},categories:{title:"ì¹´í…Œê³ ë¦¬ ê´€ë¦¬",add_new:"ìƒˆ ì¹´í…Œê³ ë¦¬",name_placeholder:"ì¹´í…Œê³ ë¦¬ ì´ë¦„",icon_label:"ì•„ì´ì½˜",color_label:"ìƒ‰ìƒ",password_label:"ë¹„ë°€ë²ˆí˜¸ (ì„ íƒ ì‚¬í•­)",password_hint:"ë³´í˜¸ê°€ í•„ìš” ì—†ìœ¼ë©´ ë¹„ì›Œ ë‘ì„¸ìš”",create:"ì¹´í…Œê³ ë¦¬ ìƒì„±",edit:"ì¹´í…Œê³ ë¦¬ íŽ¸ì§‘",delete:"ì‚­ì œ",save:"ì¹´í…Œê³ ë¦¬ ì €ìž¥",delete_confirm:"ì´ ì¹´í…Œê³ ë¦¬ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ë…¸íŠ¸ëŠ” ìœ ì§€ë˜ì§€ë§Œ ë¶„ë¥˜ê°€ í•´ì œë©ë‹ˆë‹¤.",no_category:"ë¯¸ë¶„ë¥˜"},common:{cancel:"ì·¨ì†Œ",confirm:"í™•ì¸",search:"ê²€ìƒ‰",search_prompt:"ê²€ìƒ‰ì–´ ìž…ë ¥:",security_prompt:"ë³´ì•ˆ",security_desc_prompt:"ê³„ì†í•˜ë ¤ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”",restricted_access:"ì•¡ì„¸ìŠ¤ ì œí•œ",enter_cat_pass:"ë¹„ë°€ë²ˆí˜¸ ìž…ë ¥:",write_here:"ì—¬ê¸°ì— ìž‘ì„±..."},biometrics:{title:"ì§€ë¬¸ / Face ID",desc:"ìƒì²´ ì¸ì¦ì„ ì‚¬ìš©í•˜ì—¬ ë¹ ë¥´ê²Œ ìž ê¸ˆ í•´ì œ",enabled:"í™œì„±í™”ë¨",disabled:"ë¹„í™œì„±í™”ë¨",enable_btn:"í™œì„±í™”",disable_btn:"ë¹„í™œì„±í™”",setup_prompt:"í™œì„±í™”ë¥¼ ìœ„í•´ ë§ˆìŠ¤í„° ë¹„ë°€ë²ˆí˜¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”",not_supported:"ìž¥ì¹˜ì—ì„œ ìƒì²´ ì¸ì¦ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤",success_enable:"âœ… ìƒì²´ ì¸ì¦ í™œì„±í™”ë¨",success_disable:"ðŸ”“ ìƒì²´ ì¸ì¦ ë¹„í™œì„±í™”ë¨",fail_enable:"âŒ í™œì„±í™” ì‹¤íŒ¨",incorrect_pass:"âŒ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤"}},ar:{app_name:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®Ø§ØµØ©",sidebar:{all_notes:"ÙƒÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª",tags:"Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª",manage_tags:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª",settings:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",install_app:"ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚",system:"Ø§Ù„Ù†Ø¸Ø§Ù…",force_reload:"ØªÙ†Ø¸ÙŠÙ ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„"},header:{search_placeholder:"Ø¨Ø­Ø« Ø¹Ù† Ù…Ù„Ø§Ø­Ø¸Ø§Øª...",sync:"Ù…Ø²Ø§Ù…Ù†Ø©",install:"ØªØ«Ø¨ÙŠØª",new_note:"Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©",view_title_all:"ÙƒÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª",view_desc_all:"Ù†Ø¸Ù… Ø£ÙÙƒØ§Ø±Ùƒ ÙˆØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø®ØµÙˆØµÙŠØªÙƒ.",pinned:"Ù…Ø«Ø¨ØªØ©"},notes:{no_notes:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª"},auth:{title:"Ø®Ø²Ù†Ø© Ù…Ø­Ù…ÙŠØ©",desc:"Ø£Ø¯Ø®Ù„ ÙƒÙ…Ù„Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",unlock:"ÙØªØ­ Ø§Ù„Ù‚ÙÙ„",setup_title:"Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø®Ø²Ù†Ø©",setup_desc:"Ø£Ù†Ø´Ø¦ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø±Ø¦ÙŠØ³ÙŠØ©.",create_vault:"Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø®Ø²Ù†Ø©",confirm_pass:"ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",pass_placeholder:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",repeat_placeholder:"ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",remember_me:"ØªØ°ÙƒØ± Ù‡ÙˆÙŠØªÙŠ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØµÙØ­",problems:"Ù‡Ù„ ØªÙˆØ§Ø¬Ù‡ Ù…Ø´Ø§ÙƒÙ„ØŸ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ù‚Ø³Ø±ÙŠØ©",password_mismatch:"âš ï¸ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©!",password_short:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 4 Ø±Ù…ÙˆØ² Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„",vault_created:"âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø®Ø²Ù†Ø© Ø¨Ù†Ø¬Ø§Ø­",vault_opened:"ØªÙ… ÙØªØ­ Ø§Ù„Ø®Ø²Ù†Ø©",incorrect_pass:"âŒ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©",setup_pass_first:"âš ï¸ Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø£ÙˆÙ„Ø§Ù‹ Ù„Ù„ØªÙ‡ÙŠØ¦Ø©",bio_success:"âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨ØµÙ…Ø©",bio_fail:"âŒ ÙØ´Ù„Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ø¨ÙŠÙˆÙ…ØªØ±ÙŠØ©",bio_unlock:"ÙØªØ­ Ø§Ù„Ù‚ÙÙ„ Ø¨Ø§Ù„Ø¨ØµÙ…Ø©",bio_setup:"ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨ØµÙ…Ø© / FaceID",use_bio:"Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ØµÙ…Ø©"},editor:{title_placeholder:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©",content_placeholder:"Ø¨Ø¯Ø¡ Ø§Ù„ÙƒØªØ§Ø¨Ø©...",saving:"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...",saved:"ØªÙ… Ø§Ù„Ø­ÙØ¸",error_save:"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸",delete_confirm:"Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©ØŸ",close_unsaved:"Ø¥ØºÙ„Ø§Ù‚ Ø¨Ø¯ÙˆÙ† Ø­ÙØ¸ØŸ",tools:{bg_color:"Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ©",text_format:"ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ"}},settings:{title:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",general:"Ø¹Ø§Ù…",sync:"Ù…Ø²Ø§Ù…Ù†Ø© Ø³Ø­Ø§Ø¨ÙŠØ©",security:"Ø§Ù„Ø£Ù…Ø§Ù†",danger:"Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©",theme:"Ø§Ù„Ù…Ø¸Ù‡Ø±",light:"ÙØ§ØªØ­",dark:"Ø¯Ø§ÙƒÙ†",lang:"Ø§Ù„Ù„ØºØ©",maintenance:"Ø§Ù„ØµÙŠØ§Ù†Ø©",installed_version:"Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…Ø«Ø¨Øª",sync_status:{connected:"Ù…ØªØµÙ„",disconnected:"ØºÙŠØ± Ù…ØªØµÙ„"},connect_drive:"Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø¬ÙˆØ¬Ù„ Ø¯Ø±Ø§ÙŠÙ",drive_folder:"Ø§Ø³Ù… Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø¯Ø±Ø§ÙŠÙ",drive_folder_hint:"Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø³ØªÙƒÙˆÙ† Ù…Ø´ÙØ±Ø© Ø¯Ø§Ø®Ù„ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¬Ù„Ø¯.",notes_per_chunk:"Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù„ÙƒÙ„ Ù…Ù„Ù",notes_per_chunk_hint:"ÙŠØ­Ø¯Ø¯ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…Ø¬Ù…Ø¹Ø© ÙÙŠ ÙƒÙ„ Ù…Ù„Ù.",save_changes:"Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª",session_security:"Ø£Ù…Ø§Ù† Ø§Ù„Ø¬Ù„Ø³Ø©",logout:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",logout_hint:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ ÙŠÙ…Ø³Ø­ Ù…ÙØªØ§Ø­ Ø§Ù„ÙˆØµÙˆÙ„ Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø©.",encryption:"Ø§Ù„ØªØ´ÙÙŠØ±",algo:"Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ø§Ù„Ù…ÙØ¶Ù„Ø©",update_algo:"ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ©",reset_app:"Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„ØªØ·Ø¨ÙŠÙ‚",reset_warning:"Ø³ÙŠØ¤Ø¯ÙŠ Ù‡Ø°Ø§ Ø¥Ù„Ù‰ Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙˆØ§Ù„ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹.",reset_confirm_label:'Ù„Ù„ØªØ£ÙƒÙŠØ¯ØŒ Ø§ÙƒØªØ¨ "ØªØ£ÙƒÙŠØ¯" Ø£Ø¯Ù†Ø§Ù‡:',reset_btn:"Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©",reset_keyword:"ØªØ£ÙƒÙŠØ¯"},categories:{title:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª",add_new:"ØªØµÙ†ÙŠÙ Ø¬Ø¯ÙŠØ¯",name_placeholder:"Ø§Ø³Ù… Ø§Ù„ØªØµÙ†ÙŠÙ",icon_label:"Ø£ÙŠÙ‚ÙˆÙ†Ø©",color_label:"Ù„ÙˆÙ†",password_label:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",password_hint:"Ø§ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºØ§Ù‹ Ù„Ø¹Ø¯Ù… Ø­Ù…Ø§ÙŠØ©",create:"Ø¥Ù†Ø´Ø§Ø¡ ØªØµÙ†ÙŠÙ",edit:"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªØµÙ†ÙŠÙ",delete:"Ø­Ø°Ù",save:"Ø­ÙØ¸ Ø§Ù„ØªØµÙ†ÙŠÙ",delete_confirm:"Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ†ÙŠÙØŸ Ø³ØªØ¨Ù‚Ù‰ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙˆÙ„ÙƒÙ† Ø¨Ø¯ÙˆÙ† ÙˆØ³Ù….",no_category:"ØºÙŠØ± Ù…ØµÙ†Ù"},common:{cancel:"Ø¥Ù„ØºØ§Ø¡",confirm:"ØªØ£ÙƒÙŠØ¯",search:"Ø¨Ø­Ø«",search_prompt:"Ø£Ø¯Ø®Ù„ Ù…ØµØ·Ù„Ø­ Ø§Ù„Ø¨Ø­Ø«:",security_prompt:"Ø§Ù„Ø£Ù…Ø§Ù†",security_desc_prompt:"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©",restricted_access:"ÙˆØµÙˆÙ„ Ù…Ù‚ÙŠØ¯",enter_cat_pass:"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù€",write_here:"Ø§ÙƒØªØ¨ Ù‡Ù†Ø§..."},biometrics:{title:"Ø§Ù„Ø¨ØµÙ…Ø© / Face ID",desc:"Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨ØµÙ…Ø© Ù„ÙØªØ­ Ø§Ù„Ø®Ø²Ù†Ø© Ø¨Ø³Ø±Ø¹Ø©",enabled:"Ù…ÙØ¹Ù„",disabled:"Ù…Ø¹Ø·Ù„",enable_btn:"ØªÙØ¹ÙŠÙ„",disable_btn:"ØªØ¹Ø·ÙŠÙ„",setup_prompt:"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨ØµÙ…Ø©",not_supported:"Ø¬Ù‡Ø§Ø²Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¨ØµÙ…Ø©",success_enable:"âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨ØµÙ…Ø©",success_disable:"ðŸ”“ ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø¨ØµÙ…Ø©",fail_enable:"âŒ ÙØ´Ù„ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨ØµÙ…Ø©",incorrect_pass:"âŒ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©"}},hi:{app_name:"à¤¨à¤¿à¤œà¥€ à¤¨à¥‹à¤Ÿà¥à¤¸",sidebar:{all_notes:"à¤¸à¤­à¥€ à¤¨à¥‹à¤Ÿà¥à¤¸",tags:"à¤¶à¥à¤°à¥‡à¤£à¤¿à¤¯à¤¾à¤",manage_tags:"à¤¶à¥à¤°à¥‡à¤£à¤¿à¤¯à¤¾à¤ à¤ªà¥à¤°à¤¬à¤‚à¤§à¤¿à¤¤ à¤•à¤°à¥‡à¤‚",settings:"à¤¸à¥‡à¤Ÿà¤¿à¤‚à¤—à¥à¤¸",install_app:"à¤à¤ª à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤² à¤•à¤°à¥‡à¤‚",system:"à¤¸à¤¿à¤¸à¥à¤Ÿà¤®",force_reload:"à¤•à¥à¤²à¥€à¤¨à¤…à¤ª à¤”à¤° à¤°à¥€à¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚"},header:{search_placeholder:"à¤¨à¥‹à¤Ÿà¥à¤¸ à¤–à¥‹à¤œà¥‡à¤‚...",sync:"à¤¸à¤¿à¤‚à¤• à¤•à¤°à¥‡à¤‚",install:"à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤²",new_note:"à¤¨à¤¯à¤¾ à¤¨à¥‹à¤Ÿ",view_title_all:"à¤¸à¤­à¥€ à¤¨à¥‹à¤Ÿà¥à¤¸",view_desc_all:"à¤…à¤ªà¤¨à¥‡ à¤µà¤¿à¤šà¤¾à¤°à¥‹à¤‚ à¤•à¥‹ à¤µà¥à¤¯à¤µà¤¸à¥à¤¥à¤¿à¤¤ à¤•à¤°à¥‡à¤‚ à¤”à¤° à¤—à¥‹à¤ªà¤¨à¥€à¤¯à¤¤à¤¾ à¤¬à¤¨à¤¾à¤ à¤°à¤–à¥‡à¤‚à¥¤",pinned:"à¤ªà¤¿à¤¨ à¤•à¤¿à¤ à¤—à¤"},notes:{no_notes:"à¤¯à¤¹à¤¾à¤ à¤•à¥‹à¤ˆ à¤¨à¥‹à¤Ÿà¥à¤¸ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¤‚"},auth:{title:"à¤¸à¥à¤°à¤•à¥à¤·à¤¿à¤¤ à¤µà¥‰à¤²à¥à¤Ÿ",desc:"à¤…à¤ªà¤¨à¤¾ à¤®à¤¾à¤¸à¥à¤Ÿà¤° à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",unlock:"à¤…à¤¨à¤²à¥‰à¤• à¤•à¤°à¥‡à¤‚",setup_title:"à¤…à¤ªà¤¨à¤¾ à¤µà¥‰à¤²à¥à¤Ÿ à¤¸à¥‡à¤Ÿà¤…à¤ª à¤•à¤°à¥‡à¤‚",setup_desc:"à¤à¤• à¤®à¤¾à¤¸à¥à¤Ÿà¤° à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤¬à¤¨à¤¾à¤à¤à¥¤",create_vault:"à¤µà¥‰à¤²à¥à¤Ÿ à¤¬à¤¨à¤¾à¤à¤",confirm_pass:"à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤¦à¥‹à¤¹à¤°à¤¾à¤à¤",pass_placeholder:"à¤†à¤ªà¤•à¤¾ à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡",repeat_placeholder:"à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤¦à¥‹à¤¹à¤°à¤¾à¤à¤",remember_me:"à¤®à¥‡à¤°à¤¾ à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤¯à¤¾à¤¦ à¤°à¤–à¥‡à¤‚",problems:"à¤¸à¤®à¤¸à¥à¤¯à¤¾? à¤•à¥à¤²à¥€à¤¨à¤…à¤ª à¤”à¤° à¤°à¥€à¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚",password_mismatch:"âš ï¸ à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤®à¥‡à¤² à¤¨à¤¹à¥€à¤‚ à¤–à¤¾à¤¤à¥‡!",password_short:"à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤•à¤® à¤¸à¥‡ à¤•à¤® 4 à¤µà¤°à¥à¤£à¥‹à¤‚ à¤•à¤¾ à¤¹à¥‹à¤¨à¤¾ à¤šà¤¾à¤¹à¤¿à¤",vault_created:"âœ… à¤µà¥‰à¤²à¥à¤Ÿ à¤¸à¤«à¤²à¤¤à¤¾à¤ªà¥‚à¤°à¥à¤µà¤• à¤¬à¤¨à¤¾à¤¯à¤¾ à¤—à¤¯à¤¾",vault_opened:"à¤µà¥‰à¤²à¥à¤Ÿ à¤–à¥‹à¤²à¤¾ à¤—à¤¯à¤¾",incorrect_pass:"âŒ à¤—à¤²à¤¤ à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡",setup_pass_first:"âš ï¸ à¤¸à¥‡à¤Ÿà¤…à¤ª à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤ªà¤¹à¤²à¥‡ à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",bio_success:"âœ… à¤¬à¤¾à¤¯à¥‹à¤®à¥‡à¤Ÿà¥à¤°à¤¿à¤•à¥à¤¸ à¤¸à¤•à¥à¤°à¤¿à¤¯",bio_fail:"âŒ à¤¬à¤¾à¤¯à¥‹à¤®à¥‡à¤Ÿà¥à¤°à¤¿à¤• à¤ªà¥à¤°à¤®à¤¾à¤£à¥€à¤•à¤°à¤£ à¤µà¤¿à¤«à¤²",bio_unlock:"à¤¬à¤¾à¤¯à¥‹à¤®à¥‡à¤Ÿà¥à¤°à¤¿à¤•à¥à¤¸ à¤¸à¥‡ à¤…à¤¨à¤²à¥‰à¤• à¤•à¤°à¥‡à¤‚",bio_setup:"à¤¬à¤¾à¤¯à¥‹à¤®à¥‡à¤Ÿà¥à¤°à¤¿à¤•à¥à¤¸ / FaceID à¤¸à¤•à¥à¤·à¤® à¤•à¤°à¥‡à¤‚",use_bio:"à¤¬à¤¾à¤¯à¥‹à¤®à¥‡à¤Ÿà¥à¤°à¤¿à¤•à¥à¤¸ à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤°à¥‡à¤‚"},editor:{title_placeholder:"à¤¨à¥‹à¤Ÿ à¤•à¤¾ à¤¶à¥€à¤°à¥à¤·à¤•",content_placeholder:"à¤²à¤¿à¤–à¤¨à¤¾ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚...",saving:"à¤¸à¤¹à¥‡à¤œ à¤°à¤¹à¤¾ à¤¹à¥ˆ...",saved:"à¤¸à¤¹à¥‡à¤œà¤¾ à¤—à¤¯à¤¾",error_save:"à¤¸à¤¹à¥‡à¤œà¤¨à¥‡ à¤®à¥‡à¤‚ à¤¤à¥à¤°à¥à¤Ÿà¤¿",delete_confirm:"à¤‡à¤¸ à¤¨à¥‹à¤Ÿ à¤•à¥‹ à¤¹à¤Ÿà¤¾à¤à¤?",close_unsaved:"à¤¬à¤¿à¤¨à¤¾ à¤¸à¤¹à¥‡à¤œà¥‡ à¤¬à¤‚à¤¦ à¤•à¤°à¥‡à¤‚?",tools:{bg_color:"à¤ªà¥ƒà¤·à¥à¤ à¤­à¥‚à¤®à¤¿ à¤•à¤¾ à¤°à¤‚à¤—",text_format:"à¤Ÿà¥‡à¤•à¥à¤¸à¥à¤Ÿ à¤«à¥‰à¤°à¥à¤®à¥‡à¤Ÿ"}},settings:{title:"à¤¸à¥‡à¤Ÿà¤¿à¤‚à¤—à¥à¤¸",general:"à¤¸à¤¾à¤®à¤¾à¤¨à¥à¤¯",sync:"à¤•à¥à¤²à¤¾à¤‰à¤¡ à¤¸à¤¿à¤‚à¤•",security:"à¤¸à¥à¤°à¤•à¥à¤·à¤¾",danger:"à¤‰à¤¨à¥à¤¨à¤¤ à¤•à¤¾à¤°à¥à¤°à¤µà¤¾à¤‡à¤¯à¤¾à¤",theme:"à¤µà¤¿à¥›à¥à¤…à¤² à¤¥à¥€à¤®",light:"à¤²à¤¾à¤‡à¤Ÿ",dark:"à¤¡à¤¾à¤°à¥à¤•",lang:"à¤­à¤¾à¤·à¤¾",maintenance:"à¤°à¤–à¤°à¤–à¤¾à¤µ",installed_version:"à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤² à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾ à¤µà¤°à¥à¥›à¤¨",sync_status:{connected:"à¤œà¥à¤¡à¤¼à¤¾ à¤¹à¥à¤†",disconnected:"à¤¡à¤¿à¤¸à¥à¤•à¤¨à¥‡à¤•à¥à¤Ÿ à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾"},connect_drive:"à¤—à¥‚à¤—à¤² à¤¡à¥à¤°à¤¾à¤‡à¤µ à¤¸à¥‡ à¤œà¥à¥œà¥‡à¤‚",drive_folder:"à¤¡à¥à¤°à¤¾à¤‡à¤µ à¤«à¤¼à¥‹à¤²à¥à¤¡à¤° à¤•à¤¾ à¤¨à¤¾à¤®",drive_folder_hint:"à¤¨à¥‹à¤Ÿà¥à¤¸ à¤‡à¤¸ à¤«à¤¼à¥‹à¤²à¥à¤¡à¤° à¤•à¥‡ à¤…à¤‚à¤¦à¤° à¤à¤¨à¥à¤•à¥à¤°à¤¿à¤ªà¥à¤Ÿ à¤•à¤¿à¤ à¤œà¤¾à¤à¤‚à¤—à¥‡à¥¤",notes_per_chunk:"à¤ªà¥à¤°à¤¤à¤¿ à¤«à¤¼à¤¾à¤‡à¤² à¤¨à¥‹à¤Ÿà¥à¤¸",notes_per_chunk_hint:"à¤ªà¥à¤°à¤¤à¤¿ à¤«à¤¼à¤¾à¤‡à¤² à¤•à¤¿à¤¤à¤¨à¥‡ à¤¨à¥‹à¤Ÿà¥à¤¸ à¤¸à¤®à¥‚à¤¹à¤¬à¤¦à¥à¤§ à¤•à¤¿à¤ à¤œà¤¾à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤",save_changes:"à¤¬à¤¦à¤²à¤¾à¤µ à¤¸à¤¹à¥‡à¤œà¥‡à¤‚",session_security:"à¤¸à¤¤à¥à¤° à¤¸à¥à¤°à¤•à¥à¤·à¤¾",logout:"à¤²à¥‰à¤—à¤†à¤‰à¤Ÿ",logout_hint:"à¤²à¥‰à¤—à¤†à¤‰à¤Ÿ à¤•à¤°à¤¨à¥‡ à¤¸à¥‡ à¤®à¥‡à¤®à¥‹à¤°à¥€ à¤¸à¥‡ à¤à¤•à¥à¤¸à¥‡à¤¸ à¤•à¥€ à¤¹à¤Ÿ à¤œà¤¾à¤¤à¥€ à¤¹à¥ˆà¥¤",encryption:"à¤à¤¨à¥à¤•à¥à¤°à¤¿à¤ªà¥à¤¶à¤¨",algo:"à¤ªà¤¸à¤‚à¤¦à¥€à¤¦à¤¾ à¤à¤²à¥à¤—à¥‹à¤°à¤¿à¤¦à¤®",update_algo:"à¤à¤²à¥à¤—à¥‹à¤°à¤¿à¤¦à¤® à¤…à¤ªà¤¡à¥‡à¤Ÿ à¤•à¤°à¥‡à¤‚",reset_app:"à¤à¤ª à¤°à¥€à¤¸à¥‡à¤Ÿ à¤•à¤°à¥‡à¤‚",reset_warning:"à¤¯à¤¹ à¤¸à¤­à¥€ à¤¸à¥à¤¥à¤¾à¤¨à¥€à¤¯ à¤¨à¥‹à¤Ÿà¥à¤¸ à¤”à¤° à¤¶à¥à¤°à¥‡à¤£à¤¿à¤¯à¥‹à¤‚ à¤•à¥‹ à¤¸à¥à¤¥à¤¾à¤¯à¥€ à¤°à¥‚à¤ª à¤¸à¥‡ à¤¹à¤Ÿà¤¾ à¤¦à¥‡à¤—à¤¾à¥¤",reset_confirm_label:'à¤ªà¥à¤·à¥à¤Ÿà¤¿ à¤•à¥‡ à¤²à¤¿à¤, à¤¨à¥€à¤šà¥‡ "confirm" à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¥‡à¤‚:',reset_btn:"à¤¸à¤­à¥€ à¤¸à¥à¤¥à¤¾à¤¨à¥€à¤¯ à¤¡à¥‡à¤Ÿà¤¾ à¤¹à¤Ÿà¤¾à¤à¤",reset_keyword:"confirm"},categories:{title:"à¤¶à¥à¤°à¥‡à¤£à¤¿à¤¯à¤¾à¤ à¤ªà¥à¤°à¤¬à¤‚à¤§à¤¿à¤¤ à¤•à¤°à¥‡à¤‚",add_new:"à¤¨à¤ˆ à¤¶à¥à¤°à¥‡à¤£à¥€",name_placeholder:"à¤¶à¥à¤°à¥‡à¤£à¥€ à¤•à¤¾ à¤¨à¤¾à¤®",icon_label:"à¤†à¤‡à¤•à¤¨",color_label:"à¤°à¤‚à¤—",password_label:"à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ (à¤µà¥ˆà¤•à¤²à¥à¤ªà¤¿à¤•)",password_hint:"à¤¬à¤¿à¤¨à¤¾ à¤¸à¥à¤°à¤•à¥à¤·à¤¾ à¤•à¥‡ à¤²à¤¿à¤ à¤–à¤¾à¤²à¥€ à¤›à¥‹à¥œà¥‡à¤‚",create:"à¤¶à¥à¤°à¥‡à¤£à¥€ à¤¬à¤¨à¤¾à¤à¤",edit:"à¤¶à¥à¤°à¥‡à¤£à¥€ à¤¸à¤‚à¤ªà¤¾à¤¦à¤¿à¤¤ à¤•à¤°à¥‡à¤‚",delete:"à¤¹à¤Ÿà¤¾à¤à¤",save:"à¤¶à¥à¤°à¥‡à¤£à¥€ à¤¸à¤¹à¥‡à¤œà¥‡à¤‚",delete_confirm:"à¤‡à¤¸ à¤¶à¥à¤°à¥‡à¤£à¥€ à¤•à¥‹ à¤¹à¤Ÿà¤¾à¤à¤? à¤¨à¥‹à¤Ÿà¥à¤¸ à¤°à¤¹à¥‡à¤‚à¤—à¥‡ à¤ªà¤° à¤…à¤¨à¤Ÿà¥ˆà¤— à¤¹à¥‹ à¤œà¤¾à¤à¤‚à¤—à¥‡à¥¤",no_category:"à¤¬à¤¿à¤¨à¤¾ à¤¶à¥à¤°à¥‡à¤£à¥€ à¤•à¥‡"},common:{cancel:"à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚",confirm:"à¤ªà¥à¤·à¥à¤Ÿà¤¿ à¤•à¤°à¥‡à¤‚",search:"à¤–à¥‹à¤œà¥‡à¤‚",search_prompt:"à¤–à¥‹à¤œ à¤¶à¤¬à¥à¤¦ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚:",security_prompt:"à¤¸à¥à¤°à¤•à¥à¤·à¤¾",security_desc_prompt:"à¤œà¤¾à¤°à¥€ à¤°à¤–à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",restricted_access:"à¤ªà¥à¤°à¤¤à¤¿à¤¬à¤‚à¤§à¤¿à¤¤ à¤ªà¤¹à¥à¤à¤š",enter_cat_pass:"à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚:",write_here:"à¤¯à¤¹à¤¾à¤ à¤²à¤¿à¤–à¥‡à¤‚..."},biometrics:{title:"à¤«à¤¿à¤‚à¤—à¤°à¤ªà¥à¤°à¤¿à¤‚à¤Ÿ / Face ID",desc:"à¤µà¥‰à¤²à¥à¤Ÿ à¤•à¥‹ à¤œà¤²à¥à¤¦à¥€ à¤…à¤¨à¤²à¥‰à¤• à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤¬à¤¾à¤¯à¥‹à¤®à¥‡à¤Ÿà¥à¤°à¤¿à¤•à¥à¤¸ à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤°à¥‡à¤‚",enabled:"à¤¸à¤•à¥à¤·à¤®",disabled:"à¤…à¤•à¥à¤·à¤®",enable_btn:"à¤¸à¤•à¥à¤·à¤® à¤•à¤°à¥‡à¤‚",disable_btn:"à¤…à¤•à¥à¤·à¤® à¤•à¤°à¥‡à¤‚",setup_prompt:"à¤¬à¤¾à¤¯à¥‹à¤®à¥‡à¤Ÿà¥à¤°à¤¿à¤•à¥à¤¸ à¤¸à¤•à¥à¤·à¤® à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤®à¤¾à¤¸à¥à¤Ÿà¤° à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",not_supported:"à¤†à¤ªà¤•à¤¾ à¤¡à¤¿à¤µà¤¾à¤‡à¤¸ à¤¬à¤¾à¤¯à¥‹à¤®à¥‡à¤Ÿà¥à¤°à¤¿à¤•à¥à¤¸ à¤•à¤¾ à¤¸à¤®à¤°à¥à¤¥à¤¨ à¤¨à¤¹à¥€à¤‚ à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆ",success_enable:"âœ… à¤¬à¤¾à¤¯à¥‹à¤®à¥‡à¤Ÿà¥à¤°à¤¿à¤•à¥à¤¸ à¤¸à¤•à¥à¤·à¤®",success_disable:"ðŸ”“ à¤¬à¤¾à¤¯à¥‹à¤®à¥‡à¤Ÿà¥à¤°à¤¿à¤•à¥à¤¸ à¤…à¤•à¥à¤·à¤®",fail_enable:"âŒ à¤¬à¤¾à¤¯à¥‹à¤®à¥‡à¤Ÿà¥à¤°à¤¿à¤•à¥à¤¸ à¤¸à¤•à¥à¤·à¤® à¤•à¤°à¤¨à¥‡ à¤®à¥‡à¤‚ à¤µà¤¿à¤«à¤²",incorrect_pass:"âŒ à¤—à¤²à¤¤ à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡"}}};let gt="en";function Cn(){const n=localStorage.getItem(g.LANG),e=navigator.language.split("-")[0],t=Object.keys(Qt);gt=n||(t.includes(e)?e:"en"),document.documentElement.lang=gt}function Tn(n){gt=n,localStorage.setItem(g.LANG,n),document.documentElement.lang=n,location.reload()}function u(n){const e=n.split(".");let t=Qt[gt];for(const o of e)if(t=t==null?void 0:t[o],!t)break;if(t)return t;let a=Qt.en;for(const o of e)if(a=a==null?void 0:a[o],!a)break;return a||n}function Fa(){const n=!!(sessionStorage.getItem(g.VAULT_KEY)||localStorage.getItem(g.VAULT_KEY));return`
    <div id="auth-shield" class="fixed inset-0 z-[100] flex items-center justify-center bg-background/95 backdrop-blur-sm transition-opacity duration-300 ${n?"opacity-0 pointer-events-none":""}" style="${n?"display: none":""}">
        <div class="w-full max-w-[340px] p-6 space-y-5 bg-card border rounded-2xl shadow-2xl">
            <!-- Icon & Header -->
            <div class="text-center space-y-2">
                <div class="mx-auto w-10 h-10 bg-primary rounded-xl flex items-center justify-center text-primary-foreground shadow-lg shadow-primary/20">
                    <i data-lucide="shield" id="auth-main-icon" class="w-5 h-5"></i>
                </div>
                <h1 class="text-xl font-bold tracking-tight" id="auth-title">${u("auth.title")}</h1>
                <p class="text-xs text-muted-foreground px-4 leading-relaxed" id="auth-desc">${u("auth.desc")}</p>
            </div>

            <!-- STEP 1: FOLDER SELECTION -->
            <div id="auth-folder-step" class="hidden space-y-4">
                <div class="flex flex-col items-center gap-4 py-4">
                    <div id="folder-name-display" class="w-full py-3 px-4 bg-muted/30 border rounded-xl text-center font-mono text-xs text-foreground/80 break-all hidden">
                    </div>
                    <button id="auth-set-folder-btn" class="btn-shad btn-shad-outline w-full h-11 font-bold">
                        <i data-lucide="folder-search" class="w-4 h-4 mr-2"></i> ${u("auth.setup_folder_btn")}
                    </button>
                </div>
                <button id="auth-folder-next" class="btn-shad btn-shad-primary w-full h-11 font-bold shadow-lg shadow-primary/20" disabled>
                    ${u("auth.setup_next")}
                </button>
            </div>

            <!-- STEP 2: PASSWORD / LOGIN -->
            <div id="auth-pass-step" class="space-y-4">
                <div class="space-y-3">
                    <div class="relative group">
                        <input type="password" id="master-password" placeholder="${u("auth.pass_placeholder")}" class="h-11 w-full pl-4 pr-11 text-sm bg-muted/30 border-none ring-1 ring-border focus:ring-2 focus:ring-primary rounded-xl transition-all">
                        <button type="button" class="absolute right-0 top-0 h-11 w-10 flex items-center justify-center text-muted-foreground hover:text-foreground toggle-pass" data-target="master-password" tabindex="-1">
                            <i data-lucide="eye" class="w-3.5 h-3.5 icon-show"></i>
                        </button>
                    </div>
                    <div class="relative group hidden" id="confirm-password-wrapper">
                        <input type="password" id="confirm-password" placeholder="${u("auth.repeat_placeholder")}" class="h-11 w-full pl-4 pr-11 text-sm bg-muted/30 border-none ring-1 ring-border focus:ring-2 focus:ring-primary rounded-xl transition-all">
                        <button type="button" class="absolute right-0 top-0 h-11 w-10 flex items-center justify-center text-muted-foreground hover:text-foreground toggle-pass" data-target="confirm-password" tabindex="-1">
                            <i data-lucide="eye" class="w-3.5 h-3.5 icon-show"></i>
                        </button>
                    </div>
                    
                    <div class="flex items-center gap-2 py-0.5" id="auth-remember-wrapper">
                        <input type="checkbox" id="auth-remember" class="w-3.5 h-3.5 rounded border-border text-primary focus:ring-primary">
                        <label for="auth-remember" class="text-[10px] uppercase font-bold tracking-wider text-muted-foreground/70 cursor-pointer select-none">${u("auth.remember_me")}</label>
                    </div>

                    <button id="auth-submit" class="btn-shad btn-shad-primary w-full h-11 font-bold rounded-xl shadow-lg shadow-primary/20 active:scale-[0.98] transition-all">${u("auth.unlock")}</button>
                    
                    <button id="auth-biometric" class="hidden btn-shad btn-shad-secondary w-full h-10 font-bold flex items-center justify-center gap-2 rounded-xl text-sm border-none bg-muted hover:bg-muted/80">
                        <i data-lucide="fingerprint" class="w-4 h-4"></i> <span id="bio-text" class="text-xs uppercase tracking-wide">${u("auth.use_bio")}</span>
                    </button>
                </div>
            </div>

            <!-- Maintenance Options -->
            <div class="pt-2">
                <button id="auth-options-toggle" class="w-full flex items-center justify-center gap-2 py-2 text-[10px] uppercase font-bold tracking-widest text-muted-foreground/50 hover:text-primary transition-all">
                    <i data-lucide="wrench" class="w-3 h-3"></i> ${u("settings.maintenance")}
                </button>
                
                <div id="auth-maintenance-menu" class="hidden space-y-2 mt-2 pt-3 border-t border-border/10">
                    <button id="auth-reset-btn" class="w-full h-9 flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-tight text-destructive hover:bg-destructive/10 rounded-lg transition-all">
                        <i data-lucide="trash-2" class="w-3.5 h-3.5"></i> ${u("settings.reset_app")}
                    </button>
                    <button id="auth-reload-btn" class="w-full h-9 flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-tight text-muted-foreground hover:bg-muted rounded-lg transition-all">
                        <i data-lucide="refresh-cw" class="w-3.5 h-3.5"></i> ${u("sidebar.force_reload")}
                    </button>
                </div>
            </div>
        </div>
    </div>`}async function $a(n){const e=!localStorage.getItem(g.MASTER_HASH),t=sessionStorage.getItem(g.VAULT_KEY),a=localStorage.getItem(g.VAULT_KEY),o=localStorage.getItem(g.BIO_ENABLED)==="true",i=localStorage.getItem(g.REMEMBER_ME)==="true",r=document.getElementById("auth-set-folder-btn");r&&(r.onclick=async()=>{const{FileStorage:l}=await G(async()=>{const{FileStorage:f}=await Promise.resolve().then(()=>Xe);return{FileStorage:f}},void 0,import.meta.url),{openPrompt:c,showToast:d,isCapacitor:m}=await G(async()=>{const{openPrompt:f,showToast:b,isCapacitor:v}=await Promise.resolve().then(()=>Me);return{openPrompt:f,showToast:b,isCapacitor:v}},void 0,import.meta.url);try{if(m()){let y=await l.pickFolder();if(y||(y=await c(u("auth.setup_folder_title"),"Documents/[Nombre]",!1,"PrivateNotes")),y&&y.trim())await l.connectFolder(y.trim());else return}else await l.connectFolder();d("âœ… Folder connected");const f=await l.getHandleStatus(),b=document.getElementById("folder-name-display");b&&(b.innerText=m()?`Documents/${f.folder}`:"Folder: Connected",b.classList.remove("hidden"));const v=document.getElementById("auth-folder-next");v&&(v.disabled=!1,v.onclick=()=>Dn(n)),r.innerHTML=`<i data-lucide="folder-check" class="w-4 h-4 mr-2"></i> ${u("auth.setup_folder_change")}`,M()}catch(f){d("âŒ Error: "+f.message)}});const s=document.getElementById("auth-biometric");window.PublicKeyCredential&&s&&(s.classList.remove("hidden"),o?document.getElementById("bio-text").innerText=u("auth.bio_unlock"):document.getElementById("bio-text").innerText=u("auth.bio_setup")),e?Ln():t?Qe(t,n):a?o?Ha(n).catch(()=>{}):i?Qe(a,n):ea():ea()}function Ln(){document.getElementById("auth-folder-step").classList.remove("hidden"),document.getElementById("auth-pass-step").classList.add("hidden"),document.getElementById("auth-title").innerText=u("auth.setup_folder_title"),document.getElementById("auth-desc").innerText=u("auth.setup_folder_desc");const n=document.getElementById("auth-main-icon");n&&n.setAttribute("data-lucide","folder-plus"),M()}async function Dn(n){document.getElementById("auth-folder-step").classList.add("hidden"),document.getElementById("auth-pass-step").classList.remove("hidden");const{FileStorage:e}=await G(async()=>{const{FileStorage:l}=await Promise.resolve().then(()=>Xe);return{FileStorage:l}},void 0,import.meta.url),t=await e.getMetadata("").catch(()=>!1),a=document.getElementById("auth-title"),o=document.getElementById("auth-desc"),i=document.getElementById("auth-submit"),r=document.getElementById("confirm-password-wrapper");t?(a.innerText=u("auth.title"),o.innerText=u("auth.desc"),i.innerText=u("auth.unlock"),r.classList.add("hidden")):(a.innerText=u("auth.setup_title"),o.innerText=u("auth.setup_desc"),i.innerText=u("auth.create_vault"),r.classList.remove("hidden"));const s=document.getElementById("auth-main-icon");s&&s.setAttribute("data-lucide","lock"),M()}function ea(){document.getElementById("auth-folder-step").classList.add("hidden"),document.getElementById("auth-pass-step").classList.remove("hidden"),document.getElementById("auth-title").innerText=u("auth.title"),document.getElementById("auth-desc").innerText=u("auth.desc"),document.getElementById("auth-submit").innerText=u("auth.unlock"),document.getElementById("confirm-password-wrapper").classList.add("hidden");const n=document.getElementById("auth-main-icon");n&&n.setAttribute("data-lucide","shield"),M()}function Ma(){const n=document.getElementById("auth-shield");n&&(n.style.display="flex",setTimeout(()=>n.classList.remove("opacity-0","pointer-events-none"),10),document.getElementById("master-password").value="",ea(),M())}async function Ha(n){if(localStorage.getItem(g.BIO_ENABLED)==="true")try{const t=new Uint8Array(32);window.crypto.getRandomValues(t),await navigator.credentials.get({publicKey:{challenge:t,rpId:window.location.hostname,userVerification:"required",timeout:6e4}});const a=localStorage.getItem(g.VAULT_KEY);a?Qe(a,n):(C(u("auth.bio_fail")),localStorage.setItem(g.BIO_ENABLED,"false"))}catch{C(u("auth.bio_fail"))}else{const t=document.getElementById("master-password").value;if(!t)return C(u("auth.setup_pass_first"));if(await T.hash(t)!==localStorage.getItem(g.MASTER_HASH))return C(u("auth.incorrect_pass"));try{const o=new Uint8Array(32);window.crypto.getRandomValues(o),await navigator.credentials.create({publicKey:{challenge:o,rp:{name:u("app_name"),id:window.location.hostname},user:{id:new Uint8Array(16),name:"user",displayName:"User"},pubKeyCredParams:[{alg:-7,type:"public-key"}],timeout:6e4,authenticatorSelection:{authenticatorAttachment:"platform"},attestation:"none"}}),localStorage.setItem(g.BIO_ENABLED,"true");const i=await T.deriveVaultKey(t);localStorage.setItem(g.VAULT_KEY,i),C(u("biometrics.success_enable")),Qe(i,n)}catch{C(u("biometrics.fail_enable"))}}}async function Qe(n,e){var a;const t=document.getElementById("auth-shield");t&&(t.classList.add("opacity-0","pointer-events-none"),setTimeout(()=>t.style.display="none",300),(a=document.getElementById("app"))==null||a.classList.remove("opacity-0"),sessionStorage.setItem(g.VAULT_KEY,n),await In(n),e())}async function ta(n){var d;const e=document.getElementById("master-password").value,t=document.getElementById("confirm-password").value,a=!localStorage.getItem(g.MASTER_HASH),o=document.getElementById("confirm-password-wrapper"),i=a&&o&&!o.classList.contains("hidden");if(!e)return C(u("auth.pass_placeholder"));if(i){if(!t)return C(u("auth.confirm_pass"));if(e!==t)return C(u("auth.password_mismatch"));if(e.length<4)return C(u("auth.password_short"))}const r=await T.hash(e),s=await T.deriveVaultKey(e),l=localStorage.getItem(g.MASTER_HASH),c=(d=document.getElementById("auth-remember"))==null?void 0:d.checked;l?l===r?(c&&(localStorage.setItem(g.VAULT_KEY,s),localStorage.setItem(g.REMEMBER_ME,"true")),await Qe(s,n),C(u("auth.vault_opened"))):C(u("auth.incorrect_pass")):(localStorage.setItem(g.MASTER_HASH,r),c&&(localStorage.setItem(g.VAULT_KEY,s),localStorage.setItem(g.REMEMBER_ME,"true")),await Qe(s,n),C(u("auth.vault_created")))}const Bn=Object.freeze(Object.defineProperty({__proto__:null,checkAuthStatus:$a,getAuthShieldTemplate:Fa,handleBiometricAuth:Ha,handleMasterAuth:ta,lockApp:Ma},Symbol.toStringTag,{value:"Module"}));function Pn(){return`
    <div id="app" class="flex h-screen overflow-hidden opacity-100 transition-opacity duration-300">
        <!-- Sidebar Desktop -->
        <aside class="w-60 hidden md:flex flex-col border-r bg-sidebar">
            <div class="p-5 flex items-center justify-between gap-3">
                <div class="flex items-center gap-2.5 overflow-hidden" id="sidebar-logo-container">
                    <div class="w-8 h-8 rounded-lg bg-transparent flex items-center justify-center shrink-0">
                        <img src="./favicon.png" alt="Logo" class="w-full h-full object-contain">
                    </div>
                    <div class="sidebar-title-text transition-opacity duration-300">
                        <h1 class="text-xs font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent truncate">${u("app_name")}</h1>
                    </div>
                </div>
                <button id="sidebar-collapse-btn" class="p-1.5 hover:bg-accent rounded-md text-muted-foreground transition-all shrink-0" title="Contraer menÃº">
                    <i data-lucide="chevrons-left" class="w-3.5 h-3.5" id="sidebar-collapse-icon"></i>
                </button>
            </div>
            
            <div class="flex-1 overflow-y-auto px-3 space-y-6">
                <div class="space-y-0.5">
                    <button class="nav-link w-full" data-view="all">
                        <div class="flex items-center gap-3">
                            <i data-lucide="layout-grid" class="w-4 h-4"></i>
                            <span class="sidebar-label text-foreground/90 font-bold">${u("sidebar.all_notes")}</span>
                        </div>
                    </button>
                </div>

                <div class="space-y-3">
                    <div id="sidebar-categories" class="space-y-0.5"></div>
                </div>

                <div class="space-y-0.5 pt-4 border-t border-border/10">
                    <button id="sidebar-sync-btn" class="nav-link w-full text-[11px] opacity-70 hover:opacity-100 group">
                        <div class="flex items-center gap-3">
                            <i data-lucide="refresh-cw" class="w-4 h-4 group-active:animate-spin"></i>
                            <span class="sidebar-label font-bold">${u("header.sync")}</span>
                        </div>
                    </button>
                </div>
            </div>

            <div class="p-4 space-y-1.5 mt-auto">
                <button id="sidebar-manage-cats" class="nav-link w-full text-[11px] opacity-70 hover:opacity-100">
                    <div class="flex items-center gap-3">
                        <i data-lucide="tag" class="w-4 h-4"></i>
                        <span class="sidebar-label">${u("sidebar.manage_tags")}</span>
                    </div>
                </button>
                <button id="sidebar-pwa-install-btn" class="nav-link w-full text-[11px] opacity-70 hover:opacity-100 hidden">
                    <div class="flex items-center gap-3">
                        <i data-lucide="download" class="w-4 h-4"></i>
                        <span class="sidebar-label">${u("sidebar.install_app")}</span>
                    </div>
                </button>
                <button id="settings-trigger" class="nav-link w-full text-[11px] opacity-70 hover:opacity-100">
                    <div class="flex items-center gap-3">
                        <i data-lucide="settings" class="w-4 h-4"></i>
                        <span class="sidebar-label">${u("sidebar.settings")}</span>
                    </div>
                </button>
                <div class="pt-3 border-t border-border/10 px-3">
                    <div id="app-version" class="text-[8px] text-muted-foreground font-mono opacity-40">v4.0.0</div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col bg-background relative overflow-hidden h-full">
            <!-- Desktop Header -->
            <header class="hidden md:flex h-14 items-center justify-between px-6 border-b shrink-0 bg-background/50 backdrop-blur-md sticky top-0 z-30">
                <div class="flex items-center gap-4 flex-1">
                    <div class="relative w-full max-w-xs">
                        <input type="text" id="search-notes" placeholder="${u("header.search_placeholder")}" 
                               class="h-9 w-full rounded-full bg-muted/50 border-none pl-4 pr-10 text-xs focus:ring-1 focus:ring-violet-500/50 transition-all">
                        <i data-lucide="search" class="absolute right-3.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground/60"></i>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <button id="pwa-install-btn" class="p-1.5 hover:bg-accent rounded-md text-muted-foreground transition-colors hidden" title="${u("header.install")}">
                        <i data-lucide="download" class="w-4 h-4"></i>
                    </button>
                    <button id="add-note-btn" class="btn-shad btn-shad-primary h-8 px-4 text-xs font-bold">
                        <i data-lucide="plus" class="w-3.5 h-3.5 mr-2"></i> ${u("header.new_note")}
                    </button>
                </div>
            </header>

            <!-- Grid -->
            <div id="notes-viewport" class="flex-1 overflow-y-auto p-4 md:p-6 pb-24 md:pb-6">
                <div class="max-w-6xl mx-auto space-y-6">
                    <div class="flex items-end justify-between">
                        <div>
                            <h1 id="view-title" class="text-2xl font-bold tracking-tight">${u("header.view_title_all")}</h1>
                        </div>
                    </div>
                    <div id="notes-grid" class="grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3"></div>
                </div>
            </div>

            <!-- Mobile Bottom Nav -->
            <nav class="md:hidden fixed bottom-0 left-0 right-0 h-14 bg-background/95 backdrop-blur-2xl border-t flex items-center justify-around z-40 pb-safe">
                <button class="flex flex-col items-center justify-center gap-1 w-full h-full text-muted-foreground active:text-primary transition-colors" id="mobile-sidebar-trigger-bottom">
                    <i data-lucide="menu" class="w-5 h-5"></i>
                </button>
                <button class="flex flex-col items-center justify-center gap-1 w-full h-full text-muted-foreground active:text-primary transition-colors nav-link-mobile" data-view="all">
                    <i data-lucide="home" class="w-5 h-5"></i>
                </button>
                <button class="flex items-center justify-center relative w-full h-full" id="mobile-add-btn">
                    <div class="w-12 h-12 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 text-white rounded-full shadow-lg shadow-indigo-500/30 flex items-center justify-center transform -translate-y-4 hover:scale-105 active:scale-90 transition-all">
                        <i data-lucide="plus" class="w-7 h-7"></i>
                    </div>
                </button>
                <button class="flex flex-col items-center justify-center gap-1 w-full h-full text-muted-foreground active:text-primary transition-colors" id="mobile-search-trigger">
                    <i data-lucide="search" class="w-5 h-5"></i>
                </button>
                <button class="flex flex-col items-center justify-center gap-1 w-full h-full text-muted-foreground active:text-primary transition-colors" id="mobile-settings-btn-nav">
                    <i data-lucide="settings" class="w-5 h-5"></i>
                </button>
            </nav>
        </main>

        <!-- Mobile Sidebar Drawer -->
        <div id="mobile-sidebar-overlay" class="fixed inset-0 bg-black/50 backdrop-blur-[2px] z-[100] hidden">
            <div id="mobile-sidebar-drawer" class="w-[75vw] max-w-[300px] h-full bg-card border-r flex flex-col animate-in slide-in-from-left duration-300">
                <div class="p-4 flex items-center justify-between border-b">
                    <div class="flex items-center gap-2.5">
                        <div class="w-8 h-8 rounded-lg bg-transparent flex items-center justify-center shrink-0">
                            <img src="./favicon.png" alt="Logo" class="w-full h-full object-contain">
                        </div>
                        <h1 class="text-xs font-bold tracking-tight">${u("app_name")}</h1>
                    </div>
                    <button id="close-mobile-sidebar" class="p-2 hover:bg-accent rounded-md">
                        <i data-lucide="x" class="w-4 h-4"></i>
                    </button>
                </div>
                <div class="flex-1 overflow-y-auto p-3 space-y-6">
                    <div class="space-y-0.5">
                        <button class="nav-link-mobile-drawer w-full" data-view="all">
                            <i data-lucide="layout-grid" class="w-3.5 h-3.5"></i> ${u("sidebar.all_notes")}
                        </button>
                    </div>
                    <div class="space-y-3">
                        <div id="mobile-sidebar-categories" class="space-y-0.5"></div>
                    </div>
                </div>
                <div class="p-4 border-t space-y-1.5">
                    <button id="mobile-sync-btn" class="flex items-center gap-3 w-full p-2.5 rounded-md hover:bg-accent text-xs font-bold text-primary bg-primary/5">
                        <i data-lucide="refresh-cw" class="w-3.5 h-3.5"></i> ${u("header.sync")}
                    </button>
                    <button id="mobile-manage-cats" class="flex items-center gap-3 w-full p-2.5 rounded-md hover:bg-accent text-xs">
                        <i data-lucide="tag" class="w-3.5 h-3.5"></i> ${u("sidebar.manage_tags")}
                    </button>
                    <button id="mobile-pwa-install-btn" class="flex items-center gap-3 w-full p-2.5 rounded-md hover:bg-accent text-xs hidden">
                        <i data-lucide="download" class="w-3.5 h-3.5"></i> ${u("sidebar.install_app")}
                    </button>
                    <button id="mobile-settings-btn" class="flex items-center gap-3 w-full p-2.5 rounded-md hover:bg-accent text-xs">
                        <i data-lucide="settings" class="w-3.5 h-3.5"></i> ${u("sidebar.settings")}
                    </button>
                    <div class="pt-3 border-t space-y-2">
                        <div class="flex items-center justify-between px-2">
                            <span class="text-[8px] font-bold uppercase tracking-widest text-muted-foreground/40">${u("sidebar.system")}</span>
                            <span id="mobile-app-version" class="text-[8px] font-bold font-mono px-1.5 py-0.5 rounded bg-primary/10 text-primary">v4.0.0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>`}class te{static updateCategoryUI(){const e=document.getElementById("edit-category").value,t=p.categories.find(i=>i.id===e),a=document.getElementById("selected-cat-label"),o=document.getElementById("selected-cat-icon");a&&(a.innerText=t?t.name:u("categories.no_category")),o&&(o.setAttribute("data-lucide",t&&t.icon||"tag"),o.setAttribute("class",t?"w-3.5 h-3.5 text-primary":"w-3.5 h-3.5 text-muted-foreground/60"),M())}static renderCategoryOptions(e){const t=document.getElementById("cat-options-container");if(!t)return;t.innerHTML="";const a=(o,i,r,s=0)=>{const l=document.getElementById("edit-category").value,c=document.createElement("div");c.className="editor-menu-item group flex items-center justify-between",c.style.setProperty("--item-index",s),c.innerHTML=`
                <div class="flex items-center gap-3">
                    <i data-lucide="${r||"tag"}" class="w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors"></i>
                    <span class="truncate">${i}</span>
                </div>
                ${l===o?'<i data-lucide="check" class="w-4 h-4 text-primary"></i>':""}
            `,c.onclick=async d=>{d.stopPropagation(),this.hidePopovers();const m=p.categories.find(b=>b.id===o);if(m&&m.passwordHash&&!p.unlockedCategories.has(o)){const b=await Ce(u("common.restricted_access"),`${u("common.enter_cat_pass")} "${i}":`,!0);if(!b)return;let v=!1;if(typeof b=="object"&&b.biometric)v=!0;else{const y=await T.hash(b),D=m.passwordHash==="MASTER"?localStorage.getItem(g.MASTER_HASH):m.passwordHash;y===D&&(v=!0)}if(v)p.unlockedCategories.add(o);else return C(u("auth.incorrect_pass"))}const f=document.getElementById("edit-category");f&&(f.value=o,f.dispatchEvent(new Event("change"))),this.updateCategoryUI(),this.hidePopovers(),setTimeout(()=>{e&&e(o),window.saveActiveNoteDraft&&window.saveActiveNoteDraft(),this.hidePopovers()},50)},t.appendChild(c)};a("",u("categories.no_category"),"tag"),p.categories.forEach((o,i)=>a(o.id,o.name,o.icon,i+1)),M()}static renderCategoryOption(e,t,a,o){}static updatePinUI(e){const t=document.getElementById("opt-toggle-pin");if(!t)return;t.dataset.active=e.toString();const a=document.getElementById("opt-pin-label"),o=document.getElementById("opt-pin-icon");a&&(a.innerText=u(e?"editor.unpin":"editor.pin")),o&&o.setAttribute("class",e?"w-4 h-4 text-violet-600":"w-4 h-4 text-muted-foreground"),t.classList.toggle("menu-active-violet",e)}static updateLockUI(e){const t=document.getElementById("opt-toggle-lock");if(!t)return;t.dataset.active=e.toString();const a=document.getElementById("opt-lock-label"),o=document.getElementById("opt-lock-icon");a&&(a.innerText=u(e?"editor.unlock":"editor.lock")),o&&(o.setAttribute("data-lucide",e?"lock":"lock-open"),o.setAttribute("class",e?"w-4 h-4 text-violet-600":"w-4 h-4 text-muted-foreground")),t.classList.toggle("menu-active-violet",e),M()}static togglePopover(e,t){e.stopPropagation();const a=document.getElementById(t);if(!a)return;const o=!a.classList.contains("hidden")&&a.getAttribute("data-state")==="open";if(this.hidePopovers(),o)return;const i=e.currentTarget.getBoundingClientRect();a.classList.remove("hidden"),a.style.display="block",a.style.visibility="hidden";const r=a.offsetWidth||250,s=a.offsetHeight||300;a.style.visibility="visible",a.setAttribute("data-state","open"),window.innerHeight-i.bottom;const l=8;i.top>s+20?(a.style.top="auto",a.style.bottom=`${window.innerHeight-i.top+l}px`,a.classList.remove("slide-in-from-top-2"),a.classList.add("slide-in-from-bottom-2")):(a.style.top=`${i.bottom+l}px`,a.style.bottom="auto",a.classList.remove("slide-in-from-bottom-2"),a.classList.add("slide-in-from-top-2"));let d=i.left+i.width/2-r/2;d<15&&(d=15),d+r>window.innerWidth-15&&(d=window.innerWidth-r-15),a.style.left=`${d}px`,a.style.right="auto"}static hidePopovers(){["color-popover","text-color-popover","emoji-popover","cat-dropdown-menu"].forEach(e=>{const t=document.getElementById(e);t&&(t.setAttribute("data-state","closed"),t.classList.add("hidden"),t.style.display="none")})}static applyTheme(e,t,a,o,i,r){const s=p.settings.theme==="dark"?e.dark:e.light,l=e.id==="default"?p.settings.theme==="dark":t;a.style.backgroundColor=s,a.style.color=l?"rgba(255,255,255,0.95)":"rgba(0,0,0,0.9)",a.dataset.themeId=e.id,o.style.color=l?"rgba(255,255,255,0.95)":"rgba(0,0,0,0.9)",i.style.color=l?"rgba(255,255,255,0.95)":"rgba(0,0,0,0.9)",r.querySelectorAll(".editor-tool:not(.active), #cat-dropdown-trigger").forEach(d=>{d.style.color=l?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.7)",d.style.borderColor=l?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",d.style.backgroundColor=l?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"}),r.querySelectorAll(".editor-tool.active").forEach(d=>{d.style.backgroundColor="",d.style.color="",d.style.borderColor=""})}}let aa=null;function Nn(){return`
    <div id="editor-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-background/80 backdrop-blur-sm dialog-overlay"></div>
        <div class="dialog-content max-w-2xl h-[85vh] flex flex-col p-0 rounded-2xl shadow-2xl transition-all duration-300">
            <div class="flex items-center gap-4 px-6 pt-6 pb-2 border-b border-border/10 shrink-0">
                <input type="text" id="edit-title" placeholder="TÃ­tulo de la nota"
                    class="bg-transparent text-xl font-black outline-none border-none placeholder:text-muted-foreground flex-1 min-w-0 truncate">
                
                <div class="flex items-center gap-1 shrink-0">
                    <button id="expand-editor" class="editor-tool hidden md:flex" title="Expandir/Contraer">
                        <i data-lucide="maximize-2"></i>
                    </button>
                    <div class="relative">
                        <button id="node-options-btn" class="editor-tool" title="MÃ¡s opciones">
                            <i data-lucide="more-vertical"></i>
                        </button>
                        <div id="note-options-menu" class="hidden absolute right-0 top-full mt-2 bg-popover border shadow-2xl rounded-2xl p-2 z-[125] min-w-[220px] animate-in zoom-in-95 duration-200">
                             <div class="px-2 py-1.5 text-[10px] font-black text-muted-foreground/40 uppercase tracking-[0.2em] mb-1">Acciones</div>
                             <button id="opt-copy-all" class="editor-menu-item group" style="--item-index: 0">
                                 <i data-lucide="copy"></i> Copiar contenido
                             </button>
                             <button id="opt-download" class="editor-menu-item group" style="--item-index: 1">
                                 <i data-lucide="download"></i> Descargar nota
                             </button>
                             <button id="opt-move-top" class="editor-menu-item group" style="--item-index: 2">
                                 <i data-lucide="arrow-up-to-line"></i> Traer al frente
                             </button>
                             <div class="h-px bg-border my-2 mx-1 opacity-50"></div>
                             <div class="px-2 py-1.5 text-[10px] font-black text-muted-foreground/40 uppercase tracking-[0.2em] mb-1">Estado</div>
                             <button id="opt-toggle-pin" class="editor-menu-item group" style="--item-index: 3">
                                 <i data-lucide="pin" id="opt-pin-icon"></i> <span id="opt-pin-label">Fijar nota</span>
                             </button>
                             <button id="opt-toggle-lock" class="editor-menu-item group" style="--item-index: 4">
                                 <i data-lucide="lock" id="opt-lock-icon"></i> <span id="opt-lock-label">Restringir</span>
                             </button>
                        </div>
                    </div>
                    <button id="close-editor" class="editor-tool !text-muted-foreground hover:!text-foreground" title="Cerrar">
                        <i data-lucide="x"></i>
                    </button>
                </div>
            </div>

            <div class="flex-1 py-8 overflow-y-auto px-8 relative custom-scrollbar">
                <div id="edit-content" contenteditable="true"
                    class="min-h-[400px] outline-none text-[15px] leading-relaxed prose prose-slate dark:prose-invert max-w-none font-medium"
                    placeholder="Escribe algo increÃ­ble..."></div>
            </div>

            <div class="bg-background flex flex-col divide-y divide-border/40">
                <div class="px-4 py-2 flex md:items-center justify-between gap-3 overflow-x-auto no-scrollbar flex-col md:flex-row">
                    <div class="flex items-center gap-0.5 md:gap-1 shrink-0 flex-wrap">
                        <div class="flex items-center gap-0.5 md:gap-1">
                            <button data-cmd="bold" class="editor-tool" title="Negrita"><i data-lucide="bold"></i></button>
                            <button data-cmd="italic" class="editor-tool" title="Cursiva"><i data-lucide="italic"></i></button>
                            <button data-cmd="underline" class="editor-tool" title="Subrayado"><i data-lucide="underline"></i></button>
                        </div>
                        <div class="w-px h-4 bg-border/50 mx-1"></div>
                        <div class="flex items-center gap-0.5 md:gap-1">
                            <button id="checklist-btn" class="editor-tool" title="Lista de tareas"><i data-lucide="check-square"></i></button>
                            <button data-cmd="insertUnorderedList" class="editor-tool" title="Lista"><i data-lucide="list"></i></button>
                        </div>
                        <div class="w-px h-4 bg-border/50 mx-1"></div>
                        <div class="flex items-center gap-0.5 md:gap-1">
                            <button id="add-link" class="editor-tool" title="Enlace"><i data-lucide="link"></i></button>
                            <button id="open-text-colors" class="editor-tool relative" title="Color de texto">
                                <i data-lucide="type"></i>
                                <div class="w-2 h-[2px] bg-indigo-500 rounded-full absolute bottom-1.5 left-1/2 -translate-x-1/2"></div>
                            </button>
                            <button id="open-emojis" class="editor-tool" title="Emojis"><i data-lucide="smile"></i></button>
                            <button id="open-colors" class="editor-tool" title="Fondo"><i data-lucide="palette"></i></button>
                        </div>
                    </div>
                    
                    <div class="flex items-center gap-1.5 shrink-0 justify-end pb-2 md:pb-0">
                        <button id="opt-delete-note" class="editor-tool !text-destructive hover:!bg-destructive/10" title="Eliminar"><i data-lucide="trash-2"></i></button>
                        <div class="w-px h-4 bg-border/50 mx-1"></div>
                        <button id="quick-save-note" class="editor-tool !bg-indigo-600 !text-white hover:!bg-indigo-700 shadow-sm" title="Guardar"><i data-lucide="save"></i></button>
                        <button id="done-note" class="editor-tool !bg-emerald-600 !text-white hover:!bg-emerald-700 shadow-sm" title="Guardar y cerrar"><i data-lucide="check"></i></button>
                    </div>
                </div>

                <div class="py-2.5 px-4 flex items-center justify-between gap-4 bg-muted/20">
                    <div id="cat-select-wrapper">
                        <button id="cat-dropdown-trigger" class="cat-badge">
                            <i data-lucide="tag" id="selected-cat-icon" class="w-3.5 h-3.5"></i>
                            <span id="selected-cat-label" class="truncate">Sin categorÃ­a</span>
                            <i data-lucide="chevron-up" class="w-3 h-3 opacity-40"></i>
                        </button>
                        <select id="edit-category" class="hidden">
                            <option value="">Sin categorÃ­a</option>
                        </select>
                    </div>
                    <div class="text-[10px] text-muted-foreground/60 font-bold uppercase tracking-tighter" id="last-saved-time">Guardado hace un momento</div>
                </div>
            </div>
        </div>

        <!-- External Popovers (Outside Modal for Viewport-Relative Positioning) -->
        <div id="color-popover" class="fixed z-[350] hidden popover-content p-4 w-72">
            <div class="px-2 py-2 text-[10px] font-bold text-muted-foreground/50 uppercase tracking-[0.2em] mb-2">Color de fondo</div>
            <div id="bg-color-grid" class="grid grid-cols-5 gap-3"></div>
        </div>

        <div id="text-color-popover" class="fixed z-[350] hidden popover-content p-4 w-72">
            <div class="px-2 py-2 text-[10px] font-bold text-muted-foreground/50 uppercase tracking-[0.2em] mb-2">Color de texto</div>
            <div id="text-color-grid" class="grid grid-cols-6 gap-3"></div>
        </div>

        <div id="emoji-popover" class="fixed z-[350] hidden popover-content w-80 h-80 p-2 bg-popover border shadow-2xl overflow-y-auto custom-scrollbar">
            <div id="emoji-grid" class="grid grid-cols-8 gap-1"></div>
        </div>

        <div id="cat-dropdown-menu"
                class="fixed w-64 bg-popover border border-border/50 shadow-2xl hidden z-[350] py-2 rounded-2xl animate-in fade-in slide-in-from-bottom-2 duration-200 popover-content">
            <div class="px-4 py-2 text-[10px] font-black text-muted-foreground/40 uppercase tracking-[0.25em] mb-1">CategorÃ­as</div>
            <div id="cat-options-container" class="max-h-72 overflow-y-auto custom-scrollbar px-2"></div>
        </div>
    </div>`}function On(n){const e=document.getElementById("editor-modal"),t=document.getElementById("edit-content");document.getElementById("close-editor").onclick=()=>ot();const a=e.querySelector(".dialog-overlay");a&&(a.onclick=()=>ot()),document.getElementById("quick-save-note").onclick=async l=>{const c=l.currentTarget,d=c.querySelector("i");c.classList.add("scale-110","ring-4","ring-indigo-500/20"),d.classList.add("animate-spin"),await ot(!1),n(),C("âœ“ Nota guardada"),setTimeout(()=>{c.classList.remove("scale-110","ring-4","ring-indigo-500/20"),d.classList.remove("animate-spin")},500)},document.getElementById("done-note").onclick=async()=>{var l;await ot(!1),n(),(l=window.triggerAutoSync)==null||l.call(window),Lt()},document.addEventListener("selectionchange",()=>{const l=window.getSelection();if(l.rangeCount>0){const c=l.getRangeAt(0),d=document.getElementById("edit-content");d&&d.contains(c.commonAncestorContainer)&&(aa=c,Be())}}),t&&(t.addEventListener("keyup",Be),t.addEventListener("mouseup",Be),t.addEventListener("paste",()=>setTimeout(Be,10))),document.getElementById("opt-delete-note").onclick=async()=>{var l;if(p.editingNoteId&&confirm("Â¿Deseas eliminar esta nota?")){const c=p.notes.findIndex(d=>d.id===p.editingNoteId);c>=0&&(p.notes[c].deleted=!0,p.notes[c].updatedAt=Date.now(),await U([p.editingNoteId]),Lt(),n(),(l=window.triggerAutoSync)==null||l.call(window))}};const o=document.getElementById("expand-editor");o&&(o.onclick=()=>{const c=e.querySelector(".dialog-content").classList.toggle("fullscreen"),d=o.querySelector("i");d&&(d.setAttribute("data-lucide",c?"minimize-2":"maximize-2"),M())});const i=document.getElementById("node-options-btn"),r=document.getElementById("note-options-menu");i&&r&&(i.onclick=l=>{l.stopPropagation(),r.classList.toggle("hidden")}),document.querySelectorAll("[data-cmd]").forEach(l=>{l.onmousedown=c=>c.preventDefault(),l.onclick=()=>{document.execCommand(l.dataset.cmd,!1,null),Be()}}),t.oninput=()=>{ze(),Be()};const s=document.getElementById("edit-title");s&&(s.oninput=()=>ze()),document.getElementById("opt-copy-all").onclick=()=>{const l=t.innerText;navigator.clipboard.writeText(l),C("âœ“ Contenido copiado"),r.classList.add("hidden")},document.getElementById("opt-download").onclick=()=>{const l=document.getElementById("edit-title").value||"Sin tÃ­tulo",c=t.innerText,d=new Blob([c],{type:"text/plain"}),m=URL.createObjectURL(d),f=document.createElement("a");f.href=m,f.download=`${l}.txt`,f.click(),URL.revokeObjectURL(m),r.classList.add("hidden")},document.getElementById("opt-move-top").onclick=async()=>{var c;const l=p.notes.findIndex(d=>d.id===p.editingNoteId);if(l>0){const d=p.notes.splice(l,1)[0];p.notes.unshift(d),d.updatedAt=Date.now(),await U([p.editingNoteId]),n(),(c=window.triggerAutoSync)==null||c.call(window),C("âœ“ Nota movida al principio"),r.classList.add("hidden")}else l===0?(C("La nota ya estÃ¡ al principio"),r.classList.add("hidden")):(C("âœ“ Se guardarÃ¡ al principio"),r.classList.add("hidden"))},document.getElementById("opt-toggle-pin").onclick=async()=>{var c;const l=p.notes.find(d=>d.id===p.editingNoteId);l&&(l.pinned=!l.pinned,l.updatedAt=Date.now(),te.updatePinUI(l.pinned),await U([p.editingNoteId]),n(),(c=window.triggerAutoSync)==null||c.call(window))},document.getElementById("opt-toggle-lock").onclick=async()=>{var c,d;const l=p.notes.find(m=>m.id===p.editingNoteId);if(l)if(l.passwordHash)confirm("Â¿Quitar la restricciÃ³n de esta nota?")&&(l.passwordHash=null,l.updatedAt=Date.now(),te.updateLockUI(!1),await U([p.editingNoteId]),n(),(c=window.triggerAutoSync)==null||c.call(window),C("ðŸ”“ RestricciÃ³n eliminada"));else{const m=await Ce("Restringir Nota","Establece una contraseÃ±a para esta nota:",!0);m&&(l.passwordHash=await T.hash(m),l.updatedAt=Date.now(),te.updateLockUI(!0),await U([p.editingNoteId]),n(),(d=window.triggerAutoSync)==null||d.call(window),C("ðŸ”’ Nota restringida"))}},document.getElementById("add-link").onclick=async()=>{const l=await Ce("Insertar Enlace","URL del enlace:",!1);if(l){Dt();const c=l.startsWith("http")?l:"https://"+l;document.execCommand("createLink",!1,c),t.querySelectorAll("a").forEach(d=>d.target="_blank")}},document.getElementById("checklist-btn").onclick=Fn,t.onkeydown=l=>{l.key==="Tab"&&(l.preventDefault(),document.execCommand(l.shiftKey?"outdent":"indent"))},document.addEventListener("click",l=>{!l.target.closest(".editor-tool")&&!l.target.closest(".popover-content")&&!l.target.closest("#cat-dropdown-trigger")&&te.hidePopovers(),r&&!r.classList.contains("hidden")&&!i.contains(l.target)&&!r.contains(l.target)&&r.classList.add("hidden")}),$n(),window.addEventListener("popstate",Rn),window.saveActiveNoteDraft=ze}function Rn(){const n=document.getElementById("editor-modal");n&&!n.classList.contains("hidden")&&ot()}async function lt(n=null){var l,c;const e=document.getElementById("editor-modal"),t=document.getElementById("edit-title"),a=document.getElementById("edit-content"),o=document.getElementById("edit-category");p.editingNoteId=n?n.id:"note_"+Date.now(),n&&JSON.stringify(n),t.value=n?n.title:"",a.innerHTML=n?n.content:"",n?o.value=n.categoryId||"":o.value=p.currentView&&p.currentView!=="all"?p.currentView:"",te.updateCategoryUI(),te.renderCategoryOptions(async d=>{var f;const m=p.notes.find(b=>b.id===p.editingNoteId);m&&(m.categoryId=d,m.updatedAt=Date.now(),await U([p.editingNoteId]),te.updateCategoryUI(),onSave(),(f=window.triggerAutoSync)==null||f.call(window)),window.saveActiveNoteDraft&&window.saveActiveNoteDraft()}),n?(te.updatePinUI(n.pinned||!1),te.updateLockUI(!!n.passwordHash)):(te.updatePinUI(!1),te.updateLockUI(!1));const i=n&&We.find(d=>d.id===n.themeId)||We[0],r=$t(p.settings.theme==="dark"?i.dark:i.light);te.applyTheme(i,r,e.querySelector(".dialog-content"),t,a,e);const s=e.querySelector(".dialog-content");if(window.innerWidth<=1200){s.classList.add("fullscreen");const d=(l=document.getElementById("expand-editor"))==null?void 0:l.querySelector("i");d&&d.setAttribute("data-lucide","minimize-2")}else{s.classList.remove("fullscreen");const d=(c=document.getElementById("expand-editor"))==null?void 0:c.querySelector("i");d&&d.setAttribute("data-lucide","maximize-2")}e.classList.remove("hidden"),document.body.classList.add("ov-hidden"),window.history.pushState({editor:!0},""),Be(),M()}async function ot(n=!0){const e=document.getElementById("edit-title").value.trim(),t=document.getElementById("edit-content").innerHTML,a=document.getElementById("edit-category").value;if(!e&&!t){n&&Lt();return}const o=p.notes.findIndex(r=>r.id===p.editingNoteId);let i;o>=0?(i=p.notes[o],i.title=e||"Sin tÃ­tulo",i.content=t,i.categoryId=a,i.updatedAt=Date.now(),i.themeId=document.querySelector(".dialog-content").dataset.themeId||"default"):(i={id:p.editingNoteId,title:e||"Sin tÃ­tulo",content:t,categoryId:a,themeId:document.querySelector(".dialog-content").dataset.themeId||"default",pinned:!1,passwordHash:null,createdAt:Date.now(),updatedAt:Date.now(),deleted:!1},p.notes.unshift(i)),await U([p.editingNoteId]),localStorage.removeItem(g.DRAFT),n&&Lt()}let va=null;async function ze(){clearTimeout(va),va=setTimeout(async()=>{var r;const n=document.getElementById("edit-title").value,e=document.getElementById("edit-content").innerHTML,t=document.getElementById("edit-category").value,a=((r=document.querySelector(".dialog-content"))==null?void 0:r.dataset.themeId)||"default";if(!n&&!e)return;const o={id:p.editingNoteId,title:n||"Sin tÃ­tulo",content:e,categoryId:t,themeId:a,updatedAt:Date.now()},i=sessionStorage.getItem(g.VAULT_KEY)||localStorage.getItem(g.VAULT_KEY);if(i){const s=await T.encrypt(o,i);localStorage.setItem(g.DRAFT,JSON.stringify(s));const l=document.getElementById("last-saved-time");l&&(l.innerText="Borrador guardado localmente")}},1e3)}function Lt(){const n=document.getElementById("editor-modal"),e=n.querySelector(".dialog-content");e.classList.add("dialog-hide"),setTimeout(()=>{n.classList.add("hidden"),e.classList.remove("dialog-hide"),document.body.classList.remove("ov-hidden"),p.editingNoteId=null,window.history.state&&window.history.state.editor&&window.history.back()},50)}function Be(){document.querySelectorAll("[data-cmd]").forEach(n=>{const e=n.dataset.cmd,t=document.queryCommandState(e);n.classList.toggle("active",t)})}function Dt(){if(aa){const n=window.getSelection();n.removeAllRanges(),n.addRange(aa)}}function Fn(){Dt();const n=window.getSelection();if(!n.rangeCount)return;const e=n.getRangeAt(0),a=(e.commonAncestorContainer.nodeType===3?e.commonAncestorContainer.parentElement:e.commonAncestorContainer).closest("li");if(a&&a.parentElement.classList.contains("checklist")){const o=a.parentElement;o.classList.remove("checklist"),o.querySelectorAll("li").forEach(i=>i.removeAttribute("data-checked"))}else{document.execCommand("insertUnorderedList");const o=window.getSelection().anchorNode.parentElement.closest("ul");o&&(o.classList.add("checklist"),o.querySelectorAll("li").forEach(i=>{i.hasAttribute("data-checked")||i.setAttribute("data-checked","false"),i.onclick=r=>{if(r.target===i){const s=i.getAttribute("data-checked")==="true";i.setAttribute("data-checked",!s),ze()}}}))}Be()}function $n(){[{id:"open-colors",pop:"color-popover"},{id:"open-text-colors",pop:"text-color-popover"},{id:"open-emojis",pop:"emoji-popover"},{id:"cat-dropdown-trigger",pop:"cat-dropdown-menu"}].forEach(o=>{const i=document.getElementById(o.id);i&&(i.onclick=r=>te.togglePopover(r,o.pop))});const e=document.getElementById("bg-color-grid");e&&(e.innerHTML="",We.forEach(o=>{const i=document.createElement("div");i.className="w-10 h-10 rounded-full cursor-pointer border-2 border-transparent hover:border-primary transition-all shadow-sm",i.style.backgroundColor=p.settings.theme==="dark"?o.dark:o.light,i.onclick=()=>{const r=document.querySelector(".dialog-content"),s=$t(p.settings.theme==="dark"?o.dark:o.light);te.applyTheme(o,s,r,document.getElementById("edit-title"),document.getElementById("edit-content"),document.getElementById("editor-modal")),te.hidePopovers(),ze()},e.appendChild(i)}));const t=document.getElementById("text-color-grid");t&&(t.innerHTML="",pn.forEach(o=>{const i=document.createElement("div");i.className="w-8 h-8 rounded-full cursor-pointer border border-border/50 hover:scale-110 transition-all",i.style.backgroundColor=o,i.onmousedown=r=>r.preventDefault(),i.onclick=()=>{Dt(),document.execCommand("foreColor",!1,o),te.hidePopovers(),ze()},t.appendChild(i)}));const a=document.getElementById("emoji-grid");a&&(a.innerHTML="",mn.forEach(o=>{const i=document.createElement("span");i.className="cursor-pointer hover:bg-primary/10 p-2 rounded-xl text-xl text-center transition-all hover:scale-125 inline-flex items-center justify-center",i.innerText=o,i.onclick=()=>{Dt(),document.execCommand("insertHTML",!1,o),te.hidePopovers(),ze()},a.appendChild(i)})),document.addEventListener("click",o=>{!o.target.closest(".editor-tool")&&!o.target.closest(".popover-content")&&te.hidePopovers()})}let na="tag";function Mn(){return`
    <div id="categories-modal" class="fixed inset-0 z-[70] hidden">
        <div class="dialog-overlay close-categories"></div>
        <div class="dialog-content w-full h-full md:max-w-xl md:h-[550px] md:rounded-3xl rounded-none flex flex-col shadow-2xl p-0 overflow-hidden">
            <div class="p-5 md:p-6 flex justify-between items-center border-b bg-background/50 backdrop-blur-md sticky top-0 z-10">
                <div>
                    <h2 class="text-xl md:text-2xl font-bold text-foreground">${u("categories.title")}</h2>
                </div>
                <button class="close-categories p-2 hover:bg-accent rounded-full transition-colors"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>

            <div class="p-4 md:p-5 bg-muted/20 border-b">
                <div class="flex items-center gap-3 max-w-xl mx-auto w-full">
                    <button id="new-cat-icon-trigger" class="w-10 h-10 md:w-11 md:h-11 bg-background border flex items-center justify-center rounded-xl hover:bg-accent transition-all shrink-0">
                        <i data-lucide="tag" id="new-cat-icon-preview" class="w-4 h-4 md:w-5 md:h-5 text-foreground/50"></i>
                    </button>
                    <div class="relative flex-1">
                        <input type="text" id="new-cat-name" placeholder="${u("categories.add_new")}..." 
                               class="h-10 md:h-11 w-full px-4 bg-background border-none ring-1 ring-border focus:ring-2 focus:ring-violet-500 rounded-xl transition-all text-sm md:text-base" autocomplete="off">
                    </div>
                    <button id="add-cat-btn" class="btn-shad btn-shad-primary h-10 md:h-11 px-6 font-bold shadow-lg shadow-primary/20 transition-all active:scale-95">
                        <i data-lucide="plus" class="w-4 h-4 mr-2"></i>
                        <span>${u("common.confirm")}</span>
                    </button>
                </div>
            </div>

            <div class="flex-1 overflow-y-auto p-4 md:p-6 space-y-2.5 max-w-xl mx-auto w-full" id="cat-manager-list">
                <!-- Items injected here -->
            </div>
            
            <div class="p-4 border-t bg-background/50 backdrop-blur-md sticky bottom-0">
                <button class="close-categories w-full md:max-w-[200px] mx-auto block h-11 bg-secondary text-secondary-foreground font-bold rounded-xl hover:bg-secondary/80 transition-all text-sm underline">Cerrar</button>
            </div>
        </div>
        <div id="cat-icon-picker" class="fixed z-[80] hidden popover-content p-4 w-72 max-h-80 overflow-y-auto bg-popover border shadow-2xl rounded-3xl backdrop-blur-3xl">
            <div class="grid grid-cols-5 gap-3 p-1" id="cat-icons-grid"></div>
        </div>
    </div>`}function Re(n,e=null){const t=document.getElementById("cat-manager-list");if(!t)return;t.innerHTML="",e&&(p.categories=e),p.categories.forEach((s,l)=>{const c=document.createElement("div");c.className="flex items-center gap-2 p-1.5 rounded-xl border bg-card/50 hover:bg-accent/30 transition-all group",c.innerHTML=`
            <div class="flex flex-col gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity">
                <button class="p-1 hover:bg-accent rounded-lg move-up" data-id="${s.id}"><i data-lucide="chevron-up" class="w-4 h-4 text-muted-foreground"></i></button>
                <button class="p-1 hover:bg-accent rounded-lg move-down" data-id="${s.id}"><i data-lucide="chevron-down" class="w-4 h-4 text-muted-foreground"></i></button>
            </div>

            <div class="w-10 h-10 rounded-xl cursor-pointer hover:bg-accent border bg-background flex items-center justify-center shrink-0 transition-all active:scale-95" 
                 id="icon-trigger-${s.id}" title="Cambiar icono">
                 <i data-lucide="${s.icon||"tag"}" class="w-4 h-4 text-foreground/80"></i>
            </div>
            
            <div class="flex flex-col flex-1 min-w-0">
                <input type="text" value="${s.name}" 
                       class="bg-transparent border-none outline-none font-bold text-sm w-full focus:ring-0 transition-colors h-6 px-0 rounded"
                       id="cn-${s.id}" autocomplete="off">
                <span class="text-[9px] text-muted-foreground uppercase tracking-widest font-medium">${s.passwordHash?"Restringida":"PÃºblica"}</span>
            </div>
            
            <div class="flex items-center gap-1">
                <button class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-violet-500/10 transition-all ${s.passwordHash?"text-violet-500 bg-violet-500/5 border border-violet-500/20":"text-muted-foreground border border-transparent"}"
                        id="lock-${s.id}" title="${s.passwordHash?"Restringida":"RestricciÃ³n"}">
                    <i data-lucide="${s.passwordHash?"lock":"unlock"}" class="w-4 h-4"></i>
                </button>
                <button class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-destructive/10 hover:text-destructive text-muted-foreground border border-transparent transition-all"
                        id="del-${s.id}" title="Eliminar">
                    <i data-lucide="trash-2" class="w-4 h-4"></i>
                </button>
            </div>
        `,t.appendChild(c),document.getElementById(`icon-trigger-${s.id}`).onclick=b=>{b.stopPropagation(),zn(s.id,n,b.currentTarget)};const d=document.getElementById(`cn-${s.id}`);d.oninput=b=>{s.name=b.target.value,n()},d.onchange=async()=>{await U(),n(),window.triggerAutoSync&&window.triggerAutoSync()};const m=c.querySelector(".move-up"),f=c.querySelector(".move-down");m.onclick=()=>Hn(s.id,n),f.onclick=()=>Un(s.id,n),document.getElementById(`lock-${s.id}`).onclick=()=>qn(s.id,n),document.getElementById(`del-${s.id}`).onclick=()=>Vn(s.id,n)});const a=document.getElementById("add-cat-btn"),o=document.getElementById("new-cat-name"),i=async()=>{const s=o.value.trim();if(!s)return;const l={id:"cat_"+Date.now(),name:s,icon:na||"tag",passwordHash:null,updatedAt:Date.now()};p.categories.push(l),o.value="",na="tag";const c=document.getElementById("new-cat-icon-preview");c&&c.setAttribute("data-lucide","tag"),await U(),Re(n),n(),window.triggerAutoSync&&window.triggerAutoSync(),C("âœ… CategorÃ­a creada")};a&&(a.onclick=i),o&&(o.onkeydown=s=>{s.key==="Enter"&&i()});const r=document.getElementById("new-cat-icon-trigger");r&&(r.onclick=s=>{s.stopPropagation(),jn(r)}),M()}async function Hn(n,e){const t=p.categories.findIndex(a=>a.id===n);if(t>0){const a=p.categories[t];p.categories[t]=p.categories[t-1],p.categories[t-1]=a,await U(),Re(e),e(),window.triggerAutoSync&&window.triggerAutoSync()}}async function Un(n,e){const t=p.categories.findIndex(a=>a.id===n);if(t<p.categories.length-1){const a=p.categories[t];p.categories[t]=p.categories[t+1],p.categories[t+1]=a,await U(),Re(e),e(),window.triggerAutoSync&&window.triggerAutoSync()}}async function jn(n){const e=document.getElementById("cat-icon-picker"),t=document.getElementById("cat-icons-grid");t.innerHTML="",Na.forEach(i=>{const r=document.createElement("button");r.className="w-9 h-9 flex items-center justify-center rounded-md hover:bg-primary/10 hover:text-primary transition-all text-muted-foreground",r.innerHTML=`<i data-lucide="${i}" class="w-5 h-5"></i>`,r.onclick=()=>{na=i;const s=document.getElementById("new-cat-icon-trigger");s&&(s.innerHTML=`<i data-lucide="${i}" id="new-cat-icon-preview" class="w-5 h-5 md:w-6 md:h-6 text-foreground/50"></i>`,M()),e.classList.add("hidden")},t.appendChild(r)}),M();const a=n.getBoundingClientRect();e.style.top=`${a.bottom+8}px`,e.style.left=`${a.left}px`,e.classList.remove("hidden");const o=i=>{!e.contains(i.target)&&!n.contains(i.target)&&(e.classList.add("hidden"),document.removeEventListener("click",o))};setTimeout(()=>document.addEventListener("click",o),10)}async function zn(n,e,t){const a=p.categories.find(l=>l.id===n);if(!a)return;const o=document.getElementById("cat-icon-picker"),i=document.getElementById("cat-icons-grid");i.innerHTML="",Na.forEach(l=>{const c=document.createElement("button");c.className="w-9 h-9 flex items-center justify-center rounded-md hover:bg-primary/10 hover:text-primary transition-all text-muted-foreground",c.innerHTML=`<i data-lucide="${l}" class="w-5 h-5"></i>`,c.onclick=async()=>{a.icon=l,await U(),Re(e),e(),o.classList.add("hidden"),window.triggerAutoSync&&window.triggerAutoSync()},i.appendChild(c)}),M();const r=t.getBoundingClientRect();o.style.top=`${r.bottom+8}px`,o.style.left=`${r.left}px`,o.classList.remove("hidden");const s=l=>{!o.contains(l.target)&&!t.contains(l.target)&&(o.classList.add("hidden"),document.removeEventListener("click",s))};setTimeout(()=>document.addEventListener("click",s),10)}async function Vn(n,e){const t=p.categories.find(a=>a.id===n);if(t){if(t.passwordHash){const a=await Ce("Seguridad",`Ingresa tu clave para eliminar "${t.name}":`,!0);if(!a)return;let o=!1;if((typeof a=="object"&&a.biometric||await T.hash(a)===(t.passwordHash==="MASTER"?localStorage.getItem(KEYS.MASTER_HASH):t.passwordHash))&&(o=!0),!o)return C("âŒ Clave incorrecta")}confirm(`Â¿Eliminar la categorÃ­a "${t.name}"? Las notas no se borrarÃ¡n.`)&&(p.categories=p.categories.filter(a=>a.id!==n),p.notes.forEach(a=>{a.categoryId===n&&(a.categoryId=null)}),p.currentView===n&&(p.currentView="all"),await U(),Re(e),e(),window.triggerAutoSync&&window.triggerAutoSync())}}async function qn(n,e){const t=p.categories.find(a=>a.id===n);if(t){if(t.passwordHash){const a=await Ce("Seguridad","Confirma tu sesiÃ³n para quitar la restricciÃ³n:",!0);if(!a)return;let o=!1;if((typeof a=="object"&&a.biometric||await T.hash(a)===(t.passwordHash==="MASTER"?localStorage.getItem(KEYS.MASTER_HASH):t.passwordHash))&&(o=!0),o)t.passwordHash=null,C("ðŸ”“ RestricciÃ³n quitada");else return C("âŒ Clave incorrecta")}else t.passwordHash="MASTER",C("ðŸ”’ CategorÃ­a restringida (usa tu clave maestra)");await U(),Re(e),e(),window.triggerAutoSync&&window.triggerAutoSync()}}function Kn(){return`
    <div id="settings-modal" class="fixed inset-0 z-[80] hidden">
        <div class="dialog-overlay"></div>
        <div class="dialog-content w-full h-full md:w-full md:max-w-5xl md:h-[min(700px,90vh)] p-0 overflow-hidden flex flex-col md:flex-row rounded-none md:rounded-3xl shadow-2xl">
            <!-- Sidebar Settings -->
            <div id="settings-sidebar" class="w-full md:w-64 bg-muted/50 border-b md:border-b-0 md:border-r p-4 flex flex-col gap-2 overflow-y-auto">
                <div class="flex items-center justify-between mb-2 md:hidden">
                    <h3 class="font-bold text-xl">${u("settings.title")}</h3>
                    <button class="close-settings p-2 hover:bg-accent rounded-full">
                        <i data-lucide="x" class="w-5 h-5"></i>
                    </button>
                </div>
                <button class="settings-tab py-3 md:py-2.5 px-4 text-base md:text-sm flex items-center gap-3 md:gap-2 active-highlight" data-tab="appearance">
                    <i data-lucide="palette" class="w-5 h-5"></i> ${u("settings.general")}
                </button>
                <button class="settings-tab py-3 md:py-2.5 px-4 text-base md:text-sm flex items-center gap-3 md:gap-2" data-tab="sync">
                    <i data-lucide="refresh-cw" class="w-5 h-5"></i> ${u("settings.sync")}
                </button>
                <button class="settings-tab py-3 md:py-2.5 px-4 text-base md:text-sm flex items-center gap-3 md:gap-2" data-tab="security">
                    <i data-lucide="shield" class="w-5 h-5"></i> ${u("settings.security")}
                </button>
                <button class="settings-tab py-3 md:py-2.5 px-4 text-base md:text-sm flex items-center gap-3 md:gap-2" data-tab="backups">
                    <i data-lucide="database" class="w-5 h-5"></i> ${u("backups.title")}
                </button>
                <button class="settings-tab text-destructive mt-auto py-3 md:py-2.5 px-4 text-base md:text-sm flex items-center gap-3 md:gap-2" data-tab="danger">
                    <i data-lucide="alert-triangle" class="w-5 h-5"></i> ${u("settings.danger")}
                </button>
                <div class="pt-2 border-t border-border/10">
                    <button id="logout-btn" class="w-full h-11 flex items-center gap-3 px-4 text-sm text-destructive hover:bg-destructive/10 rounded-xl transition-all font-bold">
                        <i data-lucide="log-out" class="w-4 h-4"></i> ${u("settings.logout")}
                    </button>
                </div>
            </div>

            <!-- Content Area -->
            <div class="flex-1 flex flex-col min-w-0" id="settings-content-area">
                <div class="p-4 md:p-3 border-b flex items-center gap-2">
                    <button class="md:hidden p-2 hover:bg-accent rounded-xl group" id="settings-back-btn">
                        <i data-lucide="arrow-left" class="w-5 h-5 text-muted-foreground group-hover:text-foreground"></i>
                    </button>
                    <h2 id="settings-tab-title" class="font-bold text-lg md:text-sm flex-1">${u("settings.title")}</h2>
                    <button class="close-settings p-2 hover:bg-accent rounded-xl group">
                        <i data-lucide="x" class="w-5 h-5 text-muted-foreground group-hover:text-foreground"></i>
                    </button>
                </div>

                <div class="flex-1 overflow-y-auto p-6" id="settings-panels">
                    <!-- Panel: Apariencia -->
                    <div id="panel-appearance" class="settings-panel space-y-6">
                        <section class="space-y-4">
                            <h3 class="text-sm font-semibold uppercase tracking-wider text-muted-foreground">${u("settings.lang")}</h3>
                            <div class="space-y-2">
                            <div class="relative w-full max-w-sm">
                                <button id="lang-picker-btn" class="w-full h-11 px-4 rounded-xl border bg-card flex items-center justify-between hover:bg-accent transition-all">
                                    <div class="flex items-center gap-3">
                                        <span id="current-lang-flag" class="text-xl flag-icon font-normal">ðŸ‡ºðŸ‡¸</span>
                                        <span id="current-lang-name" class="text-sm font-medium">English</span>
                                    </div>
                                    <i data-lucide="chevron-down" class="w-4 h-4 text-muted-foreground"></i>
                                </button>
                                <div id="lang-picker-dropdown" class="absolute top-full left-0 w-full mt-2 bg-popover border rounded-xl shadow-2xl hidden z-50 py-1 max-h-[300px] overflow-y-auto">
                                    <button class="lang-item w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent transition-all" data-value="en">
                                        <span class="text-xl flag-icon font-normal">ðŸ‡ºðŸ‡¸</span> <span class="text-sm">English</span>
                                    </button>
                                    <button class="lang-item w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent transition-all" data-value="es">
                                        <span class="text-xl flag-icon font-normal">ðŸ‡ªðŸ‡¸</span> <span class="text-sm">EspaÃ±ol</span>
                                    </button>
                                    <button class="lang-item w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent transition-all" data-value="fr">
                                        <span class="text-xl flag-icon font-normal">ðŸ‡«ðŸ‡·</span> <span class="text-sm">FranÃ§ais</span>
                                    </button>
                                    <button class="lang-item w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent transition-all" data-value="de">
                                        <span class="text-xl flag-icon font-normal">ðŸ‡©ðŸ‡ª</span> <span class="text-sm">Deutsch</span>
                                    </button>
                                    <button class="lang-item w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent transition-all" data-value="it">
                                        <span class="text-xl flag-icon font-normal">ðŸ‡®ðŸ‡¹</span> <span class="text-sm">Italiano</span>
                                    </button>
                                    <button class="lang-item w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent transition-all" data-value="pt">
                                        <span class="text-xl flag-icon font-normal">ðŸ‡µðŸ‡¹</span> <span class="text-sm">PortuguÃªs</span>
                                    </button>
                                    <button class="lang-item w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent transition-all" data-value="ru">
                                        <span class="text-xl flag-icon font-normal">ðŸ‡·ðŸ‡º</span> <span class="text-sm">Ð ÑƒÑÑÐºÐ¸Ð¹</span>
                                    </button>
                                    <button class="lang-item w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent transition-all" data-value="zh">
                                        <span class="text-xl flag-icon font-normal">ðŸ‡¨ðŸ‡³</span> <span class="text-sm">ä¸­æ–‡</span>
                                    </button>
                                    <button class="lang-item w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent transition-all" data-value="ja">
                                        <span class="text-xl flag-icon font-normal">ðŸ‡¯ðŸ‡µ</span> <span class="text-sm">æ—¥æœ¬èªž</span>
                                    </button>
                                    <button class="lang-item w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent transition-all" data-value="ko">
                                        <span class="text-xl flag-icon font-normal">ðŸ‡°ðŸ‡·</span> <span class="text-sm">í•œêµ­ì–´</span>
                                    </button>
                                    <button class="lang-item w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent transition-all" data-value="ar">
                                        <span class="text-xl flag-icon font-normal">ðŸ‡¸ðŸ‡¦</span> <span class="text-sm">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
                                    </button>
                                    <button class="lang-item w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent transition-all" data-value="hi">
                                        <span class="text-xl flag-icon font-normal">ðŸ‡®ðŸ‡³</span> <span class="text-sm">ãƒ’ãƒ³ãƒ‡ã‚£ãƒ¼èªž</span>
                                    </button>
                                </div>
                            </div>
                            </div>
                        </section>

                        <section class="space-y-3 pt-4 border-t">
                            <h3 class="text-[10px] font-bold uppercase tracking-widest text-muted-foreground/60">${u("settings.theme")}</h3>
                            <div class="flex gap-2">
                                <button id="theme-light" class="flex-1 h-9 rounded-lg border bg-card hover:bg-accent transition-all flex items-center justify-center gap-2 group ring-primary">
                                    <div class="w-3 h-3 rounded-full bg-zinc-200 border border-zinc-300"></div>
                                    <span class="text-[10px] font-bold uppercase tracking-wider">${u("settings.light")}</span>
                                </button>
                                <button id="theme-dark" class="flex-1 h-9 rounded-lg border bg-zinc-950 hover:bg-zinc-900 transition-all flex items-center justify-center gap-2 group ring-primary">
                                    <div class="w-3 h-3 rounded-full bg-zinc-700 border border-zinc-600"></div>
                                    <span class="text-[10px] font-bold uppercase tracking-wider text-white">${u("settings.dark")}</span>
                                </button>
                            </div>
                        </section>

                        <section class="space-y-4 pt-4 border-t">
                            <h3 class="text-sm font-semibold uppercase tracking-wider text-muted-foreground">${u("settings.maintenance")}</h3>
                            <div class="p-4 rounded-xl border bg-primary/5 space-y-3">
                                <div class="flex items-center justify-between">
                                    <span class="text-xs font-medium">${u("settings.installed_version")}</span>
                                    <span class="text-xs font-bold font-mono text-primary" id="settings-version-display">v4.0.0</span>
                                </div>
                                <button id="force-reload-btn" class="btn-shad btn-shad-outline w-full h-10 flex items-center justify-center gap-2 group text-sm rounded-lg">
                                    <i data-lucide="refresh-cw" class="w-4 h-4 group-hover:rotate-180 transition-transform duration-500"></i>
                                    ${u("sidebar.force_reload")}
                                </button>
                            </div>
                        </section>
                    </div>

                    <!-- Panel: SincronizaciÃ³n (Local Folder) -->
                    <div id="panel-sync" class="settings-panel hidden space-y-6">
                        <section class="space-y-4">
                            <div class="flex items-center justify-between">
                            <h3 class="text-sm font-semibold uppercase tracking-wider text-muted-foreground">${Ee()?"Memoria del TelÃ©fono":u("settings.local_folder")}</h3>
                                <div id="folder-status" class="text-[10px] px-2 py-0.5 rounded-full bg-muted text-muted-foreground font-bold uppercase">${u("settings.sync_status.disconnected")}</div>
                            </div>
                            
                            <p class="text-xs text-muted-foreground">
                                ${Ee()?"Elige una carpeta en tu telÃ©fono para sincronizar las notas. Puedes usar una carpeta existente o crear una nueva.":"Selecciona una carpeta local para sincronizar tus notas. Ideal para usar con servicios de nube como Dropbox o OneDrive."}
                            </p>

                            <button id="connect-folder-btn" class="btn-shad btn-shad-outline w-full h-12 flex items-center justify-center gap-2 text-base rounded-xl">
                                <i data-lucide="${Ee()?"smartphone":"folder-plus"}" class="w-5 h-5"></i> ${Ee()?"Activar modo local":u("settings.connect_folder")}
                            </button>


                            <div class="pt-6 border-t border-dashed space-y-4">
                                <h3 class="text-sm font-semibold uppercase tracking-wider text-muted-foreground">MigraciÃ³n (v3 a v4)</h3>
                                <p class="text-[10px] text-muted-foreground">
                                    Si tienes un backup (.cnb) de la versiÃ³n anterior, Ãºsalo aquÃ­ para migrar tus notas a la nueva estructura de carpetas.
                                </p>
                                <label class="btn-shad btn-shad-primary w-full h-12 flex items-center justify-center gap-2 rounded-xl text-sm cursor-pointer shadow-lg shadow-primary/20">
                                    <i data-lucide="import" class="w-4 h-4"></i> Importar Backup (.cnb)
                                    <input type="file" id="migrate-cnb-input" class="hidden" accept=".cnb">
                                </label>
                            </div>
                        </section>
                    </div>

                    <!-- Panel: Seguridad -->
                    <div id="panel-security" class="settings-panel hidden space-y-6">
                        <section class="space-y-4">
                            <h3 class="text-sm font-semibold uppercase tracking-wider text-muted-foreground">${u("biometrics.title")}</h3>
                            <div class="p-6 rounded-2xl border space-y-4" id="bio-settings-container">
                                <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
                                    <div class="flex-1">
                                        <p class="text-lg font-bold md:text-base">${u("biometrics.title")}</p>
                                        <p class="text-sm text-muted-foreground mt-1">${u("biometrics.desc")}</p>
                                        <div class="mt-3 flex items-center gap-2">
                                            <div id="bio-status-badge" class="text-xs px-3 py-1.5 rounded-full bg-muted text-muted-foreground font-bold uppercase tracking-wider">
                                                ${u("biometrics.disabled")}
                                            </div>
                                        </div>
                                    </div>
                                    <button id="toggle-biometric-btn" class="btn-shad btn-shad-primary w-full md:w-auto h-14 md:h-11 px-8 flex items-center justify-center gap-3 shrink-0 rounded-2xl md:rounded-xl text-lg md:text-sm font-bold shadow-lg shadow-primary/20 active:scale-95">
                                        <i data-lucide="fingerprint" class="w-6 h-6 md:w-5 md:h-5"></i>
                                        <span id="bio-toggle-text">${u("biometrics.enable_btn")}</span>
                                    </button>
                                </div>
                            </div>
                        </section>
                        
                        <section class="space-y-4 pt-4 border-t">
                            <label for="config-app-lock" class="flex items-center justify-between cursor-pointer group">
                                <div>
                                    <h3 class="text-sm font-semibold uppercase tracking-wider text-muted-foreground group-hover:text-foreground transition-colors">${u("settings.app_lock")}</h3>
                                    <p class="text-[10px] text-muted-foreground">${u("settings.app_lock_hint")}</p>
                                </div>
                                <div class="relative inline-flex items-center pointer-events-none">
                                    <input type="checkbox" id="config-app-lock" class="sr-only peer">
                                    <div class="w-11 h-6 bg-muted peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                </div>
                            </label>
                        </section>

                        
                        <section class="space-y-4 pt-4 border-t">
                            <h3 class="text-sm font-semibold uppercase tracking-wider text-muted-foreground">${u("settings.encryption")}</h3>
                            <div class="space-y-3">
                                <label class="text-sm font-medium">${u("settings.algo")}</label>
                                <select id="config-algo" class="h-12 md:h-10 w-full px-4 rounded-xl">
                                    <option value="aes-256-gcm">AES-256-GCM (Recommended)</option>
                                    <option value="kyber">CRYSTALS-Kyber (Experimental)</option>
                                </select>
                            </div>
                             <button id="save-security-config" class="btn-shad btn-shad-primary w-full h-14 font-bold rounded-2xl text-lg shadow-lg shadow-primary/20 transition-all active:scale-95">${u("settings.update_algo")}</button>
                        </section>
                    </div>

                    <!-- Panel: Backups -->
                    <div id="panel-backups" class="settings-panel hidden space-y-6">
                        <section class="space-y-4">
                            <h3 class="text-sm font-semibold uppercase tracking-wider text-muted-foreground">${u("backups.title")}</h3>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <button id="export-db-btn" class="btn-shad btn-shad-outline h-14 flex items-center justify-center gap-3 rounded-2xl font-bold">
                                    <i data-lucide="download" class="w-5 h-5"></i> ${u("backups.export_btn")}
                                </button>
                                
                                <label class="btn-shad btn-shad-outline h-14 flex items-center justify-center gap-3 rounded-2xl font-bold cursor-pointer hover:bg-accent transition-all">
                                    <i data-lucide="upload" class="w-5 h-5"></i> ${u("backups.import_btn")}
                                    <input type="file" id="import-db-input" class="hidden" accept=".cnb">
                                </label>
                            </div>
                        </section>

                        <section class="space-y-4 pt-4 border-t">
                            <div class="flex items-center justify-between">
                                <h3 class="text-sm font-semibold uppercase tracking-wider text-muted-foreground">${u("backups.local_backups")}</h3>
                                <button id="clear-backups-btn" class="text-[10px] text-destructive hover:underline uppercase font-bold tracking-tight">${u("backups.delete_all")}</button>
                            </div>
                            <p class="text-xs text-muted-foreground">${u("backups.auto_backup_desc")}</p>
                            
                            <div id="local-backups-list" class="space-y-2 max-h-[250px] overflow-y-auto pr-2 custom-scrollbar">
                                <div class="text-center py-8 text-muted-foreground text-sm opacity-50">${u("backups.no_backups")}</div>
                            </div>
                        </section>
                    </div>

                    <!-- Panel: Danger Zone -->
                    <div id="panel-danger" class="settings-panel hidden space-y-6">
                        <section class="p-4 rounded-lg border border-destructive/20 bg-destructive/5 space-y-4">
                            <h3 class="text-sm font-semibold text-destructive uppercase tracking-wider">${u("settings.reset_app")}</h3>
                            <p class="text-xs text-muted-foreground underline">${u("settings.reset_warning")}</p>
                            <div class="space-y-2">
                                <label class="text-[10px] uppercase font-bold text-destructive/70">${u("settings.reset_confirm_label")}</label>
                                <input type="text" id="factory-reset-confirm" class="h-10 px-4 mt-1 w-full border rounded-md" placeholder="${u("settings.reset_keyword")}" autocomplete="off">
                            </div>
                            <button id="factory-reset" class="btn-shad bg-destructive text-destructive-foreground hover:bg-destructive/90 w-full h-10 disabled:opacity-50 disabled:cursor-not-allowed">
                                <i data-lucide="trash-2" class="w-4 h-4 mr-2"></i> ${u("settings.reset_btn")}
                            </button>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>`}function Gn(){const n=document.querySelectorAll(".settings-panel"),e=document.querySelectorAll(".settings-tab"),t=document.getElementById("settings-tab-title"),a=document.getElementById("settings-sidebar"),o=a.nextElementSibling,i=document.getElementById("settings-back-btn"),r=x=>{e.forEach(_=>_.classList.toggle("active",_.dataset.tab===x)),n.forEach(_=>_.classList.toggle("hidden",_.id!==`panel-${x}`));const w={appearance:u("settings.general"),sync:u("settings.sync"),security:u("settings.security"),backups:u("backups.title"),danger:u("settings.danger")};t.innerText=w[x]||u("settings.title"),window.innerWidth<768&&(a.classList.add("hidden"),o.classList.remove("hidden"),i.classList.remove("hidden")),M()};e.forEach(x=>{x.onclick=()=>r(x.dataset.tab)}),i.onclick=()=>{a.classList.remove("hidden"),o.classList.add("hidden"),i.classList.add("hidden"),t.innerText="ConfiguraciÃ³n"},window.innerWidth<768?(o.classList.add("hidden"),i.classList.add("hidden"),e.forEach(x=>x.classList.remove("active"))):r("appearance");const s=async()=>{const{FileStorage:x}=await G(async()=>{const{FileStorage:A}=await Promise.resolve().then(()=>Xe);return{FileStorage:A}},void 0,import.meta.url),w=await x.getHandleStatus(),_=document.getElementById("folder-status"),I=document.getElementById("connect-folder-btn");_&&(w.permission==="granted"&&w.hasHandle?(_.innerText=(Ee()?w.folder:u("settings.sync_status.connected")).toUpperCase(),_.classList.replace("bg-muted","bg-emerald-500/20"),_.classList.replace("text-muted-foreground","text-emerald-500"),I&&(I.innerHTML=`<i data-lucide="folder-check" class="w-5 h-5"></i> ${Ee()?"Sincronizar ahora":"Cambiar Carpeta"}`,I.classList.remove("btn-shad-primary"),I.classList.add("btn-shad-outline"))):w.hasHandle?(_.innerText="PERMISO REQUERIDO",_.classList.remove("bg-emerald-500/20","text-emerald-500"),_.classList.add("bg-amber-500/20","text-amber-500"),I&&(I.innerHTML='<i data-lucide="unlock" class="w-5 h-5"></i> Reactivar SincronizaciÃ³n',I.classList.remove("btn-shad-outline"),I.classList.add("btn-shad-primary"))):(_.innerText=u("settings.sync_status.disconnected").toUpperCase(),_.classList.remove("bg-emerald-500/20","text-emerald-500","bg-amber-500/20","text-amber-500"),_.classList.add("bg-muted","text-muted-foreground"),I&&(I.innerHTML=`<i data-lucide="${Ee()?"smartphone":"folder-plus"}" class="w-5 h-5"></i> ${Ee()?"Activar modo local":u("settings.connect_folder")}`,I.classList.remove("btn-shad-primary"),I.classList.add("btn-shad-outline"))),M())};s();const l=document.getElementById("connect-folder-btn");l&&(l.onclick=async()=>{const{FileStorage:x}=await G(async()=>{const{FileStorage:N}=await Promise.resolve().then(()=>Xe);return{FileStorage:N}},void 0,import.meta.url),{showToast:w,openPrompt:_}=await G(async()=>{const{showToast:N,openPrompt:Y}=await Promise.resolve().then(()=>Me);return{showToast:N,openPrompt:Y}},void 0,import.meta.url),I=sessionStorage.getItem(g.VAULT_KEY)||localStorage.getItem(g.VAULT_KEY),A=await x.getHandleStatus();try{if(Ee()){let N=await x.pickFolder();N&&N.trim()?(await x.connectFolder(N.trim()),w(`âœ… Carpeta vinculada: ${N.trim()}`)):A.hasHandle||(await x.connectFolder(),w('âœ… Carpeta "PrivateNotes" vinculada por defecto'))}else A.hasHandle&&A.permission!=="granted"?await x.getHandle(!0)&&w("âœ… SincronizaciÃ³n reactivada"):(await x.connectFolder(),w("âœ… Carpeta conectada"));if(s(),p.notes.length===0){w("ðŸ“¥ Recuperando notas de la carpeta...");const N=await x.pullData(I);N&&N.notes&&N.notes.length>0?(p.notes=N.notes,p.categories=N.categories||[],await U(),w(`âœ… ${N.notes.length} notas recuperadas`),setTimeout(()=>location.reload(),1e3)):w("â„¹ï¸ No se encontraron notas previas en esta carpeta")}else w("âœ… Carpeta lista para sincronizar")}catch(N){console.error(N),w("âŒ "+(N.message||"Error al conectar"))}});const c=document.getElementById("theme-light"),d=document.getElementById("theme-dark"),m=()=>{const x=p.settings.theme;c&&c.classList.toggle("ring-2",x==="light"),d&&d.classList.toggle("ring-2",x==="dark")};m(),c&&(c.onclick=()=>{p.settings.theme="light",document.documentElement.classList.remove("dark"),U(),m()}),d&&(d.onclick=()=>{p.settings.theme="dark",document.documentElement.classList.add("dark"),U(),m()});const f=document.getElementById("factory-reset-confirm"),b=document.getElementById("factory-reset");f&&b&&(b.disabled=!0,f.oninput=()=>{b.disabled=f.value!==u("settings.reset_keyword")},b.onclick=async()=>{confirm(u("settings.reset_warning"))&&(localStorage.clear(),sessionStorage.clear(),(await window.indexedDB.databases()).forEach(w=>window.indexedDB.deleteDatabase(w.name)),window.location.reload())});const v=document.getElementById("migrate-cnb-input");v&&(v.onchange=async x=>{const w=x.target.files[0];if(!w)return;const{FileStorage:_}=await G(async()=>{const{FileStorage:A}=await Promise.resolve().then(()=>Xe);return{FileStorage:A}},void 0,import.meta.url),I=sessionStorage.getItem(g.VAULT_KEY)||localStorage.getItem(g.VAULT_KEY);try{C("âš¡ Migrando datos...");const A=await _.migrateFromCNB(w,I);p.notes=A.notes,p.categories=A.categories||[],await U(),C("âœ… MigraciÃ³n completa. Recargando..."),setTimeout(()=>location.reload(),1500)}catch(A){C("âŒ Error en la migraciÃ³n: "+A.message)}});const y=document.getElementById("logout-btn");y&&(y.onclick=()=>{confirm(u("settings.logout_hint"))&&window.handleLogout()});const D=document.getElementById("force-reload-btn");D&&(D.onclick=oa);const F=document.getElementById("lang-picker-btn"),B=document.getElementById("lang-picker-dropdown"),H=document.querySelectorAll(".lang-item");if(F){const x=w=>{const _=Array.from(H).find(I=>I.dataset.value===w);_&&(document.getElementById("current-lang-flag").innerText=_.querySelector("span:first-child").innerText,document.getElementById("current-lang-name").innerText=_.querySelector("span:last-child").innerText,H.forEach(I=>I.classList.toggle("bg-primary/10",I.dataset.value===w)))};x(gt),F.onclick=w=>{w.stopPropagation(),B.classList.toggle("hidden")},H.forEach(w=>{w.onclick=()=>{const _=w.dataset.value;Tn(_),x(_),B.classList.add("hidden")}}),document.addEventListener("click",()=>{B.classList.add("hidden")})}const j=document.getElementById("toggle-biometric-btn"),ne=document.getElementById("bio-status-badge"),se=document.getElementById("bio-toggle-text"),O=document.getElementById("bio-settings-container");if(j){const x=()=>{localStorage.getItem(g.BIO_ENABLED)==="true"?(ne.textContent=u("biometrics.enabled"),ne.classList.remove("bg-muted","text-muted-foreground"),ne.classList.add("bg-primary/20","text-primary"),se.textContent=u("biometrics.disable_btn"),j.classList.remove("btn-shad-primary"),j.classList.add("btn-shad-outline"),O.classList.add("bg-primary/5")):(ne.textContent=u("biometrics.disabled"),ne.classList.remove("bg-primary/20","text-primary"),ne.classList.add("bg-muted","text-muted-foreground"),se.textContent=u("biometrics.enable_btn"),j.classList.remove("btn-shad-outline"),j.classList.add("btn-shad-primary"),O.classList.remove("bg-primary/5")),M()};x(),j.onclick=async()=>{if(localStorage.getItem(g.BIO_ENABLED)==="true"){localStorage.setItem(g.BIO_ENABLED,"false"),x();const{showToast:_}=await G(async()=>{const{showToast:I}=await Promise.resolve().then(()=>Me);return{showToast:I}},void 0,import.meta.url);_(u("biometrics.success_disable"))}else{const{showToast:_,openPrompt:I}=await G(async()=>{const{showToast:A,openPrompt:N}=await Promise.resolve().then(()=>Me);return{showToast:A,openPrompt:N}},void 0,import.meta.url);if(!window.PublicKeyCredential)return _(u("biometrics.not_supported"));try{const A=await I(u("biometrics.setup_prompt"),!0);if(!A||A.biometric)return;const{SecurityService:N}=await G(async()=>{const{SecurityService:xe}=await Promise.resolve().then(()=>dn);return{SecurityService:xe}},void 0,import.meta.url),Y=await N.hash(A),Z=localStorage.getItem(g.MASTER_HASH);if(Y!==Z)return _(u("biometrics.incorrect_pass"));const le=new Uint8Array(32);window.crypto.getRandomValues(le),await navigator.credentials.create({publicKey:{challenge:le,rp:{name:u("app_name"),id:window.location.hostname},user:{id:new Uint8Array(16),name:"user",displayName:"User"},pubKeyCredParams:[{alg:-7,type:"public-key"}],timeout:6e4,authenticatorSelection:{authenticatorAttachment:"platform",residentKey:"preferred",requireResidentKey:!1},attestation:"none"}});const we=await N.deriveVaultKey(A);localStorage.setItem(g.VAULT_KEY,we),localStorage.setItem(g.BIO_ENABLED,"true"),x(),_(u("biometrics.success_enable"))}catch(A){console.error(A),_(u("biometrics.fail_enable")+": "+A.message)}}}}const $=document.getElementById("export-db-btn"),V=document.getElementById("import-db-input"),oe=document.getElementById("clear-backups-btn"),J=document.getElementById("local-backups-list");$&&($.onclick=async()=>{const{BackupService:x}=await G(async()=>{const{BackupService:_}=await Promise.resolve().then(()=>at);return{BackupService:_}},void 0,import.meta.url),{showToast:w}=await G(async()=>{const{showToast:_}=await Promise.resolve().then(()=>Me);return{showToast:_}},void 0,import.meta.url);try{await x.exportToFile(),w(u("backups.export_success"))}catch(_){w("âŒ "+_.message)}}),V&&(V.onchange=async x=>{const w=x.target.files[0];if(!w)return;const{BackupService:_}=await G(async()=>{const{BackupService:A}=await Promise.resolve().then(()=>at);return{BackupService:A}},void 0,import.meta.url),{showToast:I}=await G(async()=>{const{showToast:A}=await Promise.resolve().then(()=>Me);return{showToast:A}},void 0,import.meta.url);try{await _.importFromFile(w),I(u("backups.import_success")),window.location.reload()}catch(A){I(u("backups.import_fail")),console.error(A)}});const ee=async()=>{if(!J)return;const{BackupService:x}=await G(async()=>{const{BackupService:_}=await Promise.resolve().then(()=>at);return{BackupService:_}},void 0,import.meta.url),w=x.getLocalBackups();if(w.length===0){J.innerHTML=`<div class="text-center py-8 text-muted-foreground text-sm opacity-50">${u("backups.no_backups")}</div>`;return}J.innerHTML=w.map(_=>`
                <div class="flex items-center justify-between p-3 rounded-xl border bg-muted/20 hover:bg-muted/30 transition-all group">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center text-primary">
                            <i data-lucide="calendar" class="w-4 h-4"></i>
                        </div>
                        <div>
                            <p class="text-xs font-bold">${new Date(_.timestamp).toLocaleString()}</p>
                            <p class="text-[10px] text-muted-foreground">ID: ${_.id}</p>
                        </div>
                    </div>
                    <button class="restore-bak-btn h-8 px-4 rounded-lg bg-primary/10 text-primary hover:bg-primary hover:text-white text-[10px] font-bold transition-all" data-id="${_.id}">
                        ${u("backups.restore")}
                    </button>
                </div>
            `).join(""),document.querySelectorAll(".restore-bak-btn").forEach(_=>{_.onclick=async()=>{if(confirm(u("backups.confirm_restore")))try{const{BackupService:I}=await G(async()=>{const{BackupService:A}=await Promise.resolve().then(()=>at);return{BackupService:A}},void 0,import.meta.url);await I.restoreFromLocal(_.dataset.id),window.location.reload()}catch(I){const{showToast:A}=await G(async()=>{const{showToast:N}=await Promise.resolve().then(()=>Me);return{showToast:N}},void 0,import.meta.url);A("âŒ "+I.message)}}}),M()};oe&&(oe.onclick=async()=>{if(!confirm("Â¿Eliminar todas las copias de seguridad locales?"))return;const{BackupService:x}=await G(async()=>{const{BackupService:w}=await Promise.resolve().then(()=>at);return{BackupService:w}},void 0,import.meta.url);x.clearAllBackups(),ee()}),document.querySelector('[data-tab="backups"]').addEventListener("click",ee);const ie=document.getElementById("config-app-lock");if(ie){const x=localStorage.getItem(g.APP_LOCK)!=="false";ie.checked=x,ie.onchange=()=>{localStorage.setItem(g.APP_LOCK,ie.checked)}}}async function oa(){if(confirm("Esto reiniciarÃ¡ la aplicaciÃ³n, limpiarÃ¡ la cachÃ© y eliminarÃ¡ el Service Worker para forzar la Ãºltima versiÃ³n. Â¿Continuar?"))try{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();for(const t of e)await t.unregister()}if("caches"in window){const e=await caches.keys();for(const t of e)await caches.delete(t)}sessionStorage.clear();const n=new URL(window.location.href);n.searchParams.set("t",Date.now()),window.location.href=n.toString()}catch(n){console.error("Error clearing cache:",n),window.location.reload()}}function Yn(){return`
    <!-- Prompt Modal -->
    <div id="prompt-modal" class="fixed inset-0 z-[250] hidden flex items-start justify-center pt-24 md:pt-0 md:items-center p-4">
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm"></div>
        <div class="relative w-full max-w-[340px] bg-card border shadow-2xl rounded-2xl p-6 space-y-6 animate-in zoom-in-95 duration-200">
            <div class="space-y-2">
                <h2 id="prompt-title" class="text-xl font-bold tracking-tight">Seguridad</h2>
                <p id="prompt-desc" class="text-sm text-muted-foreground leading-relaxed">Ingresa la contraseÃ±a para continuar</p>
            </div>
            <div class="space-y-4">
                <div class="relative group">
                    <input type="password" id="prompt-input" placeholder="Tu contraseÃ±a"
                        class="h-12 w-full text-center tracking-widest outline-none pr-12 bg-muted/50 border border-border focus:border-indigo-500/50 transition-all rounded-xl">
                    <button type="button" id="prompt-toggle-visibility"
                        class="absolute right-0 top-0 h-12 w-12 flex items-center justify-center text-muted-foreground hover:text-foreground toggle-pass"
                        data-target="prompt-input">
                        <i data-lucide="eye" class="w-4 h-4"></i>
                    </button>
                </div>
                <div class="flex gap-3 pt-2">
                    <button id="prompt-cancel" class="h-11 px-4 rounded-xl border bg-background hover:bg-accent text-sm font-medium flex-1">Cancelar</button>
                    <button id="prompt-confirm" class="h-11 px-4 rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-bold flex-1 shadow-lg shadow-indigo-500/20">Confirmar</button>
                </div>
                <button id="prompt-biometric" class="hidden w-full h-11 rounded-xl bg-secondary/50 hover:bg-secondary text-secondary-foreground text-sm font-bold flex items-center justify-center gap-2 transition-all">
                    <i data-lucide="fingerprint" class="w-5 h-5"></i> Usar Huella
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast">
        <div class="border">
            Â¡AcciÃ³n completada!
        </div>
    </div>`}function da(n,e=null){const t=document.getElementById("sidebar-categories"),a=document.getElementById("mobile-sidebar-categories"),o=document.getElementById("edit-category");document.getElementById("cat-dropdown-menu"),e&&(p.categories=e),t&&(t.innerHTML=""),a&&(a.innerHTML="");const i=o?o.value:"";o&&(o.innerHTML=`<option value="">${u("categories.no_category")}</option>`),document.querySelectorAll('.nav-link[data-view="all"], .nav-link-mobile[data-view="all"], .nav-link-mobile-drawer[data-view="all"]').forEach(r=>{r.classList.toggle("active",p.currentView==="all")}),p.categories.forEach(r=>{const s=(l=!1)=>{const c=document.createElement("button");return c.className=l?"nav-link-mobile-drawer w-full group":"nav-link w-full group",c.setAttribute("data-view",r.id),p.currentView===r.id&&c.classList.add("active"),c.onclick=async()=>{if(l){const d=document.getElementById("mobile-sidebar-overlay");d&&d.classList.add("hidden")}if(r.passwordHash&&!p.unlockedCategories.has(r.id)){const d=await Ce(u("common.restricted_access"),`${u("common.enter_cat_pass")} "${r.name}":`,!0);if(!d)return;let m=!1;if(typeof d=="object"&&d.biometric)m=!0;else{const f=await T.hash(d),b=r.passwordHash==="MASTER"?localStorage.getItem(g.MASTER_HASH):r.passwordHash;f===b&&(m=!0)}if(m)p.unlockedCategories.add(r.id);else{C(u("auth.incorrect_pass"));return}}n(r.id,r.name)},c.innerHTML=`
                <div class="flex items-center justify-between w-full">
                    <div class="flex items-center gap-3">
                        <i data-lucide="${r.icon||"tag"}" class="w-4 h-4 text-foreground/70 group-hover:text-violet-500 transition-colors"></i>
                        <span class="truncate sidebar-label">${r.name}</span>
                    </div>
                    <div class="flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
                        ${r.passwordHash?'<i data-lucide="lock" class="w-3 h-3 text-muted-foreground"></i>':""}
                    </div>
                </div>
            `,c};if(t&&t.appendChild(s(!1)),a&&a.appendChild(s(!0)),o){const l=document.createElement("option");l.value=r.id,l.innerText=r.name,o.appendChild(l)}}),o&&i&&(o.value=i,o.value!==i&&(o.value="")),M()}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function _a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,a)}return t}function Ie(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_a(Object(t),!0).forEach(function(a){Wn(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_a(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function Et(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Et=function(e){return typeof e}:Et=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(n)}function Wn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Te(){return Te=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Te.apply(this,arguments)}function Xn(n,e){if(n==null)return{};var t={},a=Object.keys(n),o,i;for(i=0;i<a.length;i++)o=a[i],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function Jn(n,e){if(n==null)return{};var t=Xn(n,e),a,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(t[a]=n[a])}return t}var Zn="1.15.6";function Ae(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Le=Ae(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ft=Ae(/Edge/i),ya=Ae(/firefox/i),ct=Ae(/safari/i)&&!Ae(/chrome/i)&&!Ae(/android/i),ua=Ae(/iP(ad|od|hone)/i),Ua=Ae(/chrome/i)&&Ae(/android/i),ja={capture:!1,passive:!1};function P(n,e,t){n.addEventListener(e,t,!Le&&ja)}function L(n,e,t){n.removeEventListener(e,t,!Le&&ja)}function Bt(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function za(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function _e(n,e,t,a){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&Bt(n,e):Bt(n,e))||a&&n===t)return n;if(n===t)break}while(n=za(n))}return null}var wa=/\s+/g;function pe(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var a=(" "+n.className+" ").replace(wa," ").replace(" "+e+" "," ");n.className=(a+(t?" "+e:"")).replace(wa," ")}}function E(n,e,t){var a=n&&n.style;if(a){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in a)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),a[e]=t+(typeof t=="string"?"":"px")}}function Je(n,e){var t="";if(typeof n=="string")t=n;else do{var a=E(n,"transform");a&&a!=="none"&&(t=a+" "+t)}while(!e&&(n=n.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function Va(n,e,t){if(n){var a=n.getElementsByTagName(e),o=0,i=a.length;if(t)for(;o<i;o++)t(a[o],o);return a}return[]}function ke(){var n=document.scrollingElement;return n||document.documentElement}function X(n,e,t,a,o){if(!(!n.getBoundingClientRect&&n!==window)){var i,r,s,l,c,d,m;if(n!==window&&n.parentNode&&n!==ke()?(i=n.getBoundingClientRect(),r=i.top,s=i.left,l=i.bottom,c=i.right,d=i.height,m=i.width):(r=0,s=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,m=window.innerWidth),(e||t)&&n!==window&&(o=o||n.parentNode,!Le))do if(o&&o.getBoundingClientRect&&(E(o,"transform")!=="none"||t&&E(o,"position")!=="static")){var f=o.getBoundingClientRect();r-=f.top+parseInt(E(o,"border-top-width")),s-=f.left+parseInt(E(o,"border-left-width")),l=r+i.height,c=s+i.width;break}while(o=o.parentNode);if(a&&n!==window){var b=Je(o||n),v=b&&b.a,y=b&&b.d;b&&(r/=y,s/=v,m/=v,d/=y,l=r+d,c=s+m)}return{top:r,left:s,bottom:l,right:c,width:m,height:d}}}function xa(n,e,t){for(var a=Oe(n,!0),o=X(n)[e];a;){var i=X(a)[t],r=void 0;if(r=o>=i,!r)return a;if(a===ke())break;a=Oe(a,!1)}return!1}function et(n,e,t,a){for(var o=0,i=0,r=n.children;i<r.length;){if(r[i].style.display!=="none"&&r[i]!==S.ghost&&(a||r[i]!==S.dragged)&&_e(r[i],t.draggable,n,!1)){if(o===e)return r[i];o++}i++}return null}function pa(n,e){for(var t=n.lastElementChild;t&&(t===S.ghost||E(t,"display")==="none"||e&&!Bt(t,e));)t=t.previousElementSibling;return t||null}function fe(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==S.clone&&(!e||Bt(n,e))&&t++;return t}function Ea(n){var e=0,t=0,a=ke();if(n)do{var o=Je(n),i=o.a,r=o.d;e+=n.scrollLeft*i,t+=n.scrollTop*r}while(n!==a&&(n=n.parentNode));return[e,t]}function Qn(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var a in e)if(e.hasOwnProperty(a)&&e[a]===n[t][a])return Number(t)}return-1}function Oe(n,e){if(!n||!n.getBoundingClientRect)return ke();var t=n,a=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=E(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return ke();if(a||e)return t;a=!0}}while(t=t.parentNode);return ke()}function eo(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function zt(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var dt;function qa(n,e){return function(){if(!dt){var t=arguments,a=this;t.length===1?n.call(a,t[0]):n.apply(a,t),dt=setTimeout(function(){dt=void 0},e)}}}function to(){clearTimeout(dt),dt=void 0}function Ka(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function Ga(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function Ya(n,e,t){var a={};return Array.from(n.children).forEach(function(o){var i,r,s,l;if(!(!_e(o,e.draggable,n,!1)||o.animated||o===t)){var c=X(o);a.left=Math.min((i=a.left)!==null&&i!==void 0?i:1/0,c.left),a.top=Math.min((r=a.top)!==null&&r!==void 0?r:1/0,c.top),a.right=Math.max((s=a.right)!==null&&s!==void 0?s:-1/0,c.right),a.bottom=Math.max((l=a.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var ue="Sortable"+new Date().getTime();function ao(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(o){if(!(E(o,"display")==="none"||o===S.ghost)){n.push({target:o,rect:X(o)});var i=Ie({},n[n.length-1].rect);if(o.thisAnimationDuration){var r=Je(o,!0);r&&(i.top-=r.f,i.left-=r.e)}o.fromRect=i}})}},addAnimationState:function(a){n.push(a)},removeAnimationState:function(a){n.splice(Qn(n,{target:a}),1)},animateAll:function(a){var o=this;if(!this.options.animation){clearTimeout(e),typeof a=="function"&&a();return}var i=!1,r=0;n.forEach(function(s){var l=0,c=s.target,d=c.fromRect,m=X(c),f=c.prevFromRect,b=c.prevToRect,v=s.rect,y=Je(c,!0);y&&(m.top-=y.f,m.left-=y.e),c.toRect=m,c.thisAnimationDuration&&zt(f,m)&&!zt(d,m)&&(v.top-m.top)/(v.left-m.left)===(d.top-m.top)/(d.left-m.left)&&(l=oo(v,f,b,o.options)),zt(m,d)||(c.prevFromRect=d,c.prevToRect=m,l||(l=o.options.animation),o.animate(c,v,m,l)),l&&(i=!0,r=Math.max(r,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),i?e=setTimeout(function(){typeof a=="function"&&a()},r):typeof a=="function"&&a(),n=[]},animate:function(a,o,i,r){if(r){E(a,"transition",""),E(a,"transform","");var s=Je(this.el),l=s&&s.a,c=s&&s.d,d=(o.left-i.left)/(l||1),m=(o.top-i.top)/(c||1);a.animatingX=!!d,a.animatingY=!!m,E(a,"transform","translate3d("+d+"px,"+m+"px,0)"),this.forRepaintDummy=no(a),E(a,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),E(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){E(a,"transition",""),E(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},r)}}}}function no(n){return n.offsetWidth}function oo(n,e,t,a){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*a.animation}var qe=[],Vt={initializeByDefault:!0},ht={mount:function(e){for(var t in Vt)Vt.hasOwnProperty(t)&&!(t in e)&&(e[t]=Vt[t]);qe.forEach(function(a){if(a.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),qe.push(e)},pluginEvent:function(e,t,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var i=e+"Global";qe.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](Ie({sortable:t},a)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](Ie({sortable:t},a)))})},initializePlugins:function(e,t,a,o){qe.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var c=new s(e,t,e.options);c.sortable=e,c.options=e.options,e[l]=c,Te(a,c.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);typeof r<"u"&&(e.options[i]=r)}},getEventProperties:function(e,t){var a={};return qe.forEach(function(o){typeof o.eventProperties=="function"&&Te(a,o.eventProperties.call(t[o.pluginName],e))}),a},modifyOption:function(e,t,a){var o;return qe.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[t]=="function"&&(o=i.optionListeners[t].call(e[i.pluginName],a))}),o}};function io(n){var e=n.sortable,t=n.rootEl,a=n.name,o=n.targetEl,i=n.cloneEl,r=n.toEl,s=n.fromEl,l=n.oldIndex,c=n.newIndex,d=n.oldDraggableIndex,m=n.newDraggableIndex,f=n.originalEvent,b=n.putSortable,v=n.extraEventProperties;if(e=e||t&&t[ue],!!e){var y,D=e.options,F="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!Le&&!ft?y=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(a,!0,!0)),y.to=r||t,y.from=s||t,y.item=o||t,y.clone=i,y.oldIndex=l,y.newIndex=c,y.oldDraggableIndex=d,y.newDraggableIndex=m,y.originalEvent=f,y.pullMode=b?b.lastPutMode:void 0;var B=Ie(Ie({},v),ht.getEventProperties(a,e));for(var H in B)y[H]=B[H];t&&t.dispatchEvent(y),D[F]&&D[F].call(e,y)}}var ro=["evt"],de=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.evt,i=Jn(a,ro);ht.pluginEvent.bind(S)(e,t,Ie({dragEl:h,parentEl:K,ghostEl:k,rootEl:z,nextEl:He,lastDownEl:St,cloneEl:q,cloneHidden:Ne,dragStarted:it,putSortable:ae,activeSortable:S.active,originalEvent:o,oldIndex:Ye,oldDraggableIndex:ut,newIndex:me,newDraggableIndex:Pe,hideGhostForTarget:Za,unhideGhostForTarget:Qa,cloneNowHidden:function(){Ne=!0},cloneNowShown:function(){Ne=!1},dispatchSortableEvent:function(s){ce({sortable:t,name:s,originalEvent:o})}},i))};function ce(n){io(Ie({putSortable:ae,cloneEl:q,targetEl:h,rootEl:z,oldIndex:Ye,oldDraggableIndex:ut,newIndex:me,newDraggableIndex:Pe},n))}var h,K,k,z,He,St,q,Ne,Ye,me,ut,Pe,_t,ae,Ge=!1,Pt=!1,Nt=[],Fe,ve,qt,Kt,Sa,ka,it,Ke,pt,mt=!1,yt=!1,kt,re,Gt=[],ia=!1,Ot=[],Mt=typeof document<"u",wt=ua,Ia=ft||Le?"cssFloat":"float",so=Mt&&!Ua&&!ua&&"draggable"in document.createElement("div"),Wa=function(){if(Mt){if(Le)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Xa=function(e,t){var a=E(e),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),i=et(e,0,t),r=et(e,1,t),s=i&&E(i),l=r&&E(r),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+X(i).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+X(r).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&s.float!=="none"){var m=s.float==="left"?"left":"right";return r&&(l.clear==="both"||l.clear===m)?"vertical":"horizontal"}return i&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=o&&a[Ia]==="none"||r&&a[Ia]==="none"&&c+d>o)?"vertical":"horizontal"},lo=function(e,t,a){var o=a?e.left:e.top,i=a?e.right:e.bottom,r=a?e.width:e.height,s=a?t.left:t.top,l=a?t.right:t.bottom,c=a?t.width:t.height;return o===s||i===l||o+r/2===s+c/2},co=function(e,t){var a;return Nt.some(function(o){var i=o[ue].options.emptyInsertThreshold;if(!(!i||pa(o))){var r=X(o),s=e>=r.left-i&&e<=r.right+i,l=t>=r.top-i&&t<=r.bottom+i;if(s&&l)return a=o}}),a},Ja=function(e){function t(i,r){return function(s,l,c,d){var m=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(i==null&&(r||m))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return t(i(s,l,c,d),r)(s,l,c,d);var f=(r?s:l).options.group.name;return i===!0||typeof i=="string"&&i===f||i.join&&i.indexOf(f)>-1}}var a={},o=e.group;(!o||Et(o)!="object")&&(o={name:o}),a.name=o.name,a.checkPull=t(o.pull,!0),a.checkPut=t(o.put),a.revertClone=o.revertClone,e.group=a},Za=function(){!Wa&&k&&E(k,"display","none")},Qa=function(){!Wa&&k&&E(k,"display","")};Mt&&!Ua&&document.addEventListener("click",function(n){if(Pt)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Pt=!1,!1},!0);var $e=function(e){if(h){e=e.touches?e.touches[0]:e;var t=co(e.clientX,e.clientY);if(t){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=e[o]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[ue]._onDragOver(a)}}},uo=function(e){h&&h.parentNode[ue]._isOutsideThisEl(e.target)};function S(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=Te({},e),n[ue]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Xa(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,s){r.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:S.supportPointer!==!1&&"PointerEvent"in window&&(!ct||ua),emptyInsertThreshold:5};ht.initializePlugins(this,n,t);for(var a in t)!(a in e)&&(e[a]=t[a]);Ja(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:so,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?P(n,"pointerdown",this._onTapStart):(P(n,"mousedown",this._onTapStart),P(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(P(n,"dragover",this),P(n,"dragenter",this)),Nt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Te(this,ao())}S.prototype={constructor:S,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ke=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,o=this.options,i=o.preventOnFilter,r=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,d=o.filter;if(_o(a),!h&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||o.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&ct&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=_e(l,o.draggable,a,!1),!(l&&l.animated)&&St!==l)){if(Ye=fe(l),ut=fe(l,o.draggable),typeof d=="function"){if(d.call(this,e,l,this)){ce({sortable:t,rootEl:c,name:"filter",targetEl:l,toEl:a,fromEl:a}),de("filter",t,{evt:e}),i&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(m){if(m=_e(c,m.trim(),a,!1),m)return ce({sortable:t,rootEl:m,name:"filter",targetEl:l,fromEl:a,toEl:a}),de("filter",t,{evt:e}),!0}),d)){i&&e.preventDefault();return}o.handle&&!_e(c,o.handle,a,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,t,a){var o=this,i=o.el,r=o.options,s=i.ownerDocument,l;if(a&&!h&&a.parentNode===i){var c=X(a);if(z=i,h=a,K=h.parentNode,He=h.nextSibling,St=a,_t=r.group,S.dragged=h,Fe={target:h,clientX:(t||e).clientX,clientY:(t||e).clientY},Sa=Fe.clientX-c.left,ka=Fe.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,h.style["will-change"]="all",l=function(){if(de("delayEnded",o,{evt:e}),S.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!ya&&o.nativeDraggable&&(h.draggable=!0),o._triggerDragStart(e,t),ce({sortable:o,name:"choose",originalEvent:e}),pe(h,r.chosenClass,!0)},r.ignore.split(",").forEach(function(d){Va(h,d.trim(),Yt)}),P(s,"dragover",$e),P(s,"mousemove",$e),P(s,"touchmove",$e),r.supportPointer?(P(s,"pointerup",o._onDrop),!this.nativeDraggable&&P(s,"pointercancel",o._onDrop)):(P(s,"mouseup",o._onDrop),P(s,"touchend",o._onDrop),P(s,"touchcancel",o._onDrop)),ya&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),de("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(ft||Le))){if(S.eventCanceled){this._onDrop();return}r.supportPointer?(P(s,"pointerup",o._disableDelayedDrag),P(s,"pointercancel",o._disableDelayedDrag)):(P(s,"mouseup",o._disableDelayedDrag),P(s,"touchend",o._disableDelayedDrag),P(s,"touchcancel",o._disableDelayedDrag)),P(s,"mousemove",o._delayedDragTouchMoveHandler),P(s,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&P(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(l,r.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&Yt(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;L(e,"mouseup",this._disableDelayedDrag),L(e,"touchend",this._disableDelayedDrag),L(e,"touchcancel",this._disableDelayedDrag),L(e,"pointerup",this._disableDelayedDrag),L(e,"pointercancel",this._disableDelayedDrag),L(e,"mousemove",this._delayedDragTouchMoveHandler),L(e,"touchmove",this._delayedDragTouchMoveHandler),L(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?P(document,"pointermove",this._onTouchMove):t?P(document,"touchmove",this._onTouchMove):P(document,"mousemove",this._onTouchMove):(P(h,"dragend",this),P(z,"dragstart",this._onDragStart));try{document.selection?It(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Ge=!1,z&&h){de("dragStarted",this,{evt:t}),this.nativeDraggable&&P(document,"dragover",uo);var a=this.options;!e&&pe(h,a.dragClass,!1),pe(h,a.ghostClass,!0),S.active=this,e&&this._appendGhost(),ce({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ve){this._lastX=ve.clientX,this._lastY=ve.clientY,Za();for(var e=document.elementFromPoint(ve.clientX,ve.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ve.clientX,ve.clientY),e!==t);)t=e;if(h.parentNode[ue]._isOutsideThisEl(e),t)do{if(t[ue]){var a=void 0;if(a=t[ue]._onDragOver({clientX:ve.clientX,clientY:ve.clientY,target:e,rootEl:t}),a&&!this.options.dragoverBubble)break}e=t}while(t=za(t));Qa()}},_onTouchMove:function(e){if(Fe){var t=this.options,a=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,r=k&&Je(k,!0),s=k&&r&&r.a,l=k&&r&&r.d,c=wt&&re&&Ea(re),d=(i.clientX-Fe.clientX+o.x)/(s||1)+(c?c[0]-Gt[0]:0)/(s||1),m=(i.clientY-Fe.clientY+o.y)/(l||1)+(c?c[1]-Gt[1]:0)/(l||1);if(!S.active&&!Ge){if(a&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(k){r?(r.e+=d-(qt||0),r.f+=m-(Kt||0)):r={a:1,b:0,c:0,d:1,e:d,f:m};var f="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");E(k,"webkitTransform",f),E(k,"mozTransform",f),E(k,"msTransform",f),E(k,"transform",f),qt=d,Kt=m,ve=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!k){var e=this.options.fallbackOnBody?document.body:z,t=X(h,!0,wt,!0,e),a=this.options;if(wt){for(re=e;E(re,"position")==="static"&&E(re,"transform")==="none"&&re!==document;)re=re.parentNode;re!==document.body&&re!==document.documentElement?(re===document&&(re=ke()),t.top+=re.scrollTop,t.left+=re.scrollLeft):re=ke(),Gt=Ea(re)}k=h.cloneNode(!0),pe(k,a.ghostClass,!1),pe(k,a.fallbackClass,!0),pe(k,a.dragClass,!0),E(k,"transition",""),E(k,"transform",""),E(k,"box-sizing","border-box"),E(k,"margin",0),E(k,"top",t.top),E(k,"left",t.left),E(k,"width",t.width),E(k,"height",t.height),E(k,"opacity","0.8"),E(k,"position",wt?"absolute":"fixed"),E(k,"zIndex","100000"),E(k,"pointerEvents","none"),S.ghost=k,e.appendChild(k),E(k,"transform-origin",Sa/parseInt(k.style.width)*100+"% "+ka/parseInt(k.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,o=e.dataTransfer,i=a.options;if(de("dragStart",this,{evt:e}),S.eventCanceled){this._onDrop();return}de("setupClone",this),S.eventCanceled||(q=Ga(h),q.removeAttribute("id"),q.draggable=!1,q.style["will-change"]="",this._hideClone(),pe(q,this.options.chosenClass,!1),S.clone=q),a.cloneId=It(function(){de("clone",a),!S.eventCanceled&&(a.options.removeCloneOnHide||z.insertBefore(q,h),a._hideClone(),ce({sortable:a,name:"clone"}))}),!t&&pe(h,i.dragClass,!0),t?(Pt=!0,a._loopId=setInterval(a._emulateDragOver,50)):(L(document,"mouseup",a._onDrop),L(document,"touchend",a._onDrop),L(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(a,o,h)),P(document,"drop",a),E(h,"transform","translateZ(0)")),Ge=!0,a._dragStartId=It(a._dragStarted.bind(a,t,e)),P(document,"selectstart",a),it=!0,window.getSelection().removeAllRanges(),ct&&E(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,a=e.target,o,i,r,s=this.options,l=s.group,c=S.active,d=_t===l,m=s.sort,f=ae||c,b,v=this,y=!1;if(ia)return;function D(A,N){de(A,v,Ie({evt:e,isOwner:d,axis:b?"vertical":"horizontal",revert:r,dragRect:o,targetRect:i,canSort:m,fromSortable:f,target:a,completed:B,onMove:function(Z,le){return xt(z,t,h,o,Z,X(Z),e,le)},changed:H},N))}function F(){D("dragOverAnimationCapture"),v.captureAnimationState(),v!==f&&f.captureAnimationState()}function B(A){return D("dragOverCompleted",{insertion:A}),A&&(d?c._hideClone():c._showClone(v),v!==f&&(pe(h,ae?ae.options.ghostClass:c.options.ghostClass,!1),pe(h,s.ghostClass,!0)),ae!==v&&v!==S.active?ae=v:v===S.active&&ae&&(ae=null),f===v&&(v._ignoreWhileAnimating=a),v.animateAll(function(){D("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===h&&!h.animated||a===t&&!a.animated)&&(Ke=null),!s.dragoverBubble&&!e.rootEl&&a!==document&&(h.parentNode[ue]._isOutsideThisEl(e.target),!A&&$e(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function H(){me=fe(h),Pe=fe(h,s.draggable),ce({sortable:v,name:"change",toEl:t,newIndex:me,newDraggableIndex:Pe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=_e(a,s.draggable,t,!0),D("dragOver"),S.eventCanceled)return y;if(h.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||v._ignoreWhileAnimating===a)return B(!1);if(Pt=!1,c&&!s.disabled&&(d?m||(r=K!==z):ae===this||(this.lastPutMode=_t.checkPull(this,c,h,e))&&l.checkPut(this,c,h,e))){if(b=this._getDirection(e,a)==="vertical",o=X(h),D("dragOverValid"),S.eventCanceled)return y;if(r)return K=z,F(),this._hideClone(),D("revert"),S.eventCanceled||(He?z.insertBefore(h,He):z.appendChild(h)),B(!0);var j=pa(t,s.draggable);if(!j||fo(e,b,this)&&!j.animated){if(j===h)return B(!1);if(j&&t===e.target&&(a=j),a&&(i=X(a)),xt(z,t,h,o,a,i,e,!!a)!==!1)return F(),j&&j.nextSibling?t.insertBefore(h,j.nextSibling):t.appendChild(h),K=t,H(),B(!0)}else if(j&&go(e,b,this)){var ne=et(t,0,s,!0);if(ne===h)return B(!1);if(a=ne,i=X(a),xt(z,t,h,o,a,i,e,!1)!==!1)return F(),t.insertBefore(h,ne),K=t,H(),B(!0)}else if(a.parentNode===t){i=X(a);var se=0,O,$=h.parentNode!==t,V=!lo(h.animated&&h.toRect||o,a.animated&&a.toRect||i,b),oe=b?"top":"left",J=xa(a,"top","top")||xa(h,"top","top"),ee=J?J.scrollTop:void 0;Ke!==a&&(O=i[oe],mt=!1,yt=!V&&s.invertSwap||$),se=ho(e,a,i,b,V?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,yt,Ke===a);var ie;if(se!==0){var x=fe(h);do x-=se,ie=K.children[x];while(ie&&(E(ie,"display")==="none"||ie===k))}if(se===0||ie===a)return B(!1);Ke=a,pt=se;var w=a.nextElementSibling,_=!1;_=se===1;var I=xt(z,t,h,o,a,i,e,_);if(I!==!1)return(I===1||I===-1)&&(_=I===1),ia=!0,setTimeout(mo,30),F(),_&&!w?t.appendChild(h):a.parentNode.insertBefore(h,_?w:a),J&&Ka(J,0,ee-J.scrollTop),K=h.parentNode,O!==void 0&&!yt&&(kt=Math.abs(O-X(a)[oe])),H(),B(!0)}if(t.contains(h))return B(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){L(document,"mousemove",this._onTouchMove),L(document,"touchmove",this._onTouchMove),L(document,"pointermove",this._onTouchMove),L(document,"dragover",$e),L(document,"mousemove",$e),L(document,"touchmove",$e)},_offUpEvents:function(){var e=this.el.ownerDocument;L(e,"mouseup",this._onDrop),L(e,"touchend",this._onDrop),L(e,"pointerup",this._onDrop),L(e,"pointercancel",this._onDrop),L(e,"touchcancel",this._onDrop),L(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;if(me=fe(h),Pe=fe(h,a.draggable),de("drop",this,{evt:e}),K=h&&h.parentNode,me=fe(h),Pe=fe(h,a.draggable),S.eventCanceled){this._nulling();return}Ge=!1,yt=!1,mt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ra(this.cloneId),ra(this._dragStartId),this.nativeDraggable&&(L(document,"drop",this),L(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ct&&E(document.body,"user-select",""),E(h,"transform",""),e&&(it&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),k&&k.parentNode&&k.parentNode.removeChild(k),(z===K||ae&&ae.lastPutMode!=="clone")&&q&&q.parentNode&&q.parentNode.removeChild(q),h&&(this.nativeDraggable&&L(h,"dragend",this),Yt(h),h.style["will-change"]="",it&&!Ge&&pe(h,ae?ae.options.ghostClass:this.options.ghostClass,!1),pe(h,this.options.chosenClass,!1),ce({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:e}),z!==K?(me>=0&&(ce({rootEl:K,name:"add",toEl:K,fromEl:z,originalEvent:e}),ce({sortable:this,name:"remove",toEl:K,originalEvent:e}),ce({rootEl:K,name:"sort",toEl:K,fromEl:z,originalEvent:e}),ce({sortable:this,name:"sort",toEl:K,originalEvent:e})),ae&&ae.save()):me!==Ye&&me>=0&&(ce({sortable:this,name:"update",toEl:K,originalEvent:e}),ce({sortable:this,name:"sort",toEl:K,originalEvent:e})),S.active&&((me==null||me===-1)&&(me=Ye,Pe=ut),ce({sortable:this,name:"end",toEl:K,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){de("nulling",this),z=h=K=k=He=q=St=Ne=Fe=ve=it=me=Pe=Ye=ut=Ke=pt=ae=_t=S.dragged=S.ghost=S.clone=S.active=null,Ot.forEach(function(e){e.checked=!0}),Ot.length=qt=Kt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),po(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,a=this.el.children,o=0,i=a.length,r=this.options;o<i;o++)t=a[o],_e(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||vo(t));return e},sort:function(e,t){var a={},o=this.el;this.toArray().forEach(function(i,r){var s=o.children[r];_e(s,this.options.draggable,o,!1)&&(a[i]=s)},this),t&&this.captureAnimationState(),e.forEach(function(i){a[i]&&(o.removeChild(a[i]),o.appendChild(a[i]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return _e(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(t===void 0)return a[e];var o=ht.modifyOption(this,e,t);typeof o<"u"?a[e]=o:a[e]=t,e==="group"&&Ja(a)},destroy:function(){de("destroy",this);var e=this.el;e[ue]=null,L(e,"mousedown",this._onTapStart),L(e,"touchstart",this._onTapStart),L(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(L(e,"dragover",this),L(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Nt.splice(Nt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ne){if(de("hideClone",this),S.eventCanceled)return;E(q,"display","none"),this.options.removeCloneOnHide&&q.parentNode&&q.parentNode.removeChild(q),Ne=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ne){if(de("showClone",this),S.eventCanceled)return;h.parentNode==z&&!this.options.group.revertClone?z.insertBefore(q,h):He?z.insertBefore(q,He):z.appendChild(q),this.options.group.revertClone&&this.animate(h,q),E(q,"display",""),Ne=!1}}};function po(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function xt(n,e,t,a,o,i,r,s){var l,c=n[ue],d=c.options.onMove,m;return window.CustomEvent&&!Le&&!ft?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=n,l.dragged=t,l.draggedRect=a,l.related=o||e,l.relatedRect=i||X(e),l.willInsertAfter=s,l.originalEvent=r,n.dispatchEvent(l),d&&(m=d.call(c,l,r)),m}function Yt(n){n.draggable=!1}function mo(){ia=!1}function go(n,e,t){var a=X(et(t.el,0,t.options,!0)),o=Ya(t.el,t.options,k),i=10;return e?n.clientX<o.left-i||n.clientY<a.top&&n.clientX<a.right:n.clientY<o.top-i||n.clientY<a.bottom&&n.clientX<a.left}function fo(n,e,t){var a=X(pa(t.el,t.options.draggable)),o=Ya(t.el,t.options,k),i=10;return e?n.clientX>o.right+i||n.clientY>a.bottom&&n.clientX>a.left:n.clientY>o.bottom+i||n.clientX>a.right&&n.clientY>a.top}function ho(n,e,t,a,o,i,r,s){var l=a?n.clientY:n.clientX,c=a?t.height:t.width,d=a?t.top:t.left,m=a?t.bottom:t.right,f=!1;if(!r){if(s&&kt<c*o){if(!mt&&(pt===1?l>d+c*i/2:l<m-c*i/2)&&(mt=!0),mt)f=!0;else if(pt===1?l<d+kt:l>m-kt)return-pt}else if(l>d+c*(1-o)/2&&l<m-c*(1-o)/2)return bo(e)}return f=f||r,f&&(l<d+c*i/2||l>m-c*i/2)?l>d+c/2?1:-1:0}function bo(n){return fe(h)<fe(n)?1:-1}function vo(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,a=0;t--;)a+=e.charCodeAt(t);return a.toString(36)}function _o(n){Ot.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var a=e[t];a.checked&&Ot.push(a)}}function It(n){return setTimeout(n,0)}function ra(n){return clearTimeout(n)}Mt&&P(document,"touchmove",function(n){(S.active||Ge)&&n.cancelable&&n.preventDefault()});S.utils={on:P,off:L,css:E,find:Va,is:function(e,t){return!!_e(e,t,e,!1)},extend:eo,throttle:qa,closest:_e,toggleClass:pe,clone:Ga,index:fe,nextTick:It,cancelNextTick:ra,detectDirection:Xa,getChild:et,expando:ue};S.get=function(n){return n[ue]};S.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(S.utils=Ie(Ie({},S.utils),a.utils)),ht.mount(a)})};S.create=function(n,e){return new S(n,e)};S.version=Zn;var W=[],rt,sa,la=!1,Wt,Xt,Rt,st;function yo(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var a=t.originalEvent;this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):this.options.supportPointer?P(document,"pointermove",this._handleFallbackAutoScroll):a.touches?P(document,"touchmove",this._handleFallbackAutoScroll):P(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var a=t.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?L(document,"dragover",this._handleAutoScroll):(L(document,"pointermove",this._handleFallbackAutoScroll),L(document,"touchmove",this._handleFallbackAutoScroll),L(document,"mousemove",this._handleFallbackAutoScroll)),Aa(),At(),to()},nulling:function(){Rt=sa=rt=la=st=Wt=Xt=null,W.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,a){var o=this,i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(i,r);if(Rt=t,a||this.options.forceAutoScrollFallback||ft||Le||ct){Jt(t,this.options,s,a);var l=Oe(s,!0);la&&(!st||i!==Wt||r!==Xt)&&(st&&Aa(),st=setInterval(function(){var c=Oe(document.elementFromPoint(i,r),!0);c!==l&&(l=c,At()),Jt(t,o.options,c,a)},10),Wt=i,Xt=r)}else{if(!this.options.bubbleScroll||Oe(s,!0)===ke()){At();return}Jt(t,this.options,Oe(s,!1),!1)}}},Te(n,{pluginName:"scroll",initializeByDefault:!0})}function At(){W.forEach(function(n){clearInterval(n.pid)}),W=[]}function Aa(){clearInterval(st)}var Jt=qa(function(n,e,t,a){if(e.scroll){var o=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,r=e.scrollSensitivity,s=e.scrollSpeed,l=ke(),c=!1,d;sa!==t&&(sa=t,At(),rt=e.scroll,d=e.scrollFn,rt===!0&&(rt=Oe(t,!0)));var m=0,f=rt;do{var b=f,v=X(b),y=v.top,D=v.bottom,F=v.left,B=v.right,H=v.width,j=v.height,ne=void 0,se=void 0,O=b.scrollWidth,$=b.scrollHeight,V=E(b),oe=b.scrollLeft,J=b.scrollTop;b===l?(ne=H<O&&(V.overflowX==="auto"||V.overflowX==="scroll"||V.overflowX==="visible"),se=j<$&&(V.overflowY==="auto"||V.overflowY==="scroll"||V.overflowY==="visible")):(ne=H<O&&(V.overflowX==="auto"||V.overflowX==="scroll"),se=j<$&&(V.overflowY==="auto"||V.overflowY==="scroll"));var ee=ne&&(Math.abs(B-o)<=r&&oe+H<O)-(Math.abs(F-o)<=r&&!!oe),ie=se&&(Math.abs(D-i)<=r&&J+j<$)-(Math.abs(y-i)<=r&&!!J);if(!W[m])for(var x=0;x<=m;x++)W[x]||(W[x]={});(W[m].vx!=ee||W[m].vy!=ie||W[m].el!==b)&&(W[m].el=b,W[m].vx=ee,W[m].vy=ie,clearInterval(W[m].pid),(ee!=0||ie!=0)&&(c=!0,W[m].pid=setInterval((function(){a&&this.layer===0&&S.active._onTouchMove(Rt);var w=W[this.layer].vy?W[this.layer].vy*s:0,_=W[this.layer].vx?W[this.layer].vx*s:0;typeof d=="function"&&d.call(S.dragged.parentNode[ue],_,w,n,Rt,W[this.layer].el)!=="continue"||Ka(W[this.layer].el,_,w)}).bind({layer:m}),24))),m++}while(e.bubbleScroll&&f!==l&&(f=Oe(f,!1)));la=c}},30),en=function(e){var t=e.originalEvent,a=e.putSortable,o=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var c=a||i;s();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,m=document.elementFromPoint(d.clientX,d.clientY);l(),c&&!c.el.contains(m)&&(r("spill"),this.onSpill({dragEl:o,putSortable:a}))}};function ma(){}ma.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=et(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:en};Te(ma,{pluginName:"revertOnSpill"});function ga(){}ga.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable,o=a||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:en};Te(ga,{pluginName:"removeOnSpill"});S.mount(new yo);S.mount(ga,ma);function Ft(n,e=!0){const t=document.getElementById("notes-grid");if(!t)return;t.innerHTML="",t.classList.toggle("no-animate",!e);const a=p.currentView==="all"?p.notes.filter(s=>{const l=p.categories.find(c=>c.id===s.categoryId);return!s.deleted&&(!l||!l.passwordHash)}):p.notes.filter(s=>s.categoryId===p.currentView&&!s.deleted),o=a.filter(s=>s.pinned),i=a.filter(s=>!s.pinned),r=s=>{const l=document.createElement("div");l.className="note-card note-animate-in relative group",l.dataset.id=s.id;const c=We.find(b=>b.id===s.themeId)||We[0],d=p.settings.theme==="dark"?c.dark:c.light;s.themeId!=="default"&&(l.style.backgroundColor=d,l.style.borderColor=p.settings.theme==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)");const m=p.categories.find(b=>b.id===s.categoryId),f=p.unlockedNotes.has(s.id);return $t(d),l.innerHTML=`
            <div class="note-card-content flex flex-col h-full">
                <div class="flex items-start justify-between mb-2.5 gap-2">
                    <h3 class="font-bold text-[15px] line-clamp-2 leading-[1.3] flex-1">${s.title}</h3>
                    <div class="flex items-center gap-2 shrink-0 pt-1 opacity-80">
                        ${s.pinned?'<i data-lucide="pin" class="w-3.5 h-3.5 rotate-[15deg]"></i>':""}
                        ${s.passwordHash?`<i data-lucide="${f?"unlock":"lock"}" class="w-3.5 h-3.5 ${f?"text-primary":""}"></i>`:""}
                    </div>
                </div>
                <div class="text-[13px] opacity-75 line-clamp-[8] leading-[1.5] mb-5 flex-1">
                    ${s.passwordHash&&!f?`
                        <div class="flex flex-col items-center gap-3 py-10 opacity-30 justify-center">
                            <i data-lucide="eye-off" class="w-8 h-8"></i>
                            <span class="text-[10px] font-bold uppercase tracking-widest">${u("common.locked")}</span>
                        </div>
                    `:s.content}
                </div>
                <div class="mt-auto pt-2 flex items-center justify-between gap-2 border-t border-foreground/5">
                    <div class="flex-1 min-w-0">
                        ${m?`
                        <span class="inline-flex items-center gap-1.5 text-[9px] px-2.5 py-1 rounded-lg bg-primary/10 text-primary font-black uppercase tracking-[0.15em] border border-primary/10">
                            <i data-lucide="${m.icon||"tag"}" class="w-2.5 h-2.5"></i>
                            <span class="truncate">${m.name}</span>
                        </span>`:""}
                    </div>
                    <button class="delete-note-btn p-1.5 rounded-xl hover:bg-destructive/10 text-muted-foreground/50 hover:text-destructive transition-all opacity-0 group-hover:opacity-100" data-id="${s.id}" title="Eliminar">
                        <i data-lucide="trash-2" class="w-4 h-4"></i>
                    </button>
                </div>
            </div>
        `,l.addEventListener("click",async b=>{var y;const v=b.target.closest(".delete-note-btn");if(v){if(b.preventDefault(),b.stopPropagation(),confirm("Â¿Deseas eliminar esta nota?")){const D=v.dataset.id,F=p.notes.findIndex(B=>B.id===D);F>=0&&(p.notes[F].deleted=!0,p.notes[F].updatedAt=Date.now(),await U(),Ft(n),(y=window.triggerAutoSync)==null||y.call(window))}return}if(s.passwordHash&&!p.unlockedNotes.has(s.id)){try{const D=await Ce(u("common.security_prompt"),u("common.security_desc_prompt"),!0);if(!D)return;let F=!1;if(typeof D=="object"&&D.biometric)F=!0;else{const B=await T.hash(D),H=s.passwordHash==="MASTER"?localStorage.getItem(g.MASTER_HASH):s.passwordHash;B===H&&(F=!0)}F?(p.unlockedNotes.add(s.id),n(s),setTimeout(()=>Ft(n),300)):C(u("auth.incorrect_pass"))}catch(D){console.error("Error unlocking note:",D),C("âŒ Error al desbloquear")}return}n(s)}),l};if(o.length>0){const s=document.createElement("h3");if(s.className="text-xs font-bold text-muted-foreground uppercase tracking-wider col-span-full mb-2 mt-2 flex items-center gap-2",s.innerHTML='<i data-lucide="pin" class="w-3 h-3"></i> '+u("header.pinned"),t.appendChild(s),o.forEach(l=>t.appendChild(r(l))),i.length>0){const l=document.createElement("div");l.className="col-span-full h-px bg-border my-4",t.appendChild(l)}}if(i.length>0){if(o.length>0){const s=document.createElement("h3");s.className="text-xs font-bold text-muted-foreground uppercase tracking-wider col-span-full mb-2 mt-2",s.innerText=u("sidebar.all_notes"),t.appendChild(s)}i.forEach(s=>t.appendChild(r(s)))}a.length===0&&(t.innerHTML=`<div class="col-span-full text-center py-20 text-muted-foreground opacity-50">
            <i data-lucide="ghost" class="w-12 h-12 mx-auto mb-4 opacity-50"></i>
            <p>${u("notes.no_notes")}</p>
        </div>`),M()}class tn{static async createBackupData(){return{notes:p.notes,categories:p.categories,timestamp:Date.now(),version:"3.0"}}static async exportToFile(){const e=sessionStorage.getItem(g.VAULT_KEY)||localStorage.getItem(g.VAULT_KEY);if(!e)throw new Error("Vault not unlocked");const t=await this.createBackupData(),a=await T.encrypt(t,e),o=new Blob([JSON.stringify(a)],{type:"application/json"}),i=URL.createObjectURL(o),r=document.createElement("a"),s=new Date().toISOString().split("T")[0];r.href=i,r.download=`private_notes_backup_${s}.cnb`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)}static async importFromFile(e){return new Promise((t,a)=>{const o=new FileReader;o.onload=async i=>{try{const r=JSON.parse(i.target.result),s=sessionStorage.getItem(g.VAULT_KEY)||localStorage.getItem(g.VAULT_KEY);if(!s)throw new Error("Vault not unlocked");const l=await T.decrypt(r,s);if(l&&l.notes&&l.categories)p.notes=l.notes,p.categories=l.categories,await U(),t(!0);else throw new Error("Invalid backup format")}catch(r){console.error("Import error:",r),a(r)}},o.onerror=()=>a(new Error("File reading error")),o.readAsText(e)})}static async runAutoBackup(){const e=this.getLocalBackups(),t=Date.now(),a=e.length>0?e[0].timestamp:0,o=24*60*60*1e3;t-a>o&&(console.log("[Backup] Running daily auto-backup..."),await this.saveLocalBackup())}static getLocalBackups(){const e=localStorage.getItem(g.BACKUPS);return e?JSON.parse(e):[]}static async saveLocalBackup(){const e=sessionStorage.getItem(g.VAULT_KEY)||localStorage.getItem(g.VAULT_KEY);if(!e)return;const t=await this.createBackupData(),a=await T.encrypt(t,e),o=this.getLocalBackups(),r=[{id:"bak_"+Date.now(),timestamp:Date.now(),data:a},...o].slice(0,7);localStorage.setItem(g.BACKUPS,JSON.stringify(r))}static async restoreFromLocal(e){const a=this.getLocalBackups().find(r=>r.id===e);if(!a)throw new Error("Backup not found");const o=sessionStorage.getItem(g.VAULT_KEY)||localStorage.getItem(g.VAULT_KEY),i=await T.decrypt(a.data,o);if(i&&i.notes&&i.categories)return p.notes=i.notes,p.categories=i.categories,await U(),!0;throw new Error("Invalid backup data")}static clearAllBackups(){localStorage.removeItem(g.BACKUPS)}}const at=Object.freeze(Object.defineProperty({__proto__:null,BackupService:tn},Symbol.toStringTag,{value:"Module"}));let nt=null;async function Ca(){console.log("Iniciando aplicaciÃ³n modular..."),Cn(),navigator.storage&&navigator.storage.persist&&navigator.storage.persist().then(e=>{e&&console.log("[Storage] Persistence granted")}),Lo();const n=localStorage.getItem(g.VAULT_KEY);n&&sessionStorage.setItem(g.VAULT_KEY,n),wo(),An(),nn(),On(ye),Gn(),xo(),localStorage.setItem(g.LAST_VERSION,Pa),await $a(async()=>{ye();const e=sessionStorage.getItem(g.VAULT_KEY)||localStorage.getItem(g.VAULT_KEY);window.triggerAutoSync=()=>Ct(e),e&&(await Io(e),await Ct(e),setInterval(()=>Ct(e),5*60*1e3))}),tn.runAutoBackup(),typeof Ta=="function"&&Ta(),Eo(),ko(),So(),Co(),To(),M(),console.log("AplicaciÃ³n lista.")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ca):Ca();function wo(){const n=document.getElementById("root");if(!n)return console.error("No se encontrÃ³ el elemento #root");n.innerHTML=`
        ${Fa()}
        ${Pn()}
        ${Nn()}
        ${Mn()}
        ${Kn()}
        ${Yn()}
    `,console.log("Estructura inyectada.")}function ye(n=!0){Ft(lt,n),da(Ht,p.categories),an(),M()}function Ht(n,e){p.currentView=n,an(e),Ft(lt,!1),document.querySelectorAll("[data-view]").forEach(t=>{t.classList.toggle("active",t.dataset.view===n)}),da(Ht)}function an(n=null){const e=document.getElementById("view-title"),t=document.getElementById("view-desc");if(!e)return;const a=p.categories.find(i=>i.id===p.currentView),o=n||(a?a.name:u("header.view_title_all"));e.innerText=o,t&&(t.innerText=p.currentView==="all"?"Organiza tus pensamientos y protege tu privacidad.":"",t.style.display=p.currentView==="all"?"block":"none")}function nn(){const n=p.settings.theme==="dark";document.documentElement.classList.toggle("dark",n),document.documentElement.classList.toggle("light",!n)}function R(n,e){const t=document.getElementById(n);t&&(t.onclick=e)}function xo(){R("add-note-btn",()=>lt()),R("mobile-add-btn",()=>lt()),R("settings-trigger",Zt),R("mobile-settings-btn",()=>{Ue(),Zt()}),R("mobile-settings-btn-nav",Zt);const n=()=>{window.triggerAutoSync&&(window.triggerAutoSync(),C("ðŸ”„ Buscando cambios..."))};R("sidebar-sync-btn",n),R("mobile-sync-btn",()=>{Ue(),n()}),R("sidebar-collapse-btn",()=>{const r=document.querySelector("aside");r.classList.toggle("collapsed");const s=r.classList.contains("collapsed");localStorage.setItem("sidebar_collapsed",s),on()}),R("mobile-force-reload-btn",oa),document.body.addEventListener("click",r=>{r.target.closest("#logout-btn, #mobile-logout-btn")&&Da(),r.target.id==="mobile-sidebar-overlay"&&Ue()}),R("save-security-config",async()=>{p.settings.algo=document.getElementById("config-algo").value,await U(),C("âœ… ConfiguraciÃ³n guardada")}),R("theme-light",()=>Ba("light")),R("theme-dark",()=>Ba("dark")),document.querySelectorAll(".nav-link[data-view], .nav-link-mobile[data-view], .nav-link-mobile-drawer[data-view]").forEach(r=>{r.onclick=()=>{const s=r.dataset.view,l=p.categories.find(d=>d.id===s),c=l?l.name:s==="all"?u("header.view_title_all"):"";Ht(s,c),Ue()}}),document.querySelectorAll(".nav-link-mobile-drawer[data-category]").forEach(r=>{r.onclick=s=>{s.preventDefault();const l=r.dataset.category;p.currentView=l,document.querySelectorAll(".nav-link[data-view], .nav-link-mobile[data-view]").forEach(c=>c.classList.remove("active")),document.querySelectorAll("#sidebar-categories .nav-link").forEach(c=>c.classList.remove("active")),document.querySelectorAll(".nav-link-mobile-drawer").forEach(c=>{const d=c.dataset.category===l;c.classList.toggle("active",d);const m=c.querySelector("i");m&&m.classList.toggle("text-primary",d);const f=c.querySelector("span");f&&f.classList.toggle("text-primary",d)}),Ue(),ye()}}),R("sidebar-manage-cats",La),R("mobile-manage-cats",()=>{Ue(),La()}),R("add-cat-btn",Ao);const a=r=>{const s=r.target.closest("#settings-modal, #categories-modal, #editor-modal");s&&(s.classList.add("hidden"),document.body.classList.remove("ov-hidden"))};document.querySelectorAll(".close-modal, .close-settings, .close-categories, .close-editor").forEach(r=>{r.onclick=a}),document.body.addEventListener("click",r=>{const s=r.target.closest(".toggle-pass");if(!s)return;const l=document.getElementById(s.dataset.target);if(!l)return;const c=l.type==="password";l.type=c?"text":"password",s.innerHTML=`<i data-lucide="${c?"eye-off":"eye"}" class="w-4 h-4"></i>`,M()}),document.body.addEventListener("keydown",r=>{if(r.key==="Enter"){const s=document.getElementById("auth-shield");if(s&&!s.classList.contains("hidden")){const l=document.getElementById("master-password"),c=document.getElementById("confirm-password");(document.activeElement===l||document.activeElement===c)&&ta(ye)}}}),R("auth-submit",()=>ta(ye)),R("auth-biometric",()=>{G(()=>Promise.resolve().then(()=>Bn),void 0,import.meta.url).then(r=>{r.handleBiometricAuth(ye)})}),R("auth-options-toggle",()=>{const r=document.getElementById("auth-maintenance-menu");r&&r.classList.toggle("hidden")}),R("auth-reload-btn",oa),R("auth-reset-btn",async()=>{if(confirm(u("settings.reset_warning"))){const r=u("settings.reset_keyword");prompt(u("settings.reset_confirm_label"))===r&&(localStorage.clear(),sessionStorage.clear(),window.indexedDB.databases&&(await window.indexedDB.databases()).forEach(c=>window.indexedDB.deleteDatabase(c.name)),location.reload())}});const o=document.getElementById("factory-reset-confirm"),i=document.getElementById("factory-reset");if(o&&i){const r=u("settings.reset_keyword").toLowerCase();o.oninput=()=>{i.disabled=o.value.toLowerCase()!==r},i.onclick=()=>{o.value.toLowerCase()===r&&(localStorage.clear(),sessionStorage.clear(),location.reload())}}document.addEventListener("visibilitychange",()=>{if(document.visibilityState==="visible"){const r=sessionStorage.getItem(g.VAULT_KEY)||localStorage.getItem(g.VAULT_KEY);r&&(localStorage.getItem(g.APP_LOCK)!=="false"?(console.log("[Lock] App re-focused, locking..."),Ma()):Ct(r))}}),window.handleLogout=Da,window.openEditor=lt}function Ta(){const n=a=>{const o=a.target.value.toLowerCase();document.querySelectorAll(".note-card").forEach(r=>{const s=p.notes.find(c=>c.id===r.dataset.id);if(!s)return;const l=s.title.toLowerCase().includes(o)||s.content.toLowerCase().includes(o);r.classList.toggle("hidden",!l)})},e=document.getElementById("search-input"),t=document.getElementById("mobile-search-input-top");e&&(e.oninput=n),t&&(t.oninput=n)}function Eo(){const n=document.getElementById("mobile-sidebar-overlay"),e=()=>{n==null||n.classList.remove("hidden"),da(Ht,p.categories)};R("mobile-sidebar-trigger",e),R("mobile-sidebar-trigger-bottom",e),R("close-mobile-sidebar",Ue);const t=document.getElementById("mobile-search-bar"),a=document.getElementById("mobile-search-input-top"),o=()=>{t==null||t.classList.remove("hidden"),a==null||a.focus()};R("mobile-search-btn",o),R("mobile-search-trigger",o),R("close-mobile-search",()=>{t&&t.classList.add("hidden"),a&&(a.value="",a.dispatchEvent(new Event("input")))}),R("mobile-search-trigger",async()=>{const i=await Ce("Buscar Notas","Ingresa tÃ©rmino de bÃºsqueda:",!1);if(i!==null){const r=document.getElementById("search-input");if(r){r.value=i,r.dispatchEvent(new Event("input"));const s=document.getElementById("notes-viewport");s&&(s.scrollTop=0)}}})}function So(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{console.log("SW registrado corectamente:",e.scope)}).catch(e=>{console.log("Fallo al registrar SW:",e)})})}function ko(){window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),nt=e,["pwa-install-btn","sidebar-pwa-install-btn","mobile-pwa-install-btn"].forEach(a=>{var o;return(o=document.getElementById(a))==null?void 0:o.classList.remove("hidden")})});const n=async()=>{if(!nt)return;nt.prompt();const{outcome:e}=await nt.userChoice;e==="accepted"&&["pwa-install-btn","sidebar-pwa-install-btn","mobile-pwa-install-btn"].forEach(a=>{var o;return(o=document.getElementById(a))==null?void 0:o.classList.add("hidden")}),nt=null};R("pwa-install-btn",n),R("sidebar-pwa-install-btn",n),R("mobile-pwa-install-btn",n)}async function Io(n){const e=localStorage.getItem(g.DRAFT);if(e)try{const t=await T.decrypt(JSON.parse(e),n);if(t){console.log("Restaurando borrador localizado...");const a=p.notes.findIndex(o=>o.id===t.id);a>=0?t.updatedAt>p.notes[a].updatedAt&&(p.notes[a]={...p.notes[a],...t}):p.notes.unshift({...t,pinned:t.pinned||!1,passwordHash:t.passwordHash||null,createdAt:t.createdAt||t.updatedAt,deleted:!1}),await U(),localStorage.removeItem(g.DRAFT),C("ðŸ“ Borrador recuperado automÃ¡ticamente"),ye()}}catch(t){console.error("Error al restaurar borrador (posiblemente contraseÃ±a diferente):",t)}}function La(){const n=document.getElementById("categories-modal");n&&(n.classList.remove("hidden"),Re(ye,p.categories))}function Ue(){const n=document.getElementById("mobile-sidebar-overlay"),e=document.getElementById("mobile-sidebar-drawer");!n||n.classList.contains("hidden")||(e?(e.classList.add("animate-out","slide-out-to-left"),n.classList.add("fade-out"),setTimeout(()=>{n.classList.add("hidden"),e.classList.remove("animate-out","slide-out-to-left")},200)):n.classList.add("hidden"))}async function Ao(){const n=document.getElementById("new-cat-name"),e=n==null?void 0:n.value.trim();if(!e)return;const t=document.getElementById("new-cat-icon-preview"),a=t?t.getAttribute("data-lucide"):"tag",o={id:"cat_"+Date.now(),name:e,icon:a,passwordHash:null};p.categories.push(o),await U(),n&&(n.value=""),Re(ye,p.categories),ye()}async function Ct(n){if(n)try{const{FileStorage:e}=await G(async()=>{const{FileStorage:r}=await Promise.resolve().then(()=>Xe);return{FileStorage:r}},void 0,import.meta.url);if(!await e.getHandle(!1))return;const a=await e.getMetadata(n);if(!a)return;const o=a.updatedAt||0,i=p.settings.lastFolderUpdate||0;if(o>i+1e3||p.notes.length===0){console.log(`[Sync] Folder is newer (${o} > ${i}). Pulling...`);const r=await e.pullData(n);r&&(p.notes=r.notes,p.categories=r.categories||[],p.settings.lastFolderUpdate=o,await U(),ye(),C("âœ… Notas actualizadas desde la carpeta"))}}catch(e){console.warn("[Sync] Auto-check failed",e)}}async function Da(){const n=localStorage.getItem(g.LOCAL_SYNC_FOLDER);localStorage.clear(),sessionStorage.clear(),n&&localStorage.setItem(g.LOCAL_SYNC_FOLDER,n),location.reload()}function Co(){["app-version","settings-version-display","mobile-app-version"].forEach(n=>{const e=document.getElementById(n);e&&(e.innerText=Pa)})}function Zt(){const n=document.getElementById("settings-modal");if(n){n.classList.remove("hidden"),document.getElementById("config-algo").value=p.settings.algo;const e=n.querySelector('.settings-tab[data-tab="appearance"]');if(e&&window.innerWidth>=768&&e.click(),window.innerWidth<768){const t=document.getElementById("settings-sidebar"),a=document.getElementById("settings-content-area");t&&a&&(t.classList.remove("hidden"),a.classList.add("hidden"))}}}function To(){const n=localStorage.getItem("sidebar_collapsed")==="true",e=document.querySelector("aside");e&&n&&(e.classList.add("collapsed"),on())}function on(){const n=document.querySelector("aside");if(!n)return;const e=n.classList.contains("collapsed"),t=document.getElementById("sidebar-collapse-icon");t&&(t.setAttribute("data-lucide",e?"chevrons-right":"chevrons-left"),M())}function Ba(n){p.settings.theme=n,nn(),U()}function Lo(){const n={cn_master_hash_v3:g.MASTER_HASH,cn_notes_v3_enc:g.NOTES_ENC,cn_categories_v3_enc:g.CATEGORIES_ENC,cn_vault_key_v3:g.VAULT_KEY,cn_settings_v3:g.SETTINGS,cn_remember_me_v3:g.REMEMBER_ME,cn_last_version_v3:g.LAST_VERSION,cn_backups_v3:g.BACKUPS};let e=!1;try{const i=localStorage.getItem(g.NOTES);i&&i.includes('"payload":')&&(console.log("[Migration] Recovering encrypted notes from plain key..."),localStorage.setItem(g.NOTES_ENC,i),localStorage.removeItem(g.NOTES),e=!0);const r=localStorage.getItem(g.CATEGORIES);r&&r.includes('"payload":')&&(console.log("[Migration] Recovering encrypted categories from plain key..."),localStorage.setItem(g.CATEGORIES_ENC,r),localStorage.removeItem(g.CATEGORIES),e=!0)}catch(i){console.error("[Migration] Recovery check failed",i)}for(const[i,r]of Object.entries(n)){if(!r)continue;const s=localStorage.getItem(i);s&&!localStorage.getItem(r)&&(localStorage.setItem(r,s),e=!0,console.log(`[Migration] Migrated ${i} -> ${r} (localStorage)`))}const t="cn_vault_key_v3",a=g.VAULT_KEY,o=sessionStorage.getItem(t);o&&!sessionStorage.getItem(a)&&(sessionStorage.setItem(a,o),e=!0,console.log(`[Migration] Migrated ${t} -> ${a} (sessionStorage)`)),e&&console.log("[Migration] Storage migration completed.")}export{je as E,Ra as W,En as b,ca as r};
